function wv(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ev(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tv={exports:{}},ic={},Iv={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ha=Symbol.for("react.element"),$1=Symbol.for("react.portal"),q1=Symbol.for("react.fragment"),H1=Symbol.for("react.strict_mode"),W1=Symbol.for("react.profiler"),K1=Symbol.for("react.provider"),Q1=Symbol.for("react.context"),G1=Symbol.for("react.forward_ref"),Y1=Symbol.for("react.suspense"),X1=Symbol.for("react.memo"),J1=Symbol.for("react.lazy"),Im=Symbol.iterator;function Z1(t){return t===null||typeof t!="object"?null:(t=Im&&t[Im]||t["@@iterator"],typeof t=="function"?t:null)}var Sv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Av=Object.assign,Rv={};function fo(t,e,n){this.props=t,this.context=e,this.refs=Rv,this.updater=n||Sv}fo.prototype.isReactComponent={};fo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};fo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Cv(){}Cv.prototype=fo.prototype;function Zd(t,e,n){this.props=t,this.context=e,this.refs=Rv,this.updater=n||Sv}var ef=Zd.prototype=new Cv;ef.constructor=Zd;Av(ef,fo.prototype);ef.isPureReactComponent=!0;var Sm=Array.isArray,Pv=Object.prototype.hasOwnProperty,tf={current:null},xv={key:!0,ref:!0,__self:!0,__source:!0};function kv(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Pv.call(e,r)&&!xv.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Ha,type:t,key:s,ref:o,props:i,_owner:tf.current}}function eT(t,e){return{$$typeof:Ha,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function nf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ha}function tT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Am=/\/+/g;function Wc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?tT(""+t.key):e.toString(36)}function Kl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ha:case $1:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Wc(o,0):r,Sm(i)?(n="",t!=null&&(n=t.replace(Am,"$&/")+"/"),Kl(i,e,n,"",function(c){return c})):i!=null&&(nf(i)&&(i=eT(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Am,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Sm(t))for(var l=0;l<t.length;l++){s=t[l];var u=r+Wc(s,l);o+=Kl(s,e,n,u,i)}else if(u=Z1(t),typeof u=="function")for(t=u.call(t),l=0;!(s=t.next()).done;)s=s.value,u=r+Wc(s,l++),o+=Kl(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function El(t,e,n){if(t==null)return t;var r=[],i=0;return Kl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function nT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var on={current:null},Ql={transition:null},rT={ReactCurrentDispatcher:on,ReactCurrentBatchConfig:Ql,ReactCurrentOwner:tf};function Dv(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:El,forEach:function(t,e,n){El(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return El(t,function(){e++}),e},toArray:function(t){return El(t,function(e){return e})||[]},only:function(t){if(!nf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=fo;Ie.Fragment=q1;Ie.Profiler=W1;Ie.PureComponent=Zd;Ie.StrictMode=H1;Ie.Suspense=Y1;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rT;Ie.act=Dv;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Av({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=tf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Pv.call(e,u)&&!xv.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:Ha,type:t.type,key:i,ref:s,props:r,_owner:o}};Ie.createContext=function(t){return t={$$typeof:Q1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:K1,_context:t},t.Consumer=t};Ie.createElement=kv;Ie.createFactory=function(t){var e=kv.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:G1,render:t}};Ie.isValidElement=nf;Ie.lazy=function(t){return{$$typeof:J1,_payload:{_status:-1,_result:t},_init:nT}};Ie.memo=function(t,e){return{$$typeof:X1,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=Ql.transition;Ql.transition={};try{t()}finally{Ql.transition=e}};Ie.unstable_act=Dv;Ie.useCallback=function(t,e){return on.current.useCallback(t,e)};Ie.useContext=function(t){return on.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return on.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return on.current.useEffect(t,e)};Ie.useId=function(){return on.current.useId()};Ie.useImperativeHandle=function(t,e,n){return on.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return on.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return on.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return on.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return on.current.useReducer(t,e,n)};Ie.useRef=function(t){return on.current.useRef(t)};Ie.useState=function(t){return on.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return on.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return on.current.useTransition()};Ie.version="18.3.1";Iv.exports=Ie;var H=Iv.exports;const vn=Ev(H),iT=wv({__proto__:null,default:vn},[H]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sT=H,oT=Symbol.for("react.element"),aT=Symbol.for("react.fragment"),lT=Object.prototype.hasOwnProperty,uT=sT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cT={key:!0,ref:!0,__self:!0,__source:!0};function Nv(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)lT.call(e,r)&&!cT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:oT,type:t,key:s,ref:o,props:i,_owner:uT.current}}ic.Fragment=aT;ic.jsx=Nv;ic.jsxs=Nv;Tv.exports=ic;var j=Tv.exports,Vv={exports:{}},An={},bv={exports:{}},Lv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,ee){var fe=G.length;G.push(ee);e:for(;0<fe;){var be=fe-1>>>1,Ee=G[be];if(0<i(Ee,ee))G[be]=ee,G[fe]=Ee,fe=be;else break e}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var ee=G[0],fe=G.pop();if(fe!==ee){G[0]=fe;e:for(var be=0,Ee=G.length,ke=Ee>>>1;be<ke;){var Tt=2*(be+1)-1,kt=G[Tt],et=Tt+1,pt=G[et];if(0>i(kt,fe))et<Ee&&0>i(pt,kt)?(G[be]=pt,G[et]=fe,be=et):(G[be]=kt,G[Tt]=fe,be=Tt);else if(et<Ee&&0>i(pt,fe))G[be]=pt,G[et]=fe,be=et;else break e}}return ee}function i(G,ee){var fe=G.sortIndex-ee.sortIndex;return fe!==0?fe:G.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,m=null,g=3,_=!1,P=!1,D=!1,V=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(G){for(var ee=n(c);ee!==null;){if(ee.callback===null)r(c);else if(ee.startTime<=G)r(c),ee.sortIndex=ee.expirationTime,e(u,ee);else break;ee=n(c)}}function b(G){if(D=!1,A(G),!P)if(n(u)!==null)P=!0,He(B);else{var ee=n(c);ee!==null&&je(b,ee.startTime-G)}}function B(G,ee){P=!1,D&&(D=!1,S(p),p=-1),_=!0;var fe=g;try{for(A(ee),m=n(u);m!==null&&(!(m.expirationTime>ee)||G&&!R());){var be=m.callback;if(typeof be=="function"){m.callback=null,g=m.priorityLevel;var Ee=be(m.expirationTime<=ee);ee=t.unstable_now(),typeof Ee=="function"?m.callback=Ee:m===n(u)&&r(u),A(ee)}else r(u);m=n(u)}if(m!==null)var ke=!0;else{var Tt=n(c);Tt!==null&&je(b,Tt.startTime-ee),ke=!1}return ke}finally{m=null,g=fe,_=!1}}var q=!1,E=null,p=-1,w=5,I=-1;function R(){return!(t.unstable_now()-I<w)}function C(){if(E!==null){var G=t.unstable_now();I=G;var ee=!0;try{ee=E(!0,G)}finally{ee?T():(q=!1,E=null)}}else q=!1}var T;if(typeof y=="function")T=function(){y(C)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,xe=de.port2;de.port1.onmessage=C,T=function(){xe.postMessage(null)}}else T=function(){V(C,0)};function He(G){E=G,q||(q=!0,T())}function je(G,ee){p=V(function(){G(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){P||_||(P=!0,He(B))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(G){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var fe=g;g=ee;try{return G()}finally{g=fe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,ee){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var fe=g;g=G;try{return ee()}finally{g=fe}},t.unstable_scheduleCallback=function(G,ee,fe){var be=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?be+fe:be):fe=be,G){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=fe+Ee,G={id:d++,callback:ee,priorityLevel:G,startTime:fe,expirationTime:Ee,sortIndex:-1},fe>be?(G.sortIndex=fe,e(c,G),n(u)===null&&G===n(c)&&(D?(S(p),p=-1):D=!0,je(b,fe-be))):(G.sortIndex=Ee,e(u,G),P||_||(P=!0,He(B))),G},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(G){var ee=g;return function(){var fe=g;g=ee;try{return G.apply(this,arguments)}finally{g=fe}}}})(Lv);bv.exports=Lv;var hT=bv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dT=H,Sn=hT;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ov=new Set,ya={};function us(t,e){Xs(t,e),Xs(t+"Capture",e)}function Xs(t,e){for(ya[t]=e,t=0;t<e.length;t++)Ov.add(e[t])}var kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mh=Object.prototype.hasOwnProperty,fT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Rm={},Cm={};function pT(t){return Mh.call(Cm,t)?!0:Mh.call(Rm,t)?!1:fT.test(t)?Cm[t]=!0:(Rm[t]=!0,!1)}function mT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gT(t,e,n,r){if(e===null||typeof e>"u"||mT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function an(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mt[t]=new an(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mt[e]=new an(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mt[t]=new an(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mt[t]=new an(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mt[t]=new an(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mt[t]=new an(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mt[t]=new an(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mt[t]=new an(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mt[t]=new an(t,5,!1,t.toLowerCase(),null,!1,!1)});var rf=/[\-:]([a-z])/g;function sf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(rf,sf);Mt[e]=new an(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(rf,sf);Mt[e]=new an(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(rf,sf);Mt[e]=new an(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mt[t]=new an(t,1,!1,t.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new an("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mt[t]=new an(t,1,!1,t.toLowerCase(),null,!0,!0)});function of(t,e,n,r){var i=Mt.hasOwnProperty(e)?Mt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gT(e,n,i,r)&&(n=null),r||i===null?pT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fr=dT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tl=Symbol.for("react.element"),ks=Symbol.for("react.portal"),Ds=Symbol.for("react.fragment"),af=Symbol.for("react.strict_mode"),Fh=Symbol.for("react.profiler"),Mv=Symbol.for("react.provider"),Fv=Symbol.for("react.context"),lf=Symbol.for("react.forward_ref"),Uh=Symbol.for("react.suspense"),jh=Symbol.for("react.suspense_list"),uf=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),Uv=Symbol.for("react.offscreen"),Pm=Symbol.iterator;function Vo(t){return t===null||typeof t!="object"?null:(t=Pm&&t[Pm]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,Kc;function Ko(t){if(Kc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kc=e&&e[1]||""}return`
`+Kc+t}var Qc=!1;function Gc(t,e){if(!t||Qc)return"";Qc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Qc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ko(t):""}function yT(t){switch(t.tag){case 5:return Ko(t.type);case 16:return Ko("Lazy");case 13:return Ko("Suspense");case 19:return Ko("SuspenseList");case 0:case 2:case 15:return t=Gc(t.type,!1),t;case 11:return t=Gc(t.type.render,!1),t;case 1:return t=Gc(t.type,!0),t;default:return""}}function Bh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ds:return"Fragment";case ks:return"Portal";case Fh:return"Profiler";case af:return"StrictMode";case Uh:return"Suspense";case jh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fv:return(t.displayName||"Context")+".Consumer";case Mv:return(t._context.displayName||"Context")+".Provider";case lf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case uf:return e=t.displayName||null,e!==null?e:Bh(t.type)||"Memo";case Gr:e=t._payload,t=t._init;try{return Bh(t(e))}catch{}}return null}function vT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bh(e);case 8:return e===af?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function yi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _T(t){var e=jv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Il(t){t._valueTracker||(t._valueTracker=_T(t))}function Bv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zh(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=yi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zv(t,e){e=e.checked,e!=null&&of(t,"checked",e,!1)}function $h(t,e){zv(t,e);var n=yi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?qh(t,e.type,n):e.hasOwnProperty("defaultValue")&&qh(t,e.type,yi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function km(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function qh(t,e,n){(e!=="number"||mu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qo=Array.isArray;function qs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Hh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Qo(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:yi(n)}}function $v(t,e){var n=yi(e.value),r=yi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Nm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sl,Hv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sl=Sl||document.createElement("div"),Sl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function va(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ta={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wT=["Webkit","ms","Moz","O"];Object.keys(ta).forEach(function(t){wT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ta[e]=ta[t]})});function Wv(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ta.hasOwnProperty(t)&&ta[t]?(""+e).trim():e+"px"}function Kv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Wv(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ET=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kh(t,e){if(e){if(ET[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Qh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gh=null;function cf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Yh=null,Hs=null,Ws=null;function Vm(t){if(t=Qa(t)){if(typeof Yh!="function")throw Error(K(280));var e=t.stateNode;e&&(e=uc(e),Yh(t.stateNode,t.type,e))}}function Qv(t){Hs?Ws?Ws.push(t):Ws=[t]:Hs=t}function Gv(){if(Hs){var t=Hs,e=Ws;if(Ws=Hs=null,Vm(t),e)for(t=0;t<e.length;t++)Vm(e[t])}}function Yv(t,e){return t(e)}function Xv(){}var Yc=!1;function Jv(t,e,n){if(Yc)return t(e,n);Yc=!0;try{return Yv(t,e,n)}finally{Yc=!1,(Hs!==null||Ws!==null)&&(Xv(),Gv())}}function _a(t,e){var n=t.stateNode;if(n===null)return null;var r=uc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Xh=!1;if(kr)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){Xh=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{Xh=!1}function TT(t,e,n,r,i,s,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var na=!1,gu=null,yu=!1,Jh=null,IT={onError:function(t){na=!0,gu=t}};function ST(t,e,n,r,i,s,o,l,u){na=!1,gu=null,TT.apply(IT,arguments)}function AT(t,e,n,r,i,s,o,l,u){if(ST.apply(this,arguments),na){if(na){var c=gu;na=!1,gu=null}else throw Error(K(198));yu||(yu=!0,Jh=c)}}function cs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Zv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bm(t){if(cs(t)!==t)throw Error(K(188))}function RT(t){var e=t.alternate;if(!e){if(e=cs(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return bm(i),t;if(s===r)return bm(i),e;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function e_(t){return t=RT(t),t!==null?t_(t):null}function t_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=t_(t);if(e!==null)return e;t=t.sibling}return null}var n_=Sn.unstable_scheduleCallback,Lm=Sn.unstable_cancelCallback,CT=Sn.unstable_shouldYield,PT=Sn.unstable_requestPaint,ft=Sn.unstable_now,xT=Sn.unstable_getCurrentPriorityLevel,hf=Sn.unstable_ImmediatePriority,r_=Sn.unstable_UserBlockingPriority,vu=Sn.unstable_NormalPriority,kT=Sn.unstable_LowPriority,i_=Sn.unstable_IdlePriority,sc=null,dr=null;function DT(t){if(dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(sc,t,void 0,(t.current.flags&128)===128)}catch{}}var Jn=Math.clz32?Math.clz32:bT,NT=Math.log,VT=Math.LN2;function bT(t){return t>>>=0,t===0?32:31-(NT(t)/VT|0)|0}var Al=64,Rl=4194304;function Go(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _u(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Go(l):(s&=o,s!==0&&(r=Go(s)))}else o=n&~i,o!==0?r=Go(o):s!==0&&(r=Go(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Jn(e),i=1<<n,r|=t[n],e&=~i;return r}function LT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Jn(s),l=1<<o,u=i[o];u===-1?(!(l&n)||l&r)&&(i[o]=LT(l,e)):u<=e&&(t.expiredLanes|=l),s&=~l}}function Zh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function s_(){var t=Al;return Al<<=1,!(Al&4194240)&&(Al=64),t}function Xc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Wa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jn(e),t[e]=n}function MT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Jn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function df(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Jn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Me=0;function o_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var a_,ff,l_,u_,c_,ed=!1,Cl=[],si=null,oi=null,ai=null,wa=new Map,Ea=new Map,Xr=[],FT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Om(t,e){switch(t){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":oi=null;break;case"mouseover":case"mouseout":ai=null;break;case"pointerover":case"pointerout":wa.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ea.delete(e.pointerId)}}function Lo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Qa(e),e!==null&&ff(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function UT(t,e,n,r,i){switch(e){case"focusin":return si=Lo(si,t,e,n,r,i),!0;case"dragenter":return oi=Lo(oi,t,e,n,r,i),!0;case"mouseover":return ai=Lo(ai,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return wa.set(s,Lo(wa.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ea.set(s,Lo(Ea.get(s)||null,t,e,n,r,i)),!0}return!1}function h_(t){var e=Bi(t.target);if(e!==null){var n=cs(e);if(n!==null){if(e=n.tag,e===13){if(e=Zv(n),e!==null){t.blockedOn=e,c_(t.priority,function(){l_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=td(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gh=r,n.target.dispatchEvent(r),Gh=null}else return e=Qa(n),e!==null&&ff(e),t.blockedOn=n,!1;e.shift()}return!0}function Mm(t,e,n){Gl(t)&&n.delete(e)}function jT(){ed=!1,si!==null&&Gl(si)&&(si=null),oi!==null&&Gl(oi)&&(oi=null),ai!==null&&Gl(ai)&&(ai=null),wa.forEach(Mm),Ea.forEach(Mm)}function Oo(t,e){t.blockedOn===e&&(t.blockedOn=null,ed||(ed=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,jT)))}function Ta(t){function e(i){return Oo(i,t)}if(0<Cl.length){Oo(Cl[0],t);for(var n=1;n<Cl.length;n++){var r=Cl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(si!==null&&Oo(si,t),oi!==null&&Oo(oi,t),ai!==null&&Oo(ai,t),wa.forEach(e),Ea.forEach(e),n=0;n<Xr.length;n++)r=Xr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Xr.length&&(n=Xr[0],n.blockedOn===null);)h_(n),n.blockedOn===null&&Xr.shift()}var Ks=Fr.ReactCurrentBatchConfig,wu=!0;function BT(t,e,n,r){var i=Me,s=Ks.transition;Ks.transition=null;try{Me=1,pf(t,e,n,r)}finally{Me=i,Ks.transition=s}}function zT(t,e,n,r){var i=Me,s=Ks.transition;Ks.transition=null;try{Me=4,pf(t,e,n,r)}finally{Me=i,Ks.transition=s}}function pf(t,e,n,r){if(wu){var i=td(t,e,n,r);if(i===null)ah(t,e,r,Eu,n),Om(t,r);else if(UT(i,t,e,n,r))r.stopPropagation();else if(Om(t,r),e&4&&-1<FT.indexOf(t)){for(;i!==null;){var s=Qa(i);if(s!==null&&a_(s),s=td(t,e,n,r),s===null&&ah(t,e,r,Eu,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ah(t,e,r,null,n)}}var Eu=null;function td(t,e,n,r){if(Eu=null,t=cf(r),t=Bi(t),t!==null)if(e=cs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Zv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Eu=t,null}function d_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xT()){case hf:return 1;case r_:return 4;case vu:case kT:return 16;case i_:return 536870912;default:return 16}default:return 16}}var ti=null,mf=null,Yl=null;function f_(){if(Yl)return Yl;var t,e=mf,n=e.length,r,i="value"in ti?ti.value:ti.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Yl=i.slice(t,1<r?1-r:void 0)}function Xl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pl(){return!0}function Fm(){return!1}function Rn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Pl:Fm,this.isPropagationStopped=Fm,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pl)},persist:function(){},isPersistent:Pl}),e}var po={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gf=Rn(po),Ka=it({},po,{view:0,detail:0}),$T=Rn(Ka),Jc,Zc,Mo,oc=it({},Ka,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Mo&&(Mo&&t.type==="mousemove"?(Jc=t.screenX-Mo.screenX,Zc=t.screenY-Mo.screenY):Zc=Jc=0,Mo=t),Jc)},movementY:function(t){return"movementY"in t?t.movementY:Zc}}),Um=Rn(oc),qT=it({},oc,{dataTransfer:0}),HT=Rn(qT),WT=it({},Ka,{relatedTarget:0}),eh=Rn(WT),KT=it({},po,{animationName:0,elapsedTime:0,pseudoElement:0}),QT=Rn(KT),GT=it({},po,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YT=Rn(GT),XT=it({},po,{data:0}),jm=Rn(XT),JT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ZT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=eI[t])?!!e[t]:!1}function yf(){return tI}var nI=it({},Ka,{key:function(t){if(t.key){var e=JT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ZT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yf,charCode:function(t){return t.type==="keypress"?Xl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rI=Rn(nI),iI=it({},oc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bm=Rn(iI),sI=it({},Ka,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yf}),oI=Rn(sI),aI=it({},po,{propertyName:0,elapsedTime:0,pseudoElement:0}),lI=Rn(aI),uI=it({},oc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cI=Rn(uI),hI=[9,13,27,32],vf=kr&&"CompositionEvent"in window,ra=null;kr&&"documentMode"in document&&(ra=document.documentMode);var dI=kr&&"TextEvent"in window&&!ra,p_=kr&&(!vf||ra&&8<ra&&11>=ra),zm=" ",$m=!1;function m_(t,e){switch(t){case"keyup":return hI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function g_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ns=!1;function fI(t,e){switch(t){case"compositionend":return g_(e);case"keypress":return e.which!==32?null:($m=!0,zm);case"textInput":return t=e.data,t===zm&&$m?null:t;default:return null}}function pI(t,e){if(Ns)return t==="compositionend"||!vf&&m_(t,e)?(t=f_(),Yl=mf=ti=null,Ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return p_&&e.locale!=="ko"?null:e.data;default:return null}}var mI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mI[t.type]:e==="textarea"}function y_(t,e,n,r){Qv(r),e=Tu(e,"onChange"),0<e.length&&(n=new gf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ia=null,Ia=null;function gI(t){P_(t,0)}function ac(t){var e=Ls(t);if(Bv(e))return t}function yI(t,e){if(t==="change")return e}var v_=!1;if(kr){var th;if(kr){var nh="oninput"in document;if(!nh){var Hm=document.createElement("div");Hm.setAttribute("oninput","return;"),nh=typeof Hm.oninput=="function"}th=nh}else th=!1;v_=th&&(!document.documentMode||9<document.documentMode)}function Wm(){ia&&(ia.detachEvent("onpropertychange",__),Ia=ia=null)}function __(t){if(t.propertyName==="value"&&ac(Ia)){var e=[];y_(e,Ia,t,cf(t)),Jv(gI,e)}}function vI(t,e,n){t==="focusin"?(Wm(),ia=e,Ia=n,ia.attachEvent("onpropertychange",__)):t==="focusout"&&Wm()}function _I(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ac(Ia)}function wI(t,e){if(t==="click")return ac(e)}function EI(t,e){if(t==="input"||t==="change")return ac(e)}function TI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var er=typeof Object.is=="function"?Object.is:TI;function Sa(t,e){if(er(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mh.call(e,i)||!er(t[i],e[i]))return!1}return!0}function Km(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qm(t,e){var n=Km(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Km(n)}}function w_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?w_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function E_(){for(var t=window,e=mu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mu(t.document)}return e}function _f(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function II(t){var e=E_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&w_(n.ownerDocument.documentElement,n)){if(r!==null&&_f(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Qm(n,s);var o=Qm(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var SI=kr&&"documentMode"in document&&11>=document.documentMode,Vs=null,nd=null,sa=null,rd=!1;function Gm(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rd||Vs==null||Vs!==mu(r)||(r=Vs,"selectionStart"in r&&_f(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sa&&Sa(sa,r)||(sa=r,r=Tu(nd,"onSelect"),0<r.length&&(e=new gf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vs)))}function xl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var bs={animationend:xl("Animation","AnimationEnd"),animationiteration:xl("Animation","AnimationIteration"),animationstart:xl("Animation","AnimationStart"),transitionend:xl("Transition","TransitionEnd")},rh={},T_={};kr&&(T_=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function lc(t){if(rh[t])return rh[t];if(!bs[t])return t;var e=bs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in T_)return rh[t]=e[n];return t}var I_=lc("animationend"),S_=lc("animationiteration"),A_=lc("animationstart"),R_=lc("transitionend"),C_=new Map,Ym="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ti(t,e){C_.set(t,e),us(e,[t])}for(var ih=0;ih<Ym.length;ih++){var sh=Ym[ih],AI=sh.toLowerCase(),RI=sh[0].toUpperCase()+sh.slice(1);Ti(AI,"on"+RI)}Ti(I_,"onAnimationEnd");Ti(S_,"onAnimationIteration");Ti(A_,"onAnimationStart");Ti("dblclick","onDoubleClick");Ti("focusin","onFocus");Ti("focusout","onBlur");Ti(R_,"onTransitionEnd");Xs("onMouseEnter",["mouseout","mouseover"]);Xs("onMouseLeave",["mouseout","mouseover"]);Xs("onPointerEnter",["pointerout","pointerover"]);Xs("onPointerLeave",["pointerout","pointerover"]);us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));us("onBeforeInput",["compositionend","keypress","textInput","paste"]);us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yo));function Xm(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,AT(r,e,void 0,t),t.currentTarget=null}function P_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;Xm(i,l,c),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;Xm(i,l,c),s=u}}}if(yu)throw t=Jh,yu=!1,Jh=null,t}function Ge(t,e){var n=e[ld];n===void 0&&(n=e[ld]=new Set);var r=t+"__bubble";n.has(r)||(x_(e,t,2,!1),n.add(r))}function oh(t,e,n){var r=0;e&&(r|=4),x_(n,t,r,e)}var kl="_reactListening"+Math.random().toString(36).slice(2);function Aa(t){if(!t[kl]){t[kl]=!0,Ov.forEach(function(n){n!=="selectionchange"&&(CI.has(n)||oh(n,!1,t),oh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kl]||(e[kl]=!0,oh("selectionchange",!1,e))}}function x_(t,e,n,r){switch(d_(e)){case 1:var i=BT;break;case 4:i=zT;break;default:i=pf}n=i.bind(null,e,n,t),i=void 0,!Xh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ah(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Bi(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Jv(function(){var c=s,d=cf(n),m=[];e:{var g=C_.get(t);if(g!==void 0){var _=gf,P=t;switch(t){case"keypress":if(Xl(n)===0)break e;case"keydown":case"keyup":_=rI;break;case"focusin":P="focus",_=eh;break;case"focusout":P="blur",_=eh;break;case"beforeblur":case"afterblur":_=eh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=Um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=HT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=oI;break;case I_:case S_:case A_:_=QT;break;case R_:_=lI;break;case"scroll":_=$T;break;case"wheel":_=cI;break;case"copy":case"cut":case"paste":_=YT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Bm}var D=(e&4)!==0,V=!D&&t==="scroll",S=D?g!==null?g+"Capture":null:g;D=[];for(var y=c,A;y!==null;){A=y;var b=A.stateNode;if(A.tag===5&&b!==null&&(A=b,S!==null&&(b=_a(y,S),b!=null&&D.push(Ra(y,b,A)))),V)break;y=y.return}0<D.length&&(g=new _(g,P,null,n,d),m.push({event:g,listeners:D}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",g&&n!==Gh&&(P=n.relatedTarget||n.fromElement)&&(Bi(P)||P[Dr]))break e;if((_||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,_?(P=n.relatedTarget||n.toElement,_=c,P=P?Bi(P):null,P!==null&&(V=cs(P),P!==V||P.tag!==5&&P.tag!==6)&&(P=null)):(_=null,P=c),_!==P)){if(D=Um,b="onMouseLeave",S="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(D=Bm,b="onPointerLeave",S="onPointerEnter",y="pointer"),V=_==null?g:Ls(_),A=P==null?g:Ls(P),g=new D(b,y+"leave",_,n,d),g.target=V,g.relatedTarget=A,b=null,Bi(d)===c&&(D=new D(S,y+"enter",P,n,d),D.target=A,D.relatedTarget=V,b=D),V=b,_&&P)t:{for(D=_,S=P,y=0,A=D;A;A=Ss(A))y++;for(A=0,b=S;b;b=Ss(b))A++;for(;0<y-A;)D=Ss(D),y--;for(;0<A-y;)S=Ss(S),A--;for(;y--;){if(D===S||S!==null&&D===S.alternate)break t;D=Ss(D),S=Ss(S)}D=null}else D=null;_!==null&&Jm(m,g,_,D,!1),P!==null&&V!==null&&Jm(m,V,P,D,!0)}}e:{if(g=c?Ls(c):window,_=g.nodeName&&g.nodeName.toLowerCase(),_==="select"||_==="input"&&g.type==="file")var B=yI;else if(qm(g))if(v_)B=EI;else{B=_I;var q=vI}else(_=g.nodeName)&&_.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(B=wI);if(B&&(B=B(t,c))){y_(m,B,n,d);break e}q&&q(t,g,c),t==="focusout"&&(q=g._wrapperState)&&q.controlled&&g.type==="number"&&qh(g,"number",g.value)}switch(q=c?Ls(c):window,t){case"focusin":(qm(q)||q.contentEditable==="true")&&(Vs=q,nd=c,sa=null);break;case"focusout":sa=nd=Vs=null;break;case"mousedown":rd=!0;break;case"contextmenu":case"mouseup":case"dragend":rd=!1,Gm(m,n,d);break;case"selectionchange":if(SI)break;case"keydown":case"keyup":Gm(m,n,d)}var E;if(vf)e:{switch(t){case"compositionstart":var p="onCompositionStart";break e;case"compositionend":p="onCompositionEnd";break e;case"compositionupdate":p="onCompositionUpdate";break e}p=void 0}else Ns?m_(t,n)&&(p="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(p="onCompositionStart");p&&(p_&&n.locale!=="ko"&&(Ns||p!=="onCompositionStart"?p==="onCompositionEnd"&&Ns&&(E=f_()):(ti=d,mf="value"in ti?ti.value:ti.textContent,Ns=!0)),q=Tu(c,p),0<q.length&&(p=new jm(p,t,null,n,d),m.push({event:p,listeners:q}),E?p.data=E:(E=g_(n),E!==null&&(p.data=E)))),(E=dI?fI(t,n):pI(t,n))&&(c=Tu(c,"onBeforeInput"),0<c.length&&(d=new jm("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:c}),d.data=E))}P_(m,e)})}function Ra(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Tu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_a(t,n),s!=null&&r.unshift(Ra(t,s,i)),s=_a(t,e),s!=null&&r.push(Ra(t,s,i))),t=t.return}return r}function Ss(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Jm(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=_a(n,s),u!=null&&o.unshift(Ra(n,u,l))):i||(u=_a(n,s),u!=null&&o.push(Ra(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var PI=/\r\n?/g,xI=/\u0000|\uFFFD/g;function Zm(t){return(typeof t=="string"?t:""+t).replace(PI,`
`).replace(xI,"")}function Dl(t,e,n){if(e=Zm(e),Zm(t)!==e&&n)throw Error(K(425))}function Iu(){}var id=null,sd=null;function od(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ad=typeof setTimeout=="function"?setTimeout:void 0,kI=typeof clearTimeout=="function"?clearTimeout:void 0,eg=typeof Promise=="function"?Promise:void 0,DI=typeof queueMicrotask=="function"?queueMicrotask:typeof eg<"u"?function(t){return eg.resolve(null).then(t).catch(NI)}:ad;function NI(t){setTimeout(function(){throw t})}function lh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ta(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ta(e)}function li(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function tg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var mo=Math.random().toString(36).slice(2),ur="__reactFiber$"+mo,Ca="__reactProps$"+mo,Dr="__reactContainer$"+mo,ld="__reactEvents$"+mo,VI="__reactListeners$"+mo,bI="__reactHandles$"+mo;function Bi(t){var e=t[ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dr]||n[ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=tg(t);t!==null;){if(n=t[ur])return n;t=tg(t)}return e}t=n,n=t.parentNode}return null}function Qa(t){return t=t[ur]||t[Dr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ls(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function uc(t){return t[Ca]||null}var ud=[],Os=-1;function Ii(t){return{current:t}}function Je(t){0>Os||(t.current=ud[Os],ud[Os]=null,Os--)}function qe(t,e){Os++,ud[Os]=t.current,t.current=e}var vi={},Gt=Ii(vi),hn=Ii(!1),Xi=vi;function Js(t,e){var n=t.type.contextTypes;if(!n)return vi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function dn(t){return t=t.childContextTypes,t!=null}function Su(){Je(hn),Je(Gt)}function ng(t,e,n){if(Gt.current!==vi)throw Error(K(168));qe(Gt,e),qe(hn,n)}function k_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,vT(t)||"Unknown",i));return it({},n,r)}function Au(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vi,Xi=Gt.current,qe(Gt,t),qe(hn,hn.current),!0}function rg(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=k_(t,e,Xi),r.__reactInternalMemoizedMergedChildContext=t,Je(hn),Je(Gt),qe(Gt,t)):Je(hn),qe(hn,n)}var Ir=null,cc=!1,uh=!1;function D_(t){Ir===null?Ir=[t]:Ir.push(t)}function LI(t){cc=!0,D_(t)}function Si(){if(!uh&&Ir!==null){uh=!0;var t=0,e=Me;try{var n=Ir;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ir=null,cc=!1}catch(i){throw Ir!==null&&(Ir=Ir.slice(t+1)),n_(hf,Si),i}finally{Me=e,uh=!1}}return null}var Ms=[],Fs=0,Ru=null,Cu=0,kn=[],Dn=0,Ji=null,Sr=1,Ar="";function Mi(t,e){Ms[Fs++]=Cu,Ms[Fs++]=Ru,Ru=t,Cu=e}function N_(t,e,n){kn[Dn++]=Sr,kn[Dn++]=Ar,kn[Dn++]=Ji,Ji=t;var r=Sr;t=Ar;var i=32-Jn(r)-1;r&=~(1<<i),n+=1;var s=32-Jn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Sr=1<<32-Jn(e)+i|n<<i|r,Ar=s+t}else Sr=1<<s|n<<i|r,Ar=t}function wf(t){t.return!==null&&(Mi(t,1),N_(t,1,0))}function Ef(t){for(;t===Ru;)Ru=Ms[--Fs],Ms[Fs]=null,Cu=Ms[--Fs],Ms[Fs]=null;for(;t===Ji;)Ji=kn[--Dn],kn[Dn]=null,Ar=kn[--Dn],kn[Dn]=null,Sr=kn[--Dn],kn[Dn]=null}var In=null,En=null,Ze=!1,Gn=null;function V_(t,e){var n=Vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ig(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,In=t,En=li(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,In=t,En=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ji!==null?{id:Sr,overflow:Ar}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,In=t,En=null,!0):!1;default:return!1}}function cd(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hd(t){if(Ze){var e=En;if(e){var n=e;if(!ig(t,e)){if(cd(t))throw Error(K(418));e=li(n.nextSibling);var r=In;e&&ig(t,e)?V_(r,n):(t.flags=t.flags&-4097|2,Ze=!1,In=t)}}else{if(cd(t))throw Error(K(418));t.flags=t.flags&-4097|2,Ze=!1,In=t}}}function sg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;In=t}function Nl(t){if(t!==In)return!1;if(!Ze)return sg(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!od(t.type,t.memoizedProps)),e&&(e=En)){if(cd(t))throw b_(),Error(K(418));for(;e;)V_(t,e),e=li(e.nextSibling)}if(sg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){En=li(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}En=null}}else En=In?li(t.stateNode.nextSibling):null;return!0}function b_(){for(var t=En;t;)t=li(t.nextSibling)}function Zs(){En=In=null,Ze=!1}function Tf(t){Gn===null?Gn=[t]:Gn.push(t)}var OI=Fr.ReactCurrentBatchConfig;function Fo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Vl(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function og(t){var e=t._init;return e(t._payload)}function L_(t){function e(S,y){if(t){var A=S.deletions;A===null?(S.deletions=[y],S.flags|=16):A.push(y)}}function n(S,y){if(!t)return null;for(;y!==null;)e(S,y),y=y.sibling;return null}function r(S,y){for(S=new Map;y!==null;)y.key!==null?S.set(y.key,y):S.set(y.index,y),y=y.sibling;return S}function i(S,y){return S=di(S,y),S.index=0,S.sibling=null,S}function s(S,y,A){return S.index=A,t?(A=S.alternate,A!==null?(A=A.index,A<y?(S.flags|=2,y):A):(S.flags|=2,y)):(S.flags|=1048576,y)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,y,A,b){return y===null||y.tag!==6?(y=gh(A,S.mode,b),y.return=S,y):(y=i(y,A),y.return=S,y)}function u(S,y,A,b){var B=A.type;return B===Ds?d(S,y,A.props.children,b,A.key):y!==null&&(y.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Gr&&og(B)===y.type)?(b=i(y,A.props),b.ref=Fo(S,y,A),b.return=S,b):(b=iu(A.type,A.key,A.props,null,S.mode,b),b.ref=Fo(S,y,A),b.return=S,b)}function c(S,y,A,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==A.containerInfo||y.stateNode.implementation!==A.implementation?(y=yh(A,S.mode,b),y.return=S,y):(y=i(y,A.children||[]),y.return=S,y)}function d(S,y,A,b,B){return y===null||y.tag!==7?(y=Qi(A,S.mode,b,B),y.return=S,y):(y=i(y,A),y.return=S,y)}function m(S,y,A){if(typeof y=="string"&&y!==""||typeof y=="number")return y=gh(""+y,S.mode,A),y.return=S,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Tl:return A=iu(y.type,y.key,y.props,null,S.mode,A),A.ref=Fo(S,null,y),A.return=S,A;case ks:return y=yh(y,S.mode,A),y.return=S,y;case Gr:var b=y._init;return m(S,b(y._payload),A)}if(Qo(y)||Vo(y))return y=Qi(y,S.mode,A,null),y.return=S,y;Vl(S,y)}return null}function g(S,y,A,b){var B=y!==null?y.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return B!==null?null:l(S,y,""+A,b);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Tl:return A.key===B?u(S,y,A,b):null;case ks:return A.key===B?c(S,y,A,b):null;case Gr:return B=A._init,g(S,y,B(A._payload),b)}if(Qo(A)||Vo(A))return B!==null?null:d(S,y,A,b,null);Vl(S,A)}return null}function _(S,y,A,b,B){if(typeof b=="string"&&b!==""||typeof b=="number")return S=S.get(A)||null,l(y,S,""+b,B);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Tl:return S=S.get(b.key===null?A:b.key)||null,u(y,S,b,B);case ks:return S=S.get(b.key===null?A:b.key)||null,c(y,S,b,B);case Gr:var q=b._init;return _(S,y,A,q(b._payload),B)}if(Qo(b)||Vo(b))return S=S.get(A)||null,d(y,S,b,B,null);Vl(y,b)}return null}function P(S,y,A,b){for(var B=null,q=null,E=y,p=y=0,w=null;E!==null&&p<A.length;p++){E.index>p?(w=E,E=null):w=E.sibling;var I=g(S,E,A[p],b);if(I===null){E===null&&(E=w);break}t&&E&&I.alternate===null&&e(S,E),y=s(I,y,p),q===null?B=I:q.sibling=I,q=I,E=w}if(p===A.length)return n(S,E),Ze&&Mi(S,p),B;if(E===null){for(;p<A.length;p++)E=m(S,A[p],b),E!==null&&(y=s(E,y,p),q===null?B=E:q.sibling=E,q=E);return Ze&&Mi(S,p),B}for(E=r(S,E);p<A.length;p++)w=_(E,S,p,A[p],b),w!==null&&(t&&w.alternate!==null&&E.delete(w.key===null?p:w.key),y=s(w,y,p),q===null?B=w:q.sibling=w,q=w);return t&&E.forEach(function(R){return e(S,R)}),Ze&&Mi(S,p),B}function D(S,y,A,b){var B=Vo(A);if(typeof B!="function")throw Error(K(150));if(A=B.call(A),A==null)throw Error(K(151));for(var q=B=null,E=y,p=y=0,w=null,I=A.next();E!==null&&!I.done;p++,I=A.next()){E.index>p?(w=E,E=null):w=E.sibling;var R=g(S,E,I.value,b);if(R===null){E===null&&(E=w);break}t&&E&&R.alternate===null&&e(S,E),y=s(R,y,p),q===null?B=R:q.sibling=R,q=R,E=w}if(I.done)return n(S,E),Ze&&Mi(S,p),B;if(E===null){for(;!I.done;p++,I=A.next())I=m(S,I.value,b),I!==null&&(y=s(I,y,p),q===null?B=I:q.sibling=I,q=I);return Ze&&Mi(S,p),B}for(E=r(S,E);!I.done;p++,I=A.next())I=_(E,S,p,I.value,b),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?p:I.key),y=s(I,y,p),q===null?B=I:q.sibling=I,q=I);return t&&E.forEach(function(C){return e(S,C)}),Ze&&Mi(S,p),B}function V(S,y,A,b){if(typeof A=="object"&&A!==null&&A.type===Ds&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Tl:e:{for(var B=A.key,q=y;q!==null;){if(q.key===B){if(B=A.type,B===Ds){if(q.tag===7){n(S,q.sibling),y=i(q,A.props.children),y.return=S,S=y;break e}}else if(q.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Gr&&og(B)===q.type){n(S,q.sibling),y=i(q,A.props),y.ref=Fo(S,q,A),y.return=S,S=y;break e}n(S,q);break}else e(S,q);q=q.sibling}A.type===Ds?(y=Qi(A.props.children,S.mode,b,A.key),y.return=S,S=y):(b=iu(A.type,A.key,A.props,null,S.mode,b),b.ref=Fo(S,y,A),b.return=S,S=b)}return o(S);case ks:e:{for(q=A.key;y!==null;){if(y.key===q)if(y.tag===4&&y.stateNode.containerInfo===A.containerInfo&&y.stateNode.implementation===A.implementation){n(S,y.sibling),y=i(y,A.children||[]),y.return=S,S=y;break e}else{n(S,y);break}else e(S,y);y=y.sibling}y=yh(A,S.mode,b),y.return=S,S=y}return o(S);case Gr:return q=A._init,V(S,y,q(A._payload),b)}if(Qo(A))return P(S,y,A,b);if(Vo(A))return D(S,y,A,b);Vl(S,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,y!==null&&y.tag===6?(n(S,y.sibling),y=i(y,A),y.return=S,S=y):(n(S,y),y=gh(A,S.mode,b),y.return=S,S=y),o(S)):n(S,y)}return V}var eo=L_(!0),O_=L_(!1),Pu=Ii(null),xu=null,Us=null,If=null;function Sf(){If=Us=xu=null}function Af(t){var e=Pu.current;Je(Pu),t._currentValue=e}function dd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qs(t,e){xu=t,If=Us=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cn=!0),t.firstContext=null)}function Fn(t){var e=t._currentValue;if(If!==t)if(t={context:t,memoizedValue:e,next:null},Us===null){if(xu===null)throw Error(K(308));Us=t,xu.dependencies={lanes:0,firstContext:t}}else Us=Us.next=t;return e}var zi=null;function Rf(t){zi===null?zi=[t]:zi.push(t)}function M_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Rf(e)):(n.next=i.next,i.next=n),e.interleaved=n,Nr(t,r)}function Nr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Yr=!1;function Cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function F_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ui(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Nr(t,n)}return i=r.interleaved,i===null?(e.next=e,Rf(r)):(e.next=i.next,i.next=e),r.interleaved=e,Nr(t,n)}function Jl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,df(t,n)}}function ag(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ku(t,e,n,r){var i=t.updateQueue;Yr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(s!==null){var m=i.baseState;o=0,d=c=u=null,l=s;do{var g=l.lane,_=l.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:_,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var P=t,D=l;switch(g=e,_=n,D.tag){case 1:if(P=D.payload,typeof P=="function"){m=P.call(_,m,g);break e}m=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=D.payload,g=typeof P=="function"?P.call(_,m,g):P,g==null)break e;m=it({},m,g);break e;case 2:Yr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else _={eventTime:_,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=_,u=m):d=d.next=_,o|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(d===null&&(u=m),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);es|=o,t.lanes=o,t.memoizedState=m}}function lg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var Ga={},fr=Ii(Ga),Pa=Ii(Ga),xa=Ii(Ga);function $i(t){if(t===Ga)throw Error(K(174));return t}function Pf(t,e){switch(qe(xa,e),qe(Pa,t),qe(fr,Ga),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wh(e,t)}Je(fr),qe(fr,e)}function to(){Je(fr),Je(Pa),Je(xa)}function U_(t){$i(xa.current);var e=$i(fr.current),n=Wh(e,t.type);e!==n&&(qe(Pa,t),qe(fr,n))}function xf(t){Pa.current===t&&(Je(fr),Je(Pa))}var nt=Ii(0);function Du(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ch=[];function kf(){for(var t=0;t<ch.length;t++)ch[t]._workInProgressVersionPrimary=null;ch.length=0}var Zl=Fr.ReactCurrentDispatcher,hh=Fr.ReactCurrentBatchConfig,Zi=0,rt=null,St=null,Pt=null,Nu=!1,oa=!1,ka=0,MI=0;function $t(){throw Error(K(321))}function Df(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!er(t[n],e[n]))return!1;return!0}function Nf(t,e,n,r,i,s){if(Zi=s,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zl.current=t===null||t.memoizedState===null?BI:zI,t=n(r,i),oa){s=0;do{if(oa=!1,ka=0,25<=s)throw Error(K(301));s+=1,Pt=St=null,e.updateQueue=null,Zl.current=$I,t=n(r,i)}while(oa)}if(Zl.current=Vu,e=St!==null&&St.next!==null,Zi=0,Pt=St=rt=null,Nu=!1,e)throw Error(K(300));return t}function Vf(){var t=ka!==0;return ka=0,t}function ar(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?rt.memoizedState=Pt=t:Pt=Pt.next=t,Pt}function Un(){if(St===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var e=Pt===null?rt.memoizedState:Pt.next;if(e!==null)Pt=e,St=t;else{if(t===null)throw Error(K(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},Pt===null?rt.memoizedState=Pt=t:Pt=Pt.next=t}return Pt}function Da(t,e){return typeof e=="function"?e(t):e}function dh(t){var e=Un(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=St,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,c=s;do{var d=c.lane;if((Zi&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var m={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=m,o=r):u=u.next=m,rt.lanes|=d,es|=d}c=c.next}while(c!==null&&c!==s);u===null?o=r:u.next=l,er(r,e.memoizedState)||(cn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,rt.lanes|=s,es|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fh(t){var e=Un(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);er(s,e.memoizedState)||(cn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function j_(){}function B_(t,e){var n=rt,r=Un(),i=e(),s=!er(r.memoizedState,i);if(s&&(r.memoizedState=i,cn=!0),r=r.queue,bf(q_.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Pt!==null&&Pt.memoizedState.tag&1){if(n.flags|=2048,Na(9,$_.bind(null,n,r,i,e),void 0,null),xt===null)throw Error(K(349));Zi&30||z_(n,e,i)}return i}function z_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $_(t,e,n,r){e.value=n,e.getSnapshot=r,H_(e)&&W_(t)}function q_(t,e,n){return n(function(){H_(e)&&W_(t)})}function H_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!er(t,n)}catch{return!0}}function W_(t){var e=Nr(t,1);e!==null&&Zn(e,t,1,-1)}function ug(t){var e=ar();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:t},e.queue=t,t=t.dispatch=jI.bind(null,rt,t),[e.memoizedState,t]}function Na(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function K_(){return Un().memoizedState}function eu(t,e,n,r){var i=ar();rt.flags|=t,i.memoizedState=Na(1|e,n,void 0,r===void 0?null:r)}function hc(t,e,n,r){var i=Un();r=r===void 0?null:r;var s=void 0;if(St!==null){var o=St.memoizedState;if(s=o.destroy,r!==null&&Df(r,o.deps)){i.memoizedState=Na(e,n,s,r);return}}rt.flags|=t,i.memoizedState=Na(1|e,n,s,r)}function cg(t,e){return eu(8390656,8,t,e)}function bf(t,e){return hc(2048,8,t,e)}function Q_(t,e){return hc(4,2,t,e)}function G_(t,e){return hc(4,4,t,e)}function Y_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function X_(t,e,n){return n=n!=null?n.concat([t]):null,hc(4,4,Y_.bind(null,e,t),n)}function Lf(){}function J_(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Df(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Z_(t,e){var n=Un();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Df(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function e0(t,e,n){return Zi&21?(er(n,e)||(n=s_(),rt.lanes|=n,es|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cn=!0),t.memoizedState=n)}function FI(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=hh.transition;hh.transition={};try{t(!1),e()}finally{Me=n,hh.transition=r}}function t0(){return Un().memoizedState}function UI(t,e,n){var r=hi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},n0(t))r0(e,n);else if(n=M_(t,e,n,r),n!==null){var i=sn();Zn(n,t,r,i),i0(n,e,r)}}function jI(t,e,n){var r=hi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(n0(t))r0(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,er(l,o)){var u=e.interleaved;u===null?(i.next=i,Rf(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=M_(t,e,i,r),n!==null&&(i=sn(),Zn(n,t,r,i),i0(n,e,r))}}function n0(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function r0(t,e){oa=Nu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function i0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,df(t,n)}}var Vu={readContext:Fn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},BI={readContext:Fn,useCallback:function(t,e){return ar().memoizedState=[t,e===void 0?null:e],t},useContext:Fn,useEffect:cg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,eu(4194308,4,Y_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return eu(4194308,4,t,e)},useInsertionEffect:function(t,e){return eu(4,2,t,e)},useMemo:function(t,e){var n=ar();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ar();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=UI.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=ar();return t={current:t},e.memoizedState=t},useState:ug,useDebugValue:Lf,useDeferredValue:function(t){return ar().memoizedState=t},useTransition:function(){var t=ug(!1),e=t[0];return t=FI.bind(null,t[1]),ar().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,i=ar();if(Ze){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),xt===null)throw Error(K(349));Zi&30||z_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,cg(q_.bind(null,r,s,t),[t]),r.flags|=2048,Na(9,$_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ar(),e=xt.identifierPrefix;if(Ze){var n=Ar,r=Sr;n=(r&~(1<<32-Jn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ka++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zI={readContext:Fn,useCallback:J_,useContext:Fn,useEffect:bf,useImperativeHandle:X_,useInsertionEffect:Q_,useLayoutEffect:G_,useMemo:Z_,useReducer:dh,useRef:K_,useState:function(){return dh(Da)},useDebugValue:Lf,useDeferredValue:function(t){var e=Un();return e0(e,St.memoizedState,t)},useTransition:function(){var t=dh(Da)[0],e=Un().memoizedState;return[t,e]},useMutableSource:j_,useSyncExternalStore:B_,useId:t0,unstable_isNewReconciler:!1},$I={readContext:Fn,useCallback:J_,useContext:Fn,useEffect:bf,useImperativeHandle:X_,useInsertionEffect:Q_,useLayoutEffect:G_,useMemo:Z_,useReducer:fh,useRef:K_,useState:function(){return fh(Da)},useDebugValue:Lf,useDeferredValue:function(t){var e=Un();return St===null?e.memoizedState=t:e0(e,St.memoizedState,t)},useTransition:function(){var t=fh(Da)[0],e=Un().memoizedState;return[t,e]},useMutableSource:j_,useSyncExternalStore:B_,useId:t0,unstable_isNewReconciler:!1};function Wn(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function fd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var dc={isMounted:function(t){return(t=t._reactInternals)?cs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=sn(),i=hi(t),s=Cr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ui(t,s,i),e!==null&&(Zn(e,t,i,r),Jl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=sn(),i=hi(t),s=Cr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ui(t,s,i),e!==null&&(Zn(e,t,i,r),Jl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=sn(),r=hi(t),i=Cr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ui(t,i,r),e!==null&&(Zn(e,t,r,n),Jl(e,t,r))}};function hg(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Sa(n,r)||!Sa(i,s):!0}function s0(t,e,n){var r=!1,i=vi,s=e.contextType;return typeof s=="object"&&s!==null?s=Fn(s):(i=dn(e)?Xi:Gt.current,r=e.contextTypes,s=(r=r!=null)?Js(t,i):vi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=dc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function dg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&dc.enqueueReplaceState(e,e.state,null)}function pd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Cf(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Fn(s):(s=dn(e)?Xi:Gt.current,i.context=Js(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fd(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&dc.enqueueReplaceState(i,i.state,null),ku(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function no(t,e){try{var n="",r=e;do n+=yT(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ph(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function md(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var qI=typeof WeakMap=="function"?WeakMap:Map;function o0(t,e,n){n=Cr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Lu||(Lu=!0,Ad=r),md(t,e)},n}function a0(t,e,n){n=Cr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){md(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){md(t,e),typeof r!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function fg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new qI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=iS.bind(null,t,e,n),e.then(t,t))}function pg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function mg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cr(-1,1),e.tag=2,ui(n,e,1))),n.lanes|=1),t)}var HI=Fr.ReactCurrentOwner,cn=!1;function nn(t,e,n,r){e.child=t===null?O_(e,null,n,r):eo(e,t.child,n,r)}function gg(t,e,n,r,i){n=n.render;var s=e.ref;return Qs(e,i),r=Nf(t,e,n,r,s,i),n=Vf(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vr(t,e,i)):(Ze&&n&&wf(e),e.flags|=1,nn(t,e,r,i),e.child)}function yg(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!$f(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,l0(t,e,s,r,i)):(t=iu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Sa,n(o,r)&&t.ref===e.ref)return Vr(t,e,i)}return e.flags|=1,t=di(s,r),t.ref=e.ref,t.return=e,e.child=t}function l0(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Sa(s,r)&&t.ref===e.ref)if(cn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(cn=!0);else return e.lanes=t.lanes,Vr(t,e,i)}return gd(t,e,n,r,i)}function u0(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Bs,_n),_n|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(Bs,_n),_n|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,qe(Bs,_n),_n|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,qe(Bs,_n),_n|=r;return nn(t,e,i,n),e.child}function c0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function gd(t,e,n,r,i){var s=dn(n)?Xi:Gt.current;return s=Js(e,s),Qs(e,i),n=Nf(t,e,n,r,s,i),r=Vf(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vr(t,e,i)):(Ze&&r&&wf(e),e.flags|=1,nn(t,e,n,i),e.child)}function vg(t,e,n,r,i){if(dn(n)){var s=!0;Au(e)}else s=!1;if(Qs(e,i),e.stateNode===null)tu(t,e),s0(e,n,r),pd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Fn(c):(c=dn(n)?Xi:Gt.current,c=Js(e,c));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&dg(e,o,r,c),Yr=!1;var g=e.memoizedState;o.state=g,ku(e,r,o,i),u=e.memoizedState,l!==r||g!==u||hn.current||Yr?(typeof d=="function"&&(fd(e,n,d,r),u=e.memoizedState),(l=Yr||hg(e,n,l,r,g,u,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,F_(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Wn(e.type,l),o.props=c,m=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Fn(u):(u=dn(n)?Xi:Gt.current,u=Js(e,u));var _=n.getDerivedStateFromProps;(d=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||g!==u)&&dg(e,o,r,u),Yr=!1,g=e.memoizedState,o.state=g,ku(e,r,o,i);var P=e.memoizedState;l!==m||g!==P||hn.current||Yr?(typeof _=="function"&&(fd(e,n,_,r),P=e.memoizedState),(c=Yr||hg(e,n,c,r,g,P,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,P,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,P,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=P),o.props=r,o.state=P,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return yd(t,e,n,r,s,i)}function yd(t,e,n,r,i,s){c0(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&rg(e,n,!1),Vr(t,e,s);r=e.stateNode,HI.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=eo(e,t.child,null,s),e.child=eo(e,null,l,s)):nn(t,e,l,s),e.memoizedState=r.state,i&&rg(e,n,!0),e.child}function h0(t){var e=t.stateNode;e.pendingContext?ng(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ng(t,e.context,!1),Pf(t,e.containerInfo)}function _g(t,e,n,r,i){return Zs(),Tf(i),e.flags|=256,nn(t,e,n,r),e.child}var vd={dehydrated:null,treeContext:null,retryLane:0};function _d(t){return{baseLanes:t,cachePool:null,transitions:null}}function d0(t,e,n){var r=e.pendingProps,i=nt.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),qe(nt,i&1),t===null)return hd(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=mc(o,r,0,null),t=Qi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=_d(n),e.memoizedState=vd,t):Of(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return WI(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=di(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=di(l,s):(s=Qi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?_d(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=vd,r}return s=t.child,t=s.sibling,r=di(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Of(t,e){return e=mc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function bl(t,e,n,r){return r!==null&&Tf(r),eo(e,t.child,null,n),t=Of(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ph(Error(K(422))),bl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=mc({mode:"visible",children:r.children},i,0,null),s=Qi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&eo(e,t.child,null,o),e.child.memoizedState=_d(o),e.memoizedState=vd,s);if(!(e.mode&1))return bl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(K(419)),r=ph(s,r,void 0),bl(t,e,o,r)}if(l=(o&t.childLanes)!==0,cn||l){if(r=xt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Nr(t,i),Zn(r,t,i,-1))}return zf(),r=ph(Error(K(421))),bl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=sS.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,En=li(i.nextSibling),In=e,Ze=!0,Gn=null,t!==null&&(kn[Dn++]=Sr,kn[Dn++]=Ar,kn[Dn++]=Ji,Sr=t.id,Ar=t.overflow,Ji=e),e=Of(e,r.children),e.flags|=4096,e)}function wg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),dd(t.return,e,n)}function mh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function f0(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(nn(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wg(t,n,e);else if(t.tag===19)wg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(nt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Du(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),mh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Du(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}mh(e,!0,n,null,s);break;case"together":mh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function tu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),es|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=di(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=di(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function KI(t,e,n){switch(e.tag){case 3:h0(e),Zs();break;case 5:U_(e);break;case 1:dn(e.type)&&Au(e);break;case 4:Pf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;qe(Pu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?d0(t,e,n):(qe(nt,nt.current&1),t=Vr(t,e,n),t!==null?t.sibling:null);qe(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return f0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),qe(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,u0(t,e,n)}return Vr(t,e,n)}var p0,wd,m0,g0;p0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wd=function(){};m0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,$i(fr.current);var s=null;switch(n){case"input":i=zh(t,i),r=zh(t,r),s=[];break;case"select":i=it({},i,{value:void 0}),r=it({},r,{value:void 0}),s=[];break;case"textarea":i=Hh(t,i),r=Hh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Iu)}Kh(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ya.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(s||(s=[]),s.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ya.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Ge("scroll",t),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};g0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Uo(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function QI(t,e,n){var r=e.pendingProps;switch(Ef(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(e),null;case 1:return dn(e.type)&&Su(),qt(e),null;case 3:return r=e.stateNode,to(),Je(hn),Je(Gt),kf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gn!==null&&(Pd(Gn),Gn=null))),wd(t,e),qt(e),null;case 5:xf(e);var i=$i(xa.current);if(n=e.type,t!==null&&e.stateNode!=null)m0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return qt(e),null}if(t=$i(fr.current),Nl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[ur]=e,r[Ca]=s,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(i=0;i<Yo.length;i++)Ge(Yo[i],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":xm(r,s),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ge("invalid",r);break;case"textarea":Dm(r,s),Ge("invalid",r)}Kh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&Dl(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Dl(r.textContent,l,t),i=["children",""+l]):ya.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ge("scroll",r)}switch(n){case"input":Il(r),km(r,s,!0);break;case"textarea":Il(r),Nm(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Iu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ur]=e,t[Ca]=r,p0(t,e,!1,!1),e.stateNode=t;e:{switch(o=Qh(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),i=r;break;case"iframe":case"object":case"embed":Ge("load",t),i=r;break;case"video":case"audio":for(i=0;i<Yo.length;i++)Ge(Yo[i],t);i=r;break;case"source":Ge("error",t),i=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),i=r;break;case"details":Ge("toggle",t),i=r;break;case"input":xm(t,r),i=zh(t,r),Ge("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=it({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":Dm(t,r),i=Hh(t,r),Ge("invalid",t);break;default:i=r}Kh(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?Kv(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Hv(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&va(t,u):typeof u=="number"&&va(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ya.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Ge("scroll",t):u!=null&&of(t,s,u,o))}switch(n){case"input":Il(t),km(t,r,!1);break;case"textarea":Il(t),Nm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+yi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?qs(t,!!r.multiple,s,!1):r.defaultValue!=null&&qs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Iu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qt(e),null;case 6:if(t&&e.stateNode!=null)g0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=$i(xa.current),$i(fr.current),Nl(e)){if(r=e.stateNode,n=e.memoizedProps,r[ur]=e,(s=r.nodeValue!==n)&&(t=In,t!==null))switch(t.tag){case 3:Dl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Dl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ur]=e,e.stateNode=r}return qt(e),null;case 13:if(Je(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&En!==null&&e.mode&1&&!(e.flags&128))b_(),Zs(),e.flags|=98560,s=!1;else if(s=Nl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[ur]=e}else Zs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qt(e),s=!1}else Gn!==null&&(Pd(Gn),Gn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?At===0&&(At=3):zf())),e.updateQueue!==null&&(e.flags|=4),qt(e),null);case 4:return to(),wd(t,e),t===null&&Aa(e.stateNode.containerInfo),qt(e),null;case 10:return Af(e.type._context),qt(e),null;case 17:return dn(e.type)&&Su(),qt(e),null;case 19:if(Je(nt),s=e.memoizedState,s===null)return qt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Uo(s,!1);else{if(At!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Du(t),o!==null){for(e.flags|=128,Uo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(nt,nt.current&1|2),e.child}t=t.sibling}s.tail!==null&&ft()>ro&&(e.flags|=128,r=!0,Uo(s,!1),e.lanes=4194304)}else{if(!r)if(t=Du(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Uo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ze)return qt(e),null}else 2*ft()-s.renderingStartTime>ro&&n!==1073741824&&(e.flags|=128,r=!0,Uo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ft(),e.sibling=null,n=nt.current,qe(nt,r?n&1|2:n&1),e):(qt(e),null);case 22:case 23:return Bf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?_n&1073741824&&(qt(e),e.subtreeFlags&6&&(e.flags|=8192)):qt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function GI(t,e){switch(Ef(e),e.tag){case 1:return dn(e.type)&&Su(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return to(),Je(hn),Je(Gt),kf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xf(e),null;case 13:if(Je(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Zs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Je(nt),null;case 4:return to(),null;case 10:return Af(e.type._context),null;case 22:case 23:return Bf(),null;case 24:return null;default:return null}}var Ll=!1,Kt=!1,YI=typeof WeakSet=="function"?WeakSet:Set,ne=null;function js(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function Ed(t,e,n){try{n()}catch(r){lt(t,e,r)}}var Eg=!1;function XI(t,e){if(id=wu,t=E_(),_f(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,m=t,g=null;t:for(;;){for(var _;m!==n||i!==0&&m.nodeType!==3||(l=o+i),m!==s||r!==0&&m.nodeType!==3||(u=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(_=m.firstChild)!==null;)g=m,m=_;for(;;){if(m===t)break t;if(g===n&&++c===i&&(l=o),g===s&&++d===r&&(u=o),(_=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=_}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(sd={focusedElem:t,selectionRange:n},wu=!1,ne=e;ne!==null;)if(e=ne,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ne=t;else for(;ne!==null;){e=ne;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var D=P.memoizedProps,V=P.memoizedState,S=e.stateNode,y=S.getSnapshotBeforeUpdate(e.elementType===e.type?D:Wn(e.type,D),V);S.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(b){lt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,ne=t;break}ne=e.return}return P=Eg,Eg=!1,P}function aa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ed(e,n,s)}i=i.next}while(i!==r)}}function fc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Td(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function y0(t){var e=t.alternate;e!==null&&(t.alternate=null,y0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ur],delete e[Ca],delete e[ld],delete e[VI],delete e[bI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function v0(t){return t.tag===5||t.tag===3||t.tag===4}function Tg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||v0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Id(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Iu));else if(r!==4&&(t=t.child,t!==null))for(Id(t,e,n),t=t.sibling;t!==null;)Id(t,e,n),t=t.sibling}function Sd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Sd(t,e,n),t=t.sibling;t!==null;)Sd(t,e,n),t=t.sibling}var Nt=null,Kn=!1;function Kr(t,e,n){for(n=n.child;n!==null;)_0(t,e,n),n=n.sibling}function _0(t,e,n){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(sc,n)}catch{}switch(n.tag){case 5:Kt||js(n,e);case 6:var r=Nt,i=Kn;Nt=null,Kr(t,e,n),Nt=r,Kn=i,Nt!==null&&(Kn?(t=Nt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Nt.removeChild(n.stateNode));break;case 18:Nt!==null&&(Kn?(t=Nt,n=n.stateNode,t.nodeType===8?lh(t.parentNode,n):t.nodeType===1&&lh(t,n),Ta(t)):lh(Nt,n.stateNode));break;case 4:r=Nt,i=Kn,Nt=n.stateNode.containerInfo,Kn=!0,Kr(t,e,n),Nt=r,Kn=i;break;case 0:case 11:case 14:case 15:if(!Kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ed(n,e,o),i=i.next}while(i!==r)}Kr(t,e,n);break;case 1:if(!Kt&&(js(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){lt(n,e,l)}Kr(t,e,n);break;case 21:Kr(t,e,n);break;case 22:n.mode&1?(Kt=(r=Kt)||n.memoizedState!==null,Kr(t,e,n),Kt=r):Kr(t,e,n);break;default:Kr(t,e,n)}}function Ig(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new YI),e.forEach(function(r){var i=oS.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Hn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Nt=l.stateNode,Kn=!1;break e;case 3:Nt=l.stateNode.containerInfo,Kn=!0;break e;case 4:Nt=l.stateNode.containerInfo,Kn=!0;break e}l=l.return}if(Nt===null)throw Error(K(160));_0(s,o,i),Nt=null,Kn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){lt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)w0(e,t),e=e.sibling}function w0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Hn(e,t),or(t),r&4){try{aa(3,t,t.return),fc(3,t)}catch(D){lt(t,t.return,D)}try{aa(5,t,t.return)}catch(D){lt(t,t.return,D)}}break;case 1:Hn(e,t),or(t),r&512&&n!==null&&js(n,n.return);break;case 5:if(Hn(e,t),or(t),r&512&&n!==null&&js(n,n.return),t.flags&32){var i=t.stateNode;try{va(i,"")}catch(D){lt(t,t.return,D)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&zv(i,s),Qh(l,o);var c=Qh(l,s);for(o=0;o<u.length;o+=2){var d=u[o],m=u[o+1];d==="style"?Kv(i,m):d==="dangerouslySetInnerHTML"?Hv(i,m):d==="children"?va(i,m):of(i,d,m,c)}switch(l){case"input":$h(i,s);break;case"textarea":$v(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?qs(i,!!s.multiple,_,!1):g!==!!s.multiple&&(s.defaultValue!=null?qs(i,!!s.multiple,s.defaultValue,!0):qs(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ca]=s}catch(D){lt(t,t.return,D)}}break;case 6:if(Hn(e,t),or(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(D){lt(t,t.return,D)}}break;case 3:if(Hn(e,t),or(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ta(e.containerInfo)}catch(D){lt(t,t.return,D)}break;case 4:Hn(e,t),or(t);break;case 13:Hn(e,t),or(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Uf=ft())),r&4&&Ig(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Kt=(c=Kt)||d,Hn(e,t),Kt=c):Hn(e,t),or(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ne=t,d=t.child;d!==null;){for(m=ne=d;ne!==null;){switch(g=ne,_=g.child,g.tag){case 0:case 11:case 14:case 15:aa(4,g,g.return);break;case 1:js(g,g.return);var P=g.stateNode;if(typeof P.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(D){lt(r,n,D)}}break;case 5:js(g,g.return);break;case 22:if(g.memoizedState!==null){Ag(m);continue}}_!==null?(_.return=g,ne=_):Ag(m)}d=d.sibling}e:for(d=null,m=t;;){if(m.tag===5){if(d===null){d=m;try{i=m.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,u=m.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Wv("display",o))}catch(D){lt(t,t.return,D)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(D){lt(t,t.return,D)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Hn(e,t),or(t),r&4&&Ig(t);break;case 21:break;default:Hn(e,t),or(t)}}function or(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(v0(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(va(i,""),r.flags&=-33);var s=Tg(t);Sd(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Tg(t);Id(t,l,o);break;default:throw Error(K(161))}}catch(u){lt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function JI(t,e,n){ne=t,E0(t)}function E0(t,e,n){for(var r=(t.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ll;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Kt;l=Ll;var c=Kt;if(Ll=o,(Kt=u)&&!c)for(ne=i;ne!==null;)o=ne,u=o.child,o.tag===22&&o.memoizedState!==null?Rg(i):u!==null?(u.return=o,ne=u):Rg(i);for(;s!==null;)ne=s,E0(s),s=s.sibling;ne=i,Ll=l,Kt=c}Sg(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):Sg(t)}}function Sg(t){for(;ne!==null;){var e=ne;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kt||fc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Kt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&lg(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}lg(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Ta(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Kt||e.flags&512&&Td(e)}catch(g){lt(e,e.return,g)}}if(e===t){ne=null;break}if(n=e.sibling,n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Ag(t){for(;ne!==null;){var e=ne;if(e===t){ne=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ne=n;break}ne=e.return}}function Rg(t){for(;ne!==null;){var e=ne;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fc(4,e)}catch(u){lt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){lt(e,i,u)}}var s=e.return;try{Td(e)}catch(u){lt(e,s,u)}break;case 5:var o=e.return;try{Td(e)}catch(u){lt(e,o,u)}}}catch(u){lt(e,e.return,u)}if(e===t){ne=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ne=l;break}ne=e.return}}var ZI=Math.ceil,bu=Fr.ReactCurrentDispatcher,Mf=Fr.ReactCurrentOwner,bn=Fr.ReactCurrentBatchConfig,Ve=0,xt=null,_t=null,Lt=0,_n=0,Bs=Ii(0),At=0,Va=null,es=0,pc=0,Ff=0,la=null,un=null,Uf=0,ro=1/0,Tr=null,Lu=!1,Ad=null,ci=null,Ol=!1,ni=null,Ou=0,ua=0,Rd=null,nu=-1,ru=0;function sn(){return Ve&6?ft():nu!==-1?nu:nu=ft()}function hi(t){return t.mode&1?Ve&2&&Lt!==0?Lt&-Lt:OI.transition!==null?(ru===0&&(ru=s_()),ru):(t=Me,t!==0||(t=window.event,t=t===void 0?16:d_(t.type)),t):1}function Zn(t,e,n,r){if(50<ua)throw ua=0,Rd=null,Error(K(185));Wa(t,n,r),(!(Ve&2)||t!==xt)&&(t===xt&&(!(Ve&2)&&(pc|=n),At===4&&Jr(t,Lt)),fn(t,r),n===1&&Ve===0&&!(e.mode&1)&&(ro=ft()+500,cc&&Si()))}function fn(t,e){var n=t.callbackNode;OT(t,e);var r=_u(t,t===xt?Lt:0);if(r===0)n!==null&&Lm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Lm(n),e===1)t.tag===0?LI(Cg.bind(null,t)):D_(Cg.bind(null,t)),DI(function(){!(Ve&6)&&Si()}),n=null;else{switch(o_(r)){case 1:n=hf;break;case 4:n=r_;break;case 16:n=vu;break;case 536870912:n=i_;break;default:n=vu}n=x0(n,T0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function T0(t,e){if(nu=-1,ru=0,Ve&6)throw Error(K(327));var n=t.callbackNode;if(Gs()&&t.callbackNode!==n)return null;var r=_u(t,t===xt?Lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Mu(t,r);else{e=r;var i=Ve;Ve|=2;var s=S0();(xt!==t||Lt!==e)&&(Tr=null,ro=ft()+500,Ki(t,e));do try{nS();break}catch(l){I0(t,l)}while(!0);Sf(),bu.current=s,Ve=i,_t!==null?e=0:(xt=null,Lt=0,e=At)}if(e!==0){if(e===2&&(i=Zh(t),i!==0&&(r=i,e=Cd(t,i))),e===1)throw n=Va,Ki(t,0),Jr(t,r),fn(t,ft()),n;if(e===6)Jr(t,r);else{if(i=t.current.alternate,!(r&30)&&!eS(i)&&(e=Mu(t,r),e===2&&(s=Zh(t),s!==0&&(r=s,e=Cd(t,s))),e===1))throw n=Va,Ki(t,0),Jr(t,r),fn(t,ft()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:Fi(t,un,Tr);break;case 3:if(Jr(t,r),(r&130023424)===r&&(e=Uf+500-ft(),10<e)){if(_u(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ad(Fi.bind(null,t,un,Tr),e);break}Fi(t,un,Tr);break;case 4:if(Jr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Jn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ZI(r/1960))-r,10<r){t.timeoutHandle=ad(Fi.bind(null,t,un,Tr),r);break}Fi(t,un,Tr);break;case 5:Fi(t,un,Tr);break;default:throw Error(K(329))}}}return fn(t,ft()),t.callbackNode===n?T0.bind(null,t):null}function Cd(t,e){var n=la;return t.current.memoizedState.isDehydrated&&(Ki(t,e).flags|=256),t=Mu(t,e),t!==2&&(e=un,un=n,e!==null&&Pd(e)),t}function Pd(t){un===null?un=t:un.push.apply(un,t)}function eS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!er(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jr(t,e){for(e&=~Ff,e&=~pc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Jn(e),r=1<<n;t[n]=-1,e&=~r}}function Cg(t){if(Ve&6)throw Error(K(327));Gs();var e=_u(t,0);if(!(e&1))return fn(t,ft()),null;var n=Mu(t,e);if(t.tag!==0&&n===2){var r=Zh(t);r!==0&&(e=r,n=Cd(t,r))}if(n===1)throw n=Va,Ki(t,0),Jr(t,e),fn(t,ft()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fi(t,un,Tr),fn(t,ft()),null}function jf(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(ro=ft()+500,cc&&Si())}}function ts(t){ni!==null&&ni.tag===0&&!(Ve&6)&&Gs();var e=Ve;Ve|=1;var n=bn.transition,r=Me;try{if(bn.transition=null,Me=1,t)return t()}finally{Me=r,bn.transition=n,Ve=e,!(Ve&6)&&Si()}}function Bf(){_n=Bs.current,Je(Bs)}function Ki(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,kI(n)),_t!==null)for(n=_t.return;n!==null;){var r=n;switch(Ef(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Su();break;case 3:to(),Je(hn),Je(Gt),kf();break;case 5:xf(r);break;case 4:to();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:Af(r.type._context);break;case 22:case 23:Bf()}n=n.return}if(xt=t,_t=t=di(t.current,null),Lt=_n=e,At=0,Va=null,Ff=pc=es=0,un=la=null,zi!==null){for(e=0;e<zi.length;e++)if(n=zi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}zi=null}return t}function I0(t,e){do{var n=_t;try{if(Sf(),Zl.current=Vu,Nu){for(var r=rt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Nu=!1}if(Zi=0,Pt=St=rt=null,oa=!1,ka=0,Mf.current=null,n===null||n.return===null){At=1,Va=e,_t=null;break}e:{var s=t,o=n.return,l=n,u=e;if(e=Lt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var _=pg(o);if(_!==null){_.flags&=-257,mg(_,o,l,s,e),_.mode&1&&fg(s,c,e),e=_,u=c;var P=e.updateQueue;if(P===null){var D=new Set;D.add(u),e.updateQueue=D}else P.add(u);break e}else{if(!(e&1)){fg(s,c,e),zf();break e}u=Error(K(426))}}else if(Ze&&l.mode&1){var V=pg(o);if(V!==null){!(V.flags&65536)&&(V.flags|=256),mg(V,o,l,s,e),Tf(no(u,l));break e}}s=u=no(u,l),At!==4&&(At=2),la===null?la=[s]:la.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=o0(s,u,e);ag(s,S);break e;case 1:l=u;var y=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(ci===null||!ci.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=a0(s,l,e);ag(s,b);break e}}s=s.return}while(s!==null)}R0(n)}catch(B){e=B,_t===n&&n!==null&&(_t=n=n.return);continue}break}while(!0)}function S0(){var t=bu.current;return bu.current=Vu,t===null?Vu:t}function zf(){(At===0||At===3||At===2)&&(At=4),xt===null||!(es&268435455)&&!(pc&268435455)||Jr(xt,Lt)}function Mu(t,e){var n=Ve;Ve|=2;var r=S0();(xt!==t||Lt!==e)&&(Tr=null,Ki(t,e));do try{tS();break}catch(i){I0(t,i)}while(!0);if(Sf(),Ve=n,bu.current=r,_t!==null)throw Error(K(261));return xt=null,Lt=0,At}function tS(){for(;_t!==null;)A0(_t)}function nS(){for(;_t!==null&&!CT();)A0(_t)}function A0(t){var e=P0(t.alternate,t,_n);t.memoizedProps=t.pendingProps,e===null?R0(t):_t=e,Mf.current=null}function R0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=GI(n,e),n!==null){n.flags&=32767,_t=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{At=6,_t=null;return}}else if(n=QI(n,e,_n),n!==null){_t=n;return}if(e=e.sibling,e!==null){_t=e;return}_t=e=t}while(e!==null);At===0&&(At=5)}function Fi(t,e,n){var r=Me,i=bn.transition;try{bn.transition=null,Me=1,rS(t,e,n,r)}finally{bn.transition=i,Me=r}return null}function rS(t,e,n,r){do Gs();while(ni!==null);if(Ve&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(MT(t,s),t===xt&&(_t=xt=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ol||(Ol=!0,x0(vu,function(){return Gs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=bn.transition,bn.transition=null;var o=Me;Me=1;var l=Ve;Ve|=4,Mf.current=null,XI(t,n),w0(n,t),II(sd),wu=!!id,sd=id=null,t.current=n,JI(n),PT(),Ve=l,Me=o,bn.transition=s}else t.current=n;if(Ol&&(Ol=!1,ni=t,Ou=i),s=t.pendingLanes,s===0&&(ci=null),DT(n.stateNode),fn(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Lu)throw Lu=!1,t=Ad,Ad=null,t;return Ou&1&&t.tag!==0&&Gs(),s=t.pendingLanes,s&1?t===Rd?ua++:(ua=0,Rd=t):ua=0,Si(),null}function Gs(){if(ni!==null){var t=o_(Ou),e=bn.transition,n=Me;try{if(bn.transition=null,Me=16>t?16:t,ni===null)var r=!1;else{if(t=ni,ni=null,Ou=0,Ve&6)throw Error(K(331));var i=Ve;for(Ve|=4,ne=t.current;ne!==null;){var s=ne,o=s.child;if(ne.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(ne=c;ne!==null;){var d=ne;switch(d.tag){case 0:case 11:case 15:aa(8,d,s)}var m=d.child;if(m!==null)m.return=d,ne=m;else for(;ne!==null;){d=ne;var g=d.sibling,_=d.return;if(y0(d),d===c){ne=null;break}if(g!==null){g.return=_,ne=g;break}ne=_}}}var P=s.alternate;if(P!==null){var D=P.child;if(D!==null){P.child=null;do{var V=D.sibling;D.sibling=null,D=V}while(D!==null)}}ne=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ne=o;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:aa(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,ne=S;break e}ne=s.return}}var y=t.current;for(ne=y;ne!==null;){o=ne;var A=o.child;if(o.subtreeFlags&2064&&A!==null)A.return=o,ne=A;else e:for(o=y;ne!==null;){if(l=ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:fc(9,l)}}catch(B){lt(l,l.return,B)}if(l===o){ne=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,ne=b;break e}ne=l.return}}if(Ve=i,Si(),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(sc,t)}catch{}r=!0}return r}finally{Me=n,bn.transition=e}}return!1}function Pg(t,e,n){e=no(n,e),e=o0(t,e,1),t=ui(t,e,1),e=sn(),t!==null&&(Wa(t,1,e),fn(t,e))}function lt(t,e,n){if(t.tag===3)Pg(t,t,n);else for(;e!==null;){if(e.tag===3){Pg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ci===null||!ci.has(r))){t=no(n,t),t=a0(e,t,1),e=ui(e,t,1),t=sn(),e!==null&&(Wa(e,1,t),fn(e,t));break}}e=e.return}}function iS(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=sn(),t.pingedLanes|=t.suspendedLanes&n,xt===t&&(Lt&n)===n&&(At===4||At===3&&(Lt&130023424)===Lt&&500>ft()-Uf?Ki(t,0):Ff|=n),fn(t,e)}function C0(t,e){e===0&&(t.mode&1?(e=Rl,Rl<<=1,!(Rl&130023424)&&(Rl=4194304)):e=1);var n=sn();t=Nr(t,e),t!==null&&(Wa(t,e,n),fn(t,n))}function sS(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),C0(t,n)}function oS(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),C0(t,n)}var P0;P0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||hn.current)cn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cn=!1,KI(t,e,n);cn=!!(t.flags&131072)}else cn=!1,Ze&&e.flags&1048576&&N_(e,Cu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;tu(t,e),t=e.pendingProps;var i=Js(e,Gt.current);Qs(e,n),i=Nf(null,e,r,t,i,n);var s=Vf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dn(r)?(s=!0,Au(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Cf(e),i.updater=dc,e.stateNode=i,i._reactInternals=e,pd(e,r,t,n),e=yd(null,e,r,!0,s,n)):(e.tag=0,Ze&&s&&wf(e),nn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(tu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=lS(r),t=Wn(r,t),i){case 0:e=gd(null,e,r,t,n);break e;case 1:e=vg(null,e,r,t,n);break e;case 11:e=gg(null,e,r,t,n);break e;case 14:e=yg(null,e,r,Wn(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),gd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),vg(t,e,r,i,n);case 3:e:{if(h0(e),t===null)throw Error(K(387));r=e.pendingProps,s=e.memoizedState,i=s.element,F_(t,e),ku(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=no(Error(K(423)),e),e=_g(t,e,r,n,i);break e}else if(r!==i){i=no(Error(K(424)),e),e=_g(t,e,r,n,i);break e}else for(En=li(e.stateNode.containerInfo.firstChild),In=e,Ze=!0,Gn=null,n=O_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zs(),r===i){e=Vr(t,e,n);break e}nn(t,e,r,n)}e=e.child}return e;case 5:return U_(e),t===null&&hd(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,od(r,i)?o=null:s!==null&&od(r,s)&&(e.flags|=32),c0(t,e),nn(t,e,o,n),e.child;case 6:return t===null&&hd(e),null;case 13:return d0(t,e,n);case 4:return Pf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=eo(e,null,r,n):nn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),gg(t,e,r,i,n);case 7:return nn(t,e,e.pendingProps,n),e.child;case 8:return nn(t,e,e.pendingProps.children,n),e.child;case 12:return nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,qe(Pu,r._currentValue),r._currentValue=o,s!==null)if(er(s.value,o)){if(s.children===i.children&&!hn.current){e=Vr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=Cr(-1,n&-n),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),dd(s.return,n,e),l.lanes|=n;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),dd(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}nn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qs(e,n),i=Fn(i),r=r(i),e.flags|=1,nn(t,e,r,n),e.child;case 14:return r=e.type,i=Wn(r,e.pendingProps),i=Wn(r.type,i),yg(t,e,r,i,n);case 15:return l0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wn(r,i),tu(t,e),e.tag=1,dn(r)?(t=!0,Au(e)):t=!1,Qs(e,n),s0(e,r,i),pd(e,r,i,n),yd(null,e,r,!0,t,n);case 19:return f0(t,e,n);case 22:return u0(t,e,n)}throw Error(K(156,e.tag))};function x0(t,e){return n_(t,e)}function aS(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,e,n,r){return new aS(t,e,n,r)}function $f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lS(t){if(typeof t=="function")return $f(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lf)return 11;if(t===uf)return 14}return 2}function di(t,e){var n=t.alternate;return n===null?(n=Vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function iu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")$f(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ds:return Qi(n.children,i,s,e);case af:o=8,i|=8;break;case Fh:return t=Vn(12,n,e,i|2),t.elementType=Fh,t.lanes=s,t;case Uh:return t=Vn(13,n,e,i),t.elementType=Uh,t.lanes=s,t;case jh:return t=Vn(19,n,e,i),t.elementType=jh,t.lanes=s,t;case Uv:return mc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Mv:o=10;break e;case Fv:o=9;break e;case lf:o=11;break e;case uf:o=14;break e;case Gr:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=Vn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Qi(t,e,n,r){return t=Vn(7,t,r,e),t.lanes=n,t}function mc(t,e,n,r){return t=Vn(22,t,r,e),t.elementType=Uv,t.lanes=n,t.stateNode={isHidden:!1},t}function gh(t,e,n){return t=Vn(6,t,null,e),t.lanes=n,t}function yh(t,e,n){return e=Vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function uS(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xc(0),this.expirationTimes=Xc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function qf(t,e,n,r,i,s,o,l,u){return t=new uS(t,e,n,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cf(s),t}function cS(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ks,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function k0(t){if(!t)return vi;t=t._reactInternals;e:{if(cs(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(dn(n))return k_(t,n,e)}return e}function D0(t,e,n,r,i,s,o,l,u){return t=qf(n,r,!0,t,i,s,o,l,u),t.context=k0(null),n=t.current,r=sn(),i=hi(n),s=Cr(r,i),s.callback=e??null,ui(n,s,i),t.current.lanes=i,Wa(t,i,r),fn(t,r),t}function gc(t,e,n,r){var i=e.current,s=sn(),o=hi(i);return n=k0(n),e.context===null?e.context=n:e.pendingContext=n,e=Cr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ui(i,e,o),t!==null&&(Zn(t,i,o,s),Jl(t,i,o)),o}function Fu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hf(t,e){xg(t,e),(t=t.alternate)&&xg(t,e)}function hS(){return null}var N0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wf(t){this._internalRoot=t}yc.prototype.render=Wf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));gc(t,e,null,null)};yc.prototype.unmount=Wf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ts(function(){gc(null,t,null,null)}),e[Dr]=null}};function yc(t){this._internalRoot=t}yc.prototype.unstable_scheduleHydration=function(t){if(t){var e=u_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Xr.length&&e!==0&&e<Xr[n].priority;n++);Xr.splice(n,0,t),n===0&&h_(t)}};function Kf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kg(){}function dS(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Fu(o);s.call(c)}}var o=D0(e,r,t,0,null,!1,!1,"",kg);return t._reactRootContainer=o,t[Dr]=o.current,Aa(t.nodeType===8?t.parentNode:t),ts(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Fu(u);l.call(c)}}var u=qf(t,0,!1,null,null,!1,!1,"",kg);return t._reactRootContainer=u,t[Dr]=u.current,Aa(t.nodeType===8?t.parentNode:t),ts(function(){gc(e,u,n,r)}),u}function _c(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Fu(o);l.call(u)}}gc(e,o,t,i)}else o=dS(n,e,t,i,r);return Fu(o)}a_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Go(e.pendingLanes);n!==0&&(df(e,n|1),fn(e,ft()),!(Ve&6)&&(ro=ft()+500,Si()))}break;case 13:ts(function(){var r=Nr(t,1);if(r!==null){var i=sn();Zn(r,t,1,i)}}),Hf(t,1)}};ff=function(t){if(t.tag===13){var e=Nr(t,134217728);if(e!==null){var n=sn();Zn(e,t,134217728,n)}Hf(t,134217728)}};l_=function(t){if(t.tag===13){var e=hi(t),n=Nr(t,e);if(n!==null){var r=sn();Zn(n,t,e,r)}Hf(t,e)}};u_=function(){return Me};c_=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};Yh=function(t,e,n){switch(e){case"input":if($h(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=uc(r);if(!i)throw Error(K(90));Bv(r),$h(r,i)}}}break;case"textarea":$v(t,n);break;case"select":e=n.value,e!=null&&qs(t,!!n.multiple,e,!1)}};Yv=jf;Xv=ts;var fS={usingClientEntryPoint:!1,Events:[Qa,Ls,uc,Qv,Gv,jf]},jo={findFiberByHostInstance:Bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pS={bundleType:jo.bundleType,version:jo.version,rendererPackageName:jo.rendererPackageName,rendererConfig:jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=e_(t),t===null?null:t.stateNode},findFiberByHostInstance:jo.findFiberByHostInstance||hS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ml=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ml.isDisabled&&Ml.supportsFiber)try{sc=Ml.inject(pS),dr=Ml}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fS;An.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kf(e))throw Error(K(200));return cS(t,e,null,n)};An.createRoot=function(t,e){if(!Kf(t))throw Error(K(299));var n=!1,r="",i=N0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=qf(t,1,!1,null,null,n,!1,r,i),t[Dr]=e.current,Aa(t.nodeType===8?t.parentNode:t),new Wf(e)};An.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=e_(e),t=t===null?null:t.stateNode,t};An.flushSync=function(t){return ts(t)};An.hydrate=function(t,e,n){if(!vc(e))throw Error(K(200));return _c(null,t,e,!0,n)};An.hydrateRoot=function(t,e,n){if(!Kf(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=N0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=D0(e,null,t,1,n??null,i,!1,s,o),t[Dr]=e.current,Aa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new yc(e)};An.render=function(t,e,n){if(!vc(e))throw Error(K(200));return _c(null,t,e,!1,n)};An.unmountComponentAtNode=function(t){if(!vc(t))throw Error(K(40));return t._reactRootContainer?(ts(function(){_c(null,null,t,!1,function(){t._reactRootContainer=null,t[Dr]=null})}),!0):!1};An.unstable_batchedUpdates=jf;An.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!vc(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return _c(t,e,n,!1,r)};An.version="18.3.1-next-f1338f8080-20240426";function V0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(V0)}catch(t){console.error(t)}}V0(),Vv.exports=An;var Qf=Vv.exports;const mS=Ev(Qf),gS=wv({__proto__:null,default:mS},[Qf]);var b0,Dg=Qf;b0=Dg.createRoot,Dg.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tt(){return tt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tt.apply(this,arguments)}var vt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(vt||(vt={}));const Ng="popstate";function yS(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:l}=r.location;return ba("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ns(i)}return _S(e,n,null,t)}function Te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function io(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vS(){return Math.random().toString(36).substr(2,8)}function Vg(t,e){return{usr:t.state,key:t.key,idx:e}}function ba(t,e,n,r){return n===void 0&&(n=null),tt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ai(e):e,{state:n,key:e&&e.key||r||vS()})}function ns(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ai(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function _S(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=vt.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(tt({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function m(){l=vt.Pop;let V=d(),S=V==null?null:V-c;c=V,u&&u({action:l,location:D.location,delta:S})}function g(V,S){l=vt.Push;let y=ba(D.location,V,S);c=d()+1;let A=Vg(y,c),b=D.createHref(y);try{o.pushState(A,"",b)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(b)}s&&u&&u({action:l,location:D.location,delta:1})}function _(V,S){l=vt.Replace;let y=ba(D.location,V,S);c=d();let A=Vg(y,c),b=D.createHref(y);o.replaceState(A,"",b),s&&u&&u({action:l,location:D.location,delta:0})}function P(V){let S=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof V=="string"?V:ns(V);return y=y.replace(/ $/,"%20"),Te(S,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,S)}let D={get action(){return l},get location(){return t(i,o)},listen(V){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Ng,m),u=V,()=>{i.removeEventListener(Ng,m),u=null}},createHref(V){return e(i,V)},createURL:P,encodeLocation(V){let S=P(V);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:_,go(V){return o.go(V)}};return D}var Ue;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ue||(Ue={}));const wS=new Set(["lazy","caseSensitive","path","id","index","children"]);function ES(t){return t.index===!0}function La(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],l=typeof i.id=="string"?i.id:o.join("-");if(Te(i.index!==!0||!i.children,"Cannot specify children on an index route"),Te(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),ES(i)){let u=tt({},i,e(i),{id:l});return r[l]=u,u}else{let u=tt({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=La(i.children,e,o,r)),u}})}function ji(t,e,n){return n===void 0&&(n="/"),su(t,e,n,!1)}function su(t,e,n,r){let i=typeof e=="string"?Ai(e):e,s=go(i.pathname||"/",n);if(s==null)return null;let o=L0(t);IS(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=bS(s);l=NS(o[u],c,r)}return l}function TS(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function L0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let u={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(Te(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Pr([r,u.relativePath]),d=n.concat(u);s.children&&s.children.length>0&&(Te(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),L0(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:kS(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let u of O0(s.path))i(s,o,u)}),e}function O0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=O0(r.join("/")),l=[];return l.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function IS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DS(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const SS=/^:[\w-]+$/,AS=3,RS=2,CS=1,PS=10,xS=-2,bg=t=>t==="*";function kS(t,e){let n=t.split("/"),r=n.length;return n.some(bg)&&(r+=xS),e&&(r+=RS),n.filter(i=>!bg(i)).reduce((i,s)=>i+(SS.test(s)?AS:s===""?CS:PS),r)}function DS(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function NS(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",m=Lg({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),g=u.route;if(!m&&c&&n&&!r[r.length-1].route.index&&(m=Lg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:Pr([s,m.pathname]),pathnameBase:MS(Pr([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=Pr([s,m.pathnameBase]))}return o}function Lg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=VS(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,d,m)=>{let{paramName:g,isOptional:_}=d;if(g==="*"){let D=l[m]||"";o=s.slice(0,s.length-D.length).replace(/(.)\/+$/,"$1")}const P=l[m];return _&&!P?c[g]=void 0:c[g]=(P||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function VS(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),io(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function bS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return io(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function go(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function LS(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ai(t):t;return{pathname:n?n.startsWith("/")?n:OS(n,e):e,search:FS(r),hash:US(i)}}function OS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function M0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gf(t,e){let n=M0(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Yf(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ai(t):(i=tt({},t),Te(!i.pathname||!i.pathname.includes("?"),vh("?","pathname","search",i)),Te(!i.pathname||!i.pathname.includes("#"),vh("#","pathname","hash",i)),Te(!i.search||!i.search.includes("#"),vh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}l=m>=0?e[m]:"/"}let u=LS(i,l),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Pr=t=>t.join("/").replace(/\/\/+/g,"/"),MS=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FS=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,US=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Uu{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function wc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const F0=["post","put","patch","delete"],jS=new Set(F0),BS=["get",...F0],zS=new Set(BS),$S=new Set([301,302,303,307,308]),qS=new Set([307,308]),_h={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},HS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Bo={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Xf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WS=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),U0="remix-router-transitions";function KS(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Te(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let k=t.detectErrorBoundary;i=N=>({hasErrorBoundary:k(N)})}else i=WS;let s={},o=La(t.routes,i,void 0,s),l,u=t.basename||"/",c=t.unstable_dataStrategy||ZS,d=t.unstable_patchRoutesOnNavigation,m=tt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),g=null,_=new Set,P=1e3,D=new Set,V=null,S=null,y=null,A=t.hydrationData!=null,b=ji(o,t.history.location,u),B=null;if(b==null&&!d){let k=tn(404,{pathname:t.history.location.pathname}),{matches:N,route:M}=qg(o);b=N,B={[M.id]:k}}b&&!t.hydrationData&&mt(b,o,t.history.location.pathname).active&&(b=null);let q;if(b)if(b.some(k=>k.route.lazy))q=!1;else if(!b.some(k=>k.route.loader))q=!0;else if(m.v7_partialHydration){let k=t.hydrationData?t.hydrationData.loaderData:null,N=t.hydrationData?t.hydrationData.errors:null,M=z=>z.route.loader?typeof z.route.loader=="function"&&z.route.loader.hydrate===!0?!1:k&&k[z.route.id]!==void 0||N&&N[z.route.id]!==void 0:!0;if(N){let z=b.findIndex(te=>N[te.route.id]!==void 0);q=b.slice(0,z+1).every(M)}else q=b.every(M)}else q=t.hydrationData!=null;else if(q=!1,b=[],m.v7_partialHydration){let k=mt(null,o,t.history.location.pathname);k.active&&k.matches&&(b=k.matches)}let E,p={historyAction:t.history.action,location:t.history.location,matches:b,initialized:q,navigation:_h,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||B,fetchers:new Map,blockers:new Map},w=vt.Pop,I=!1,R,C=!1,T=new Map,de=null,xe=!1,He=!1,je=[],G=new Set,ee=new Map,fe=0,be=-1,Ee=new Map,ke=new Set,Tt=new Map,kt=new Map,et=new Set,pt=new Map,mn=new Map,ps=new Map,jn;function vr(){if(g=t.history.listen(k=>{let{action:N,location:M,delta:z}=k;if(jn){jn(),jn=void 0;return}io(mn.size===0||z!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=vs({currentLocation:p.location,nextLocation:M,historyAction:N});if(te&&z!=null){let ce=new Promise(pe=>{jn=pe});t.history.go(z*-1),sr(te,{state:"blocked",location:M,proceed(){sr(te,{state:"proceeding",proceed:void 0,reset:void 0,location:M}),ce.then(()=>t.history.go(z))},reset(){let pe=new Map(p.blockers);pe.set(te,Bo),ot({blockers:pe})}});return}return x(N,M)}),n){pA(e,T);let k=()=>mA(e,T);e.addEventListener("pagehide",k),de=()=>e.removeEventListener("pagehide",k)}return p.initialized||x(vt.Pop,p.location,{initialHydration:!0}),E}function Ci(){g&&g(),de&&de(),_.clear(),R&&R.abort(),p.fetchers.forEach((k,N)=>ir(N)),p.blockers.forEach((k,N)=>To(N))}function jr(k){return _.add(k),()=>_.delete(k)}function ot(k,N){N===void 0&&(N={}),p=tt({},p,k);let M=[],z=[];m.v7_fetcherPersist&&p.fetchers.forEach((te,ce)=>{te.state==="idle"&&(et.has(ce)?z.push(ce):M.push(ce))}),[..._].forEach(te=>te(p,{deletedFetchers:z,unstable_viewTransitionOpts:N.viewTransitionOpts,unstable_flushSync:N.flushSync===!0})),m.v7_fetcherPersist&&(M.forEach(te=>p.fetchers.delete(te)),z.forEach(te=>ir(te)))}function Bn(k,N,M){var z,te;let{flushSync:ce}=M===void 0?{}:M,pe=p.actionData!=null&&p.navigation.formMethod!=null&&Qn(p.navigation.formMethod)&&p.navigation.state==="loading"&&((z=k.state)==null?void 0:z._isRedirect)!==!0,X;N.actionData?Object.keys(N.actionData).length>0?X=N.actionData:X=null:pe?X=p.actionData:X=null;let ue=N.loaderData?zg(p.loaderData,N.loaderData,N.matches||[],N.errors):p.loaderData,se=p.blockers;se.size>0&&(se=new Map(se),se.forEach((De,Fe)=>se.set(Fe,Bo)));let le=I===!0||p.navigation.formMethod!=null&&Qn(p.navigation.formMethod)&&((te=k.state)==null?void 0:te._isRedirect)!==!0;l&&(o=l,l=void 0),xe||w===vt.Pop||(w===vt.Push?t.history.push(k,k.state):w===vt.Replace&&t.history.replace(k,k.state));let Ce;if(w===vt.Pop){let De=T.get(p.location.pathname);De&&De.has(k.pathname)?Ce={currentLocation:p.location,nextLocation:k}:T.has(k.pathname)&&(Ce={currentLocation:k,nextLocation:p.location})}else if(C){let De=T.get(p.location.pathname);De?De.add(k.pathname):(De=new Set([k.pathname]),T.set(p.location.pathname,De)),Ce={currentLocation:p.location,nextLocation:k}}ot(tt({},N,{actionData:X,loaderData:ue,historyAction:w,location:k,initialized:!0,navigation:_h,revalidation:"idle",restoreScrollPosition:So(k,N.matches||p.matches),preventScrollReset:le,blockers:se}),{viewTransitionOpts:Ce,flushSync:ce===!0}),w=vt.Pop,I=!1,C=!1,xe=!1,He=!1,je=[]}async function ms(k,N){if(typeof k=="number"){t.history.go(k);return}let M=xd(p.location,p.matches,u,m.v7_prependBasename,k,m.v7_relativeSplatPath,N==null?void 0:N.fromRouteId,N==null?void 0:N.relative),{path:z,submission:te,error:ce}=Og(m.v7_normalizeFormMethod,!1,M,N),pe=p.location,X=ba(p.location,z,N&&N.state);X=tt({},X,t.history.encodeLocation(X));let ue=N&&N.replace!=null?N.replace:void 0,se=vt.Push;ue===!0?se=vt.Replace:ue===!1||te!=null&&Qn(te.formMethod)&&te.formAction===p.location.pathname+p.location.search&&(se=vt.Replace);let le=N&&"preventScrollReset"in N?N.preventScrollReset===!0:void 0,Ce=(N&&N.unstable_flushSync)===!0,De=vs({currentLocation:pe,nextLocation:X,historyAction:se});if(De){sr(De,{state:"blocked",location:X,proceed(){sr(De,{state:"proceeding",proceed:void 0,reset:void 0,location:X}),ms(k,N)},reset(){let Fe=new Map(p.blockers);Fe.set(De,Bo),ot({blockers:Fe})}});return}return await x(se,X,{submission:te,pendingError:ce,preventScrollReset:le,replace:N&&N.replace,enableViewTransition:N&&N.unstable_viewTransition,flushSync:Ce})}function sl(){if(Br(),ot({revalidation:"loading"}),p.navigation.state!=="submitting"){if(p.navigation.state==="idle"){x(p.historyAction,p.location,{startUninterruptedRevalidation:!0});return}x(w||p.historyAction,p.navigation.location,{overrideNavigation:p.navigation,enableViewTransition:C===!0})}}async function x(k,N,M){R&&R.abort(),R=null,w=k,xe=(M&&M.startUninterruptedRevalidation)===!0,xi(p.location,p.matches),I=(M&&M.preventScrollReset)===!0,C=(M&&M.enableViewTransition)===!0;let z=l||o,te=M&&M.overrideNavigation,ce=ji(z,N,u),pe=(M&&M.flushSync)===!0,X=mt(ce,z,N.pathname);if(X.active&&X.matches&&(ce=X.matches),!ce){let{error:Se,notFoundMatches:gt,route:We}=Pi(N.pathname);Bn(N,{matches:gt,loaderData:{},errors:{[We.id]:Se}},{flushSync:pe});return}if(p.initialized&&!He&&sA(p.location,N)&&!(M&&M.submission&&Qn(M.submission.formMethod))){Bn(N,{matches:ce},{flushSync:pe});return}R=new AbortController;let ue=As(t.history,N,R.signal,M&&M.submission),se;if(M&&M.pendingError)se=[zs(ce).route.id,{type:Ue.error,error:M.pendingError}];else if(M&&M.submission&&Qn(M.submission.formMethod)){let Se=await O(ue,N,M.submission,ce,X.active,{replace:M.replace,flushSync:pe});if(Se.shortCircuited)return;if(Se.pendingActionResult){let[gt,We]=Se.pendingActionResult;if(wn(We)&&wc(We.error)&&We.error.status===404){R=null,Bn(N,{matches:Se.matches,loaderData:{},errors:{[gt]:We.error}});return}}ce=Se.matches||ce,se=Se.pendingActionResult,te=wh(N,M.submission),pe=!1,X.active=!1,ue=As(t.history,ue.url,ue.signal)}let{shortCircuited:le,matches:Ce,loaderData:De,errors:Fe}=await U(ue,N,ce,X.active,te,M&&M.submission,M&&M.fetcherSubmission,M&&M.replace,M&&M.initialHydration===!0,pe,se);le||(R=null,Bn(N,tt({matches:Ce||ce},$g(se),{loaderData:De,errors:Fe})))}async function O(k,N,M,z,te,ce){ce===void 0&&(ce={}),Br();let pe=dA(N,M);if(ot({navigation:pe},{flushSync:ce.flushSync===!0}),te){let se=await ki(z,N.pathname,k.signal);if(se.type==="aborted")return{shortCircuited:!0};if(se.type==="error"){let{boundaryId:le,error:Ce}=Cn(N.pathname,se);return{matches:se.partialMatches,pendingActionResult:[le,{type:Ue.error,error:Ce}]}}else if(se.matches)z=se.matches;else{let{notFoundMatches:le,error:Ce,route:De}=Pi(N.pathname);return{matches:le,pendingActionResult:[De.id,{type:Ue.error,error:Ce}]}}}let X,ue=Xo(z,N);if(!ue.route.action&&!ue.route.lazy)X={type:Ue.error,error:tn(405,{method:k.method,pathname:N.pathname,routeId:ue.route.id})};else if(X=(await we("action",p,k,[ue],z,null))[ue.route.id],k.signal.aborted)return{shortCircuited:!0};if(qi(X)){let se;return ce&&ce.replace!=null?se=ce.replace:se=Ug(X.response.headers.get("Location"),new URL(k.url),u)===p.location.pathname+p.location.search,await _e(k,X,!0,{submission:M,replace:se}),{shortCircuited:!0}}if(ri(X))throw tn(400,{type:"defer-action"});if(wn(X)){let se=zs(z,ue.route.id);return(ce&&ce.replace)!==!0&&(w=vt.Push),{matches:z,pendingActionResult:[se.route.id,X]}}return{matches:z,pendingActionResult:[ue.route.id,X]}}async function U(k,N,M,z,te,ce,pe,X,ue,se,le){let Ce=te||wh(N,ce),De=ce||pe||Wg(Ce),Fe=!xe&&(!m.v7_partialHydration||!ue);if(z){if(Fe){let $e=Z(le);ot(tt({navigation:Ce},$e!==void 0?{actionData:$e}:{}),{flushSync:se})}let ge=await ki(M,N.pathname,k.signal);if(ge.type==="aborted")return{shortCircuited:!0};if(ge.type==="error"){let{boundaryId:$e,error:jt}=Cn(N.pathname,ge);return{matches:ge.partialMatches,loaderData:{},errors:{[$e]:jt}}}else if(ge.matches)M=ge.matches;else{let{error:$e,notFoundMatches:jt,route:Ke}=Pi(N.pathname);return{matches:jt,loaderData:{},errors:{[Ke.id]:$e}}}}let Se=l||o,[gt,We]=Mg(t.history,p,M,De,N,m.v7_partialHydration&&ue===!0,m.v7_skipActionErrorRevalidation,He,je,G,et,Tt,ke,Se,u,le);if(_s(ge=>!(M&&M.some($e=>$e.route.id===ge))||gt&&gt.some($e=>$e.route.id===ge)),be=++fe,gt.length===0&&We.length===0){let ge=al();return Bn(N,tt({matches:M,loaderData:{},errors:le&&wn(le[1])?{[le[0]]:le[1].error}:null},$g(le),ge?{fetchers:new Map(p.fetchers)}:{}),{flushSync:se}),{shortCircuited:!0}}if(Fe){let ge={};if(!z){ge.navigation=Ce;let $e=Z(le);$e!==void 0&&(ge.actionData=$e)}We.length>0&&(ge.fetchers=Y(We)),ot(ge,{flushSync:se})}We.forEach(ge=>{ee.has(ge.key)&&Zt(ge.key),ge.controller&&ee.set(ge.key,ge.controller)});let $r=()=>We.forEach(ge=>Zt(ge.key));R&&R.signal.addEventListener("abort",$r);let{loaderResults:gn,fetcherResults:Pn}=await Yt(p,M,gt,We,k);if(k.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",$r),We.forEach(ge=>ee.delete(ge.key));let Ut=Fl(gn);if(Ut)return await _e(k,Ut.result,!0,{replace:X}),{shortCircuited:!0};if(Ut=Fl(Pn),Ut)return ke.add(Ut.key),await _e(k,Ut.result,!0,{replace:X}),{shortCircuited:!0};let{loaderData:qr,errors:zn}=Bg(p,M,gt,gn,le,We,Pn,pt);pt.forEach((ge,$e)=>{ge.subscribe(jt=>{(jt||ge.done)&&pt.delete($e)})}),m.v7_partialHydration&&ue&&p.errors&&Object.entries(p.errors).filter(ge=>{let[$e]=ge;return!gt.some(jt=>jt.route.id===$e)}).forEach(ge=>{let[$e,jt]=ge;zn=Object.assign(zn||{},{[$e]:jt})});let Ni=al(),Vi=ys(be),bi=Ni||Vi||We.length>0;return tt({matches:M,loaderData:qr,errors:zn},bi?{fetchers:new Map(p.fetchers)}:{})}function Z(k){if(k&&!wn(k[1]))return{[k[0]]:k[1].data};if(p.actionData)return Object.keys(p.actionData).length===0?null:p.actionData}function Y(k){return k.forEach(N=>{let M=p.fetchers.get(N.key),z=zo(void 0,M?M.data:void 0);p.fetchers.set(N.key,z)}),new Map(p.fetchers)}function Q(k,N,M,z){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");ee.has(k)&&Zt(k);let te=(z&&z.unstable_flushSync)===!0,ce=l||o,pe=xd(p.location,p.matches,u,m.v7_prependBasename,M,m.v7_relativeSplatPath,N,z==null?void 0:z.relative),X=ji(ce,pe,u),ue=mt(X,ce,pe);if(ue.active&&ue.matches&&(X=ue.matches),!X){Jt(k,N,tn(404,{pathname:pe}),{flushSync:te});return}let{path:se,submission:le,error:Ce}=Og(m.v7_normalizeFormMethod,!0,pe,z);if(Ce){Jt(k,N,Ce,{flushSync:te});return}let De=Xo(X,se);if(I=(z&&z.preventScrollReset)===!0,le&&Qn(le.formMethod)){ae(k,N,se,De,X,ue.active,te,le);return}Tt.set(k,{routeId:N,path:se}),Re(k,N,se,De,X,ue.active,te,le)}async function ae(k,N,M,z,te,ce,pe,X){Br(),Tt.delete(k);function ue(Ke){if(!Ke.route.action&&!Ke.route.lazy){let $n=tn(405,{method:X.formMethod,pathname:M,routeId:N});return Jt(k,N,$n,{flushSync:pe}),!0}return!1}if(!ce&&ue(z))return;let se=p.fetchers.get(k);Xt(k,fA(X,se),{flushSync:pe});let le=new AbortController,Ce=As(t.history,M,le.signal,X);if(ce){let Ke=await ki(te,M,Ce.signal);if(Ke.type==="aborted")return;if(Ke.type==="error"){let{error:$n}=Cn(M,Ke);Jt(k,N,$n,{flushSync:pe});return}else if(Ke.matches){if(te=Ke.matches,z=Xo(te,M),ue(z))return}else{Jt(k,N,tn(404,{pathname:M}),{flushSync:pe});return}}ee.set(k,le);let De=fe,Se=(await we("action",p,Ce,[z],te,k))[z.route.id];if(Ce.signal.aborted){ee.get(k)===le&&ee.delete(k);return}if(m.v7_fetcherPersist&&et.has(k)){if(qi(Se)||wn(Se)){Xt(k,Qr(void 0));return}}else{if(qi(Se))if(ee.delete(k),be>De){Xt(k,Qr(void 0));return}else return ke.add(k),Xt(k,zo(X)),_e(Ce,Se,!1,{fetcherSubmission:X});if(wn(Se)){Jt(k,N,Se.error);return}}if(ri(Se))throw tn(400,{type:"defer-action"});let gt=p.navigation.location||p.location,We=As(t.history,gt,le.signal),$r=l||o,gn=p.navigation.state!=="idle"?ji($r,p.navigation.location,u):p.matches;Te(gn,"Didn't find any matches after fetcher action");let Pn=++fe;Ee.set(k,Pn);let Ut=zo(X,Se.data);p.fetchers.set(k,Ut);let[qr,zn]=Mg(t.history,p,gn,X,gt,!1,m.v7_skipActionErrorRevalidation,He,je,G,et,Tt,ke,$r,u,[z.route.id,Se]);zn.filter(Ke=>Ke.key!==k).forEach(Ke=>{let $n=Ke.key,ul=p.fetchers.get($n),cl=zo(void 0,ul?ul.data:void 0);p.fetchers.set($n,cl),ee.has($n)&&Zt($n),Ke.controller&&ee.set($n,Ke.controller)}),ot({fetchers:new Map(p.fetchers)});let Ni=()=>zn.forEach(Ke=>Zt(Ke.key));le.signal.addEventListener("abort",Ni);let{loaderResults:Vi,fetcherResults:bi}=await Yt(p,gn,qr,zn,We);if(le.signal.aborted)return;le.signal.removeEventListener("abort",Ni),Ee.delete(k),ee.delete(k),zn.forEach(Ke=>ee.delete(Ke.key));let ge=Fl(Vi);if(ge)return _e(We,ge.result,!1);if(ge=Fl(bi),ge)return ke.add(ge.key),_e(We,ge.result,!1);let{loaderData:$e,errors:jt}=Bg(p,gn,qr,Vi,void 0,zn,bi,pt);if(p.fetchers.has(k)){let Ke=Qr(Se.data);p.fetchers.set(k,Ke)}ys(Pn),p.navigation.state==="loading"&&Pn>be?(Te(w,"Expected pending action"),R&&R.abort(),Bn(p.navigation.location,{matches:gn,loaderData:$e,errors:jt,fetchers:new Map(p.fetchers)})):(ot({errors:jt,loaderData:zg(p.loaderData,$e,gn,jt),fetchers:new Map(p.fetchers)}),He=!1)}async function Re(k,N,M,z,te,ce,pe,X){let ue=p.fetchers.get(k);Xt(k,zo(X,ue?ue.data:void 0),{flushSync:pe});let se=new AbortController,le=As(t.history,M,se.signal);if(ce){let Se=await ki(te,M,le.signal);if(Se.type==="aborted")return;if(Se.type==="error"){let{error:gt}=Cn(M,Se);Jt(k,N,gt,{flushSync:pe});return}else if(Se.matches)te=Se.matches,z=Xo(te,M);else{Jt(k,N,tn(404,{pathname:M}),{flushSync:pe});return}}ee.set(k,se);let Ce=fe,Fe=(await we("loader",p,le,[z],te,k))[z.route.id];if(ri(Fe)&&(Fe=await Jf(Fe,le.signal,!0)||Fe),ee.get(k)===se&&ee.delete(k),!le.signal.aborted){if(et.has(k)){Xt(k,Qr(void 0));return}if(qi(Fe))if(be>Ce){Xt(k,Qr(void 0));return}else{ke.add(k),await _e(le,Fe,!1);return}if(wn(Fe)){Jt(k,N,Fe.error);return}Te(!ri(Fe),"Unhandled fetcher deferred data"),Xt(k,Qr(Fe.data))}}async function _e(k,N,M,z){let{submission:te,fetcherSubmission:ce,replace:pe}=z===void 0?{}:z;N.response.headers.has("X-Remix-Revalidate")&&(He=!0);let X=N.response.headers.get("Location");Te(X,"Expected a Location header on the redirect Response"),X=Ug(X,new URL(k.url),u);let ue=ba(p.location,X,{_isRedirect:!0});if(n){let Se=!1;if(N.response.headers.has("X-Remix-Reload-Document"))Se=!0;else if(Xf.test(X)){const gt=t.history.createURL(X);Se=gt.origin!==e.location.origin||go(gt.pathname,u)==null}if(Se){pe?e.location.replace(X):e.location.assign(X);return}}R=null;let se=pe===!0||N.response.headers.has("X-Remix-Replace")?vt.Replace:vt.Push,{formMethod:le,formAction:Ce,formEncType:De}=p.navigation;!te&&!ce&&le&&Ce&&De&&(te=Wg(p.navigation));let Fe=te||ce;if(qS.has(N.response.status)&&Fe&&Qn(Fe.formMethod))await x(se,ue,{submission:tt({},Fe,{formAction:X}),preventScrollReset:I,enableViewTransition:M?C:void 0});else{let Se=wh(ue,te);await x(se,ue,{overrideNavigation:Se,fetcherSubmission:ce,preventScrollReset:I,enableViewTransition:M?C:void 0})}}async function we(k,N,M,z,te,ce){let pe,X={};try{pe=await eA(c,k,N,M,z,te,ce,s,i)}catch(ue){return z.forEach(se=>{X[se.route.id]={type:Ue.error,error:ue}}),X}for(let[ue,se]of Object.entries(pe))if(aA(se)){let le=se.result;X[ue]={type:Ue.redirect,response:rA(le,M,ue,te,u,m.v7_relativeSplatPath)}}else X[ue]=await nA(se);return X}async function Yt(k,N,M,z,te){let ce=k.matches,pe=we("loader",k,te,M,N,null),X=Promise.all(z.map(async le=>{if(le.matches&&le.match&&le.controller){let De=(await we("loader",k,As(t.history,le.path,le.controller.signal),[le.match],le.matches,le.key))[le.match.route.id];return{[le.key]:De}}else return Promise.resolve({[le.key]:{type:Ue.error,error:tn(404,{pathname:le.path})}})})),ue=await pe,se=(await X).reduce((le,Ce)=>Object.assign(le,Ce),{});return await Promise.all([cA(N,ue,te.signal,ce,k.loaderData),hA(N,se,z)]),{loaderResults:ue,fetcherResults:se}}function Br(){He=!0,je.push(..._s()),Tt.forEach((k,N)=>{ee.has(N)&&(G.add(N),Zt(N))})}function Xt(k,N,M){M===void 0&&(M={}),p.fetchers.set(k,N),ot({fetchers:new Map(p.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function Jt(k,N,M,z){z===void 0&&(z={});let te=zs(p.matches,N);ir(k),ot({errors:{[te.route.id]:M},fetchers:new Map(p.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function rr(k){return m.v7_fetcherPersist&&(kt.set(k,(kt.get(k)||0)+1),et.has(k)&&et.delete(k)),p.fetchers.get(k)||HS}function ir(k){let N=p.fetchers.get(k);ee.has(k)&&!(N&&N.state==="loading"&&Ee.has(k))&&Zt(k),Tt.delete(k),Ee.delete(k),ke.delete(k),et.delete(k),G.delete(k),p.fetchers.delete(k)}function gs(k){if(m.v7_fetcherPersist){let N=(kt.get(k)||0)-1;N<=0?(kt.delete(k),et.add(k)):kt.set(k,N)}else ir(k);ot({fetchers:new Map(p.fetchers)})}function Zt(k){let N=ee.get(k);Te(N,"Expected fetch controller: "+k),N.abort(),ee.delete(k)}function ol(k){for(let N of k){let M=rr(N),z=Qr(M.data);p.fetchers.set(N,z)}}function al(){let k=[],N=!1;for(let M of ke){let z=p.fetchers.get(M);Te(z,"Expected fetcher: "+M),z.state==="loading"&&(ke.delete(M),k.push(M),N=!0)}return ol(k),N}function ys(k){let N=[];for(let[M,z]of Ee)if(z<k){let te=p.fetchers.get(M);Te(te,"Expected fetcher: "+M),te.state==="loading"&&(Zt(M),Ee.delete(M),N.push(M))}return ol(N),N.length>0}function ll(k,N){let M=p.blockers.get(k)||Bo;return mn.get(k)!==N&&mn.set(k,N),M}function To(k){p.blockers.delete(k),mn.delete(k)}function sr(k,N){let M=p.blockers.get(k)||Bo;Te(M.state==="unblocked"&&N.state==="blocked"||M.state==="blocked"&&N.state==="blocked"||M.state==="blocked"&&N.state==="proceeding"||M.state==="blocked"&&N.state==="unblocked"||M.state==="proceeding"&&N.state==="unblocked","Invalid blocker state transition: "+M.state+" -> "+N.state);let z=new Map(p.blockers);z.set(k,N),ot({blockers:z})}function vs(k){let{currentLocation:N,nextLocation:M,historyAction:z}=k;if(mn.size===0)return;mn.size>1&&io(!1,"A router only supports one blocker at a time");let te=Array.from(mn.entries()),[ce,pe]=te[te.length-1],X=p.blockers.get(ce);if(!(X&&X.state==="proceeding")&&pe({currentLocation:N,nextLocation:M,historyAction:z}))return ce}function Pi(k){let N=tn(404,{pathname:k}),M=l||o,{matches:z,route:te}=qg(M);return _s(),{notFoundMatches:z,route:te,error:N}}function Cn(k,N){return{boundaryId:zs(N.partialMatches).route.id,error:tn(400,{type:"route-discovery",pathname:k,message:N.error!=null&&"message"in N.error?N.error:String(N.error)})}}function _s(k){let N=[];return pt.forEach((M,z)=>{(!k||k(z))&&(M.cancel(),N.push(z),pt.delete(z))}),N}function ws(k,N,M){if(V=k,y=N,S=M||null,!A&&p.navigation===_h){A=!0;let z=So(p.location,p.matches);z!=null&&ot({restoreScrollPosition:z})}return()=>{V=null,y=null,S=null}}function Io(k,N){return S&&S(k,N.map(z=>TS(z,p.loaderData)))||k.key}function xi(k,N){if(V&&y){let M=Io(k,N);V[M]=y()}}function So(k,N){if(V){let M=Io(k,N),z=V[M];if(typeof z=="number")return z}return null}function mt(k,N,M){if(d){if(D.has(M))return{active:!1,matches:k};if(k){if(Object.keys(k[0].params).length>0)return{active:!0,matches:su(N,M,u,!0)}}else return{active:!0,matches:su(N,M,u,!0)||[]}}return{active:!1,matches:null}}async function ki(k,N,M){let z=k;for(;;){let te=l==null,ce=l||o;try{await XS(d,N,z,ce,s,i,ps,M)}catch(ue){return{type:"error",error:ue,partialMatches:z}}finally{te&&(o=[...o])}if(M.aborted)return{type:"aborted"};let pe=ji(ce,N,u);if(pe)return zr(N,D),{type:"success",matches:pe};let X=su(ce,N,u,!0);if(!X||z.length===X.length&&z.every((ue,se)=>ue.route.id===X[se].route.id))return zr(N,D),{type:"success",matches:null};z=X}}function zr(k,N){if(N.size>=P){let M=N.values().next().value;N.delete(M)}N.add(k)}function Di(k){s={},l=La(k,i,void 0,s)}function jc(k,N){let M=l==null;B0(k,N,l||o,s,i),M&&(o=[...o],ot({}))}return E={get basename(){return u},get future(){return m},get state(){return p},get routes(){return o},get window(){return e},initialize:vr,subscribe:jr,enableScrollRestoration:ws,navigate:ms,fetch:Q,revalidate:sl,createHref:k=>t.history.createHref(k),encodeLocation:k=>t.history.encodeLocation(k),getFetcher:rr,deleteFetcher:gs,dispose:Ci,getBlocker:ll,deleteBlocker:To,patchRoutes:jc,_internalFetchControllers:ee,_internalActiveDeferreds:pt,_internalSetRoutes:Di},E}function QS(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function xd(t,e,n,r,i,s,o,l){let u,c;if(o){u=[];for(let m of e)if(u.push(m),m.route.id===o){c=m;break}}else u=e,c=e[e.length-1];let d=Yf(i||".",Gf(u,s),go(t.pathname,n)||t.pathname,l==="path");return i==null&&(d.search=t.search,d.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!Zf(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Pr([n,d.pathname])),ns(d)}function Og(t,e,n,r){if(!r||!QS(r))return{path:n};if(r.formMethod&&!uA(r.formMethod))return{path:n,error:tn(405,{method:r.formMethod})};let i=()=>({path:n,error:tn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=z0(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Qn(o))return i();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((_,P)=>{let[D,V]=P;return""+_+D+"="+V+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!Qn(o))return i();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:l,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return i()}}}Te(typeof FormData=="function","FormData is not available in this environment");let u,c;if(r.formData)u=kd(r.formData),c=r.formData;else if(r.body instanceof FormData)u=kd(r.body),c=r.body;else if(r.body instanceof URLSearchParams)u=r.body,c=jg(u);else if(r.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(r.body),c=jg(u)}catch{return i()}let d={formMethod:o,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Qn(d.formMethod))return{path:n,submission:d};let m=Ai(n);return e&&m.search&&Zf(m.search)&&u.append("index",""),m.search="?"+u,{path:ns(m),submission:d}}function GS(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function Mg(t,e,n,r,i,s,o,l,u,c,d,m,g,_,P,D){let V=D?wn(D[1])?D[1].error:D[1].data:void 0,S=t.createURL(e.location),y=t.createURL(i),A=D&&wn(D[1])?D[0]:void 0,b=A?GS(n,A):n,B=D?D[1].statusCode:void 0,q=o&&B&&B>=400,E=b.filter((w,I)=>{let{route:R}=w;if(R.lazy)return!0;if(R.loader==null)return!1;if(s)return typeof R.loader!="function"||R.loader.hydrate?!0:e.loaderData[R.id]===void 0&&(!e.errors||e.errors[R.id]===void 0);if(YS(e.loaderData,e.matches[I],w)||u.some(de=>de===w.route.id))return!0;let C=e.matches[I],T=w;return Fg(w,tt({currentUrl:S,currentParams:C.params,nextUrl:y,nextParams:T.params},r,{actionResult:V,actionStatus:B,defaultShouldRevalidate:q?!1:l||S.pathname+S.search===y.pathname+y.search||S.search!==y.search||j0(C,T)}))}),p=[];return m.forEach((w,I)=>{if(s||!n.some(xe=>xe.route.id===w.routeId)||d.has(I))return;let R=ji(_,w.path,P);if(!R){p.push({key:I,routeId:w.routeId,path:w.path,matches:null,match:null,controller:null});return}let C=e.fetchers.get(I),T=Xo(R,w.path),de=!1;g.has(I)?de=!1:c.has(I)?(c.delete(I),de=!0):C&&C.state!=="idle"&&C.data===void 0?de=l:de=Fg(T,tt({currentUrl:S,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:V,actionStatus:B,defaultShouldRevalidate:q?!1:l})),de&&p.push({key:I,routeId:w.routeId,path:w.path,matches:R,match:T,controller:new AbortController})}),[E,p]}function YS(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function j0(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Fg(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function XS(t,e,n,r,i,s,o,l){let u=[e,...n.map(c=>c.route.id)].join("-");try{let c=o.get(u);c||(c=t({path:e,matches:n,patch:(d,m)=>{l.aborted||B0(d,m,r,i,s)}}),o.set(u,c)),c&&oA(c)&&await c}finally{o.delete(u)}}function B0(t,e,n,r,i){if(t){var s;let o=r[t];Te(o,"No route found to patch children into: routeId = "+t);let l=La(e,i,[t,"patch",String(((s=o.children)==null?void 0:s.length)||"0")],r);o.children?o.children.push(...l):o.children=l}else{let o=La(e,i,["patch",String(n.length||"0")],r);n.push(...o)}}async function JS(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Te(i,"No route found in manifest");let s={};for(let o in r){let u=i[o]!==void 0&&o!=="hasErrorBoundary";io(!u,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!u&&!wS.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,tt({},e(i),{lazy:void 0}))}async function ZS(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function eA(t,e,n,r,i,s,o,l,u,c){let d=s.map(_=>_.route.lazy?JS(_.route,u,l):void 0),m=s.map((_,P)=>{let D=d[P],V=i.some(y=>y.route.id===_.route.id);return tt({},_,{shouldLoad:V,resolve:async y=>(y&&r.method==="GET"&&(_.route.lazy||_.route.loader)&&(V=!0),V?tA(e,r,_,D,y,c):Promise.resolve({type:Ue.data,result:void 0}))})}),g=await t({matches:m,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(d)}catch{}return g}async function tA(t,e,n,r,i,s){let o,l,u=c=>{let d,m=new Promise((P,D)=>d=D);l=()=>d(),e.signal.addEventListener("abort",l);let g=P=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},...P!==void 0?[P]:[]),_=(async()=>{try{return{type:"data",result:await(i?i(D=>g(D)):g())}}catch(P){return{type:"error",result:P}}})();return Promise.race([_,m])};try{let c=n.route[t];if(r)if(c){let d,[m]=await Promise.all([u(c).catch(g=>{d=g}),r]);if(d!==void 0)throw d;o=m}else if(await r,c=n.route[t],c)o=await u(c);else if(t==="action"){let d=new URL(e.url),m=d.pathname+d.search;throw tn(405,{method:e.method,pathname:m,routeId:n.route.id})}else return{type:Ue.data,result:void 0};else if(c)o=await u(c);else{let d=new URL(e.url),m=d.pathname+d.search;throw tn(404,{pathname:m})}Te(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Ue.error,result:c}}finally{l&&e.signal.removeEventListener("abort",l)}return o}async function nA(t){let{result:e,type:n}=t;if($0(e)){let c;try{let d=e.headers.get("Content-Type");d&&/\bapplication\/json\b/.test(d)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(d){return{type:Ue.error,error:d}}return n===Ue.error?{type:Ue.error,error:new Uu(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Ue.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Ue.error){if(Hg(e)){var r;if(e.data instanceof Error){var i;return{type:Ue.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Uu(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Ue.error,error:e,statusCode:wc(e)?e.status:void 0}}if(lA(e)){var s,o;return{type:Ue.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(Hg(e)){var l,u;return{type:Ue.data,data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}}return{type:Ue.data,data:e}}function rA(t,e,n,r,i,s){let o=t.headers.get("Location");if(Te(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Xf.test(o)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);o=xd(new URL(e.url),l,i,!0,o,s),t.headers.set("Location",o)}return t}function Ug(t,e,n){if(Xf.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=go(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function As(t,e,n,r){let i=t.createURL(z0(e)).toString(),s={signal:n};if(r&&Qn(r.formMethod)){let{formMethod:o,formEncType:l}=r;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(r.json)):l==="text/plain"?s.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?s.body=kd(r.formData):s.body=r.formData}return new Request(i,s)}function kd(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function jg(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function iA(t,e,n,r,i){let s={},o=null,l,u=!1,c={},d=n&&wn(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let g=m.route.id,_=e[g];if(Te(!qi(_),"Cannot handle redirect results in processLoaderData"),wn(_)){let P=_.error;d!==void 0&&(P=d,d=void 0),o=o||{};{let D=zs(t,g);o[D.route.id]==null&&(o[D.route.id]=P)}s[g]=void 0,u||(u=!0,l=wc(_.error)?_.error.status:500),_.headers&&(c[g]=_.headers)}else ri(_)?(r.set(g,_.deferredData),s[g]=_.deferredData.data,_.statusCode!=null&&_.statusCode!==200&&!u&&(l=_.statusCode),_.headers&&(c[g]=_.headers)):(s[g]=_.data,_.statusCode&&_.statusCode!==200&&!u&&(l=_.statusCode),_.headers&&(c[g]=_.headers))}),d!==void 0&&n&&(o={[n[0]]:d},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:c}}function Bg(t,e,n,r,i,s,o,l){let{loaderData:u,errors:c}=iA(e,r,i,l);return s.forEach(d=>{let{key:m,match:g,controller:_}=d,P=o[m];if(Te(P,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(wn(P)){let D=zs(t.matches,g==null?void 0:g.route.id);c&&c[D.route.id]||(c=tt({},c,{[D.route.id]:P.error})),t.fetchers.delete(m)}else if(qi(P))Te(!1,"Unhandled fetcher revalidation redirect");else if(ri(P))Te(!1,"Unhandled fetcher deferred data");else{let D=Qr(P.data);t.fetchers.set(m,D)}}),{loaderData:u,errors:c}}function zg(t,e,n,r){let i=tt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function $g(t){return t?wn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function zs(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function qg(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function tn(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",s==="route-discovery"?u='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+o):i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?u="defer() is not supported in actions":s==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",u='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new Uu(t||500,l,new Error(u),!0)}function Fl(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(qi(i))return{key:r,result:i}}}function z0(t){let e=typeof t=="string"?Ai(t):t;return ns(tt({},e,{hash:""}))}function sA(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function oA(t){return typeof t=="object"&&t!=null&&"then"in t}function aA(t){return $0(t.result)&&$S.has(t.result.status)}function ri(t){return t.type===Ue.deferred}function wn(t){return t.type===Ue.error}function qi(t){return(t&&t.type)===Ue.redirect}function Hg(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function lA(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function $0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function uA(t){return zS.has(t.toLowerCase())}function Qn(t){return jS.has(t.toLowerCase())}async function cA(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[l,u]=s[o],c=t.find(g=>(g==null?void 0:g.route.id)===l);if(!c)continue;let d=r.find(g=>g.route.id===c.route.id),m=d!=null&&!j0(d,c)&&(i&&i[c.route.id])!==void 0;ri(u)&&m&&await Jf(u,n,!1).then(g=>{g&&(e[l]=g)})}}async function hA(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],l=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&ri(l)&&(Te(o,"Expected an AbortController for revalidating fetcher deferred result"),await Jf(l,o.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function Jf(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ue.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ue.error,error:i}}return{type:Ue.data,data:t.deferredData.data}}}function Zf(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Xo(t,e){let n=typeof e=="string"?Ai(e).search:e.search;if(t[t.length-1].route.index&&Zf(n||""))return t[t.length-1];let r=M0(t);return r[r.length-1]}function Wg(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function wh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function dA(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function zo(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function fA(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Qr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function pA(t,e){try{let n=t.sessionStorage.getItem(U0);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function mA(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(U0,JSON.stringify(n))}catch(r){io(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ju(){return ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ju.apply(this,arguments)}const Ec=H.createContext(null),q0=H.createContext(null),hs=H.createContext(null),ep=H.createContext(null),Ri=H.createContext({outlet:null,matches:[],isDataRoute:!1}),H0=H.createContext(null);function gA(t,e){let{relative:n}=e===void 0?{}:e;Ya()||Te(!1);let{basename:r,navigator:i}=H.useContext(hs),{hash:s,pathname:o,search:l}=K0(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Pr([r,o])),i.createHref({pathname:u,search:l,hash:s})}function Ya(){return H.useContext(ep)!=null}function Tc(){return Ya()||Te(!1),H.useContext(ep).location}function W0(t){H.useContext(hs).static||H.useLayoutEffect(t)}function tp(){let{isDataRoute:t}=H.useContext(Ri);return t?kA():yA()}function yA(){Ya()||Te(!1);let t=H.useContext(Ec),{basename:e,future:n,navigator:r}=H.useContext(hs),{matches:i}=H.useContext(Ri),{pathname:s}=Tc(),o=JSON.stringify(Gf(i,n.v7_relativeSplatPath)),l=H.useRef(!1);return W0(()=>{l.current=!0}),H.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let m=Yf(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Pr([e,m.pathname])),(d.replace?r.replace:r.push)(m,d.state,d)},[e,r,o,s,t])}const vA=H.createContext(null);function _A(t){let e=H.useContext(Ri).outlet;return e&&H.createElement(vA.Provider,{value:t},e)}function K0(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=H.useContext(hs),{matches:i}=H.useContext(Ri),{pathname:s}=Tc(),o=JSON.stringify(Gf(i,r.v7_relativeSplatPath));return H.useMemo(()=>Yf(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function wA(t,e,n,r){Ya()||Te(!1);let{navigator:i}=H.useContext(hs),{matches:s}=H.useContext(Ri),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=Tc(),d;d=c;let m=d.pathname||"/",g=m;if(u!=="/"){let D=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(D.length).join("/")}let _=ji(t,{pathname:g});return AA(_&&_.map(D=>Object.assign({},D,{params:Object.assign({},l,D.params),pathname:Pr([u,i.encodeLocation?i.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?u:Pr([u,i.encodeLocation?i.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),s,n,r)}function EA(){let t=xA(),e=wc(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:i},n):null,null)}const TA=H.createElement(EA,null);class IA extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?H.createElement(Ri.Provider,{value:this.props.routeContext},H.createElement(H0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SA(t){let{routeContext:e,match:n,children:r}=t,i=H.useContext(Ec);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),H.createElement(Ri.Provider,{value:e},r)}function AA(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);d>=0||Te(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(c=d),m.route.id){let{loaderData:g,errors:_}=n,P=m.route.loader&&g[m.route.id]===void 0&&(!_||_[m.route.id]===void 0);if(m.route.lazy||P){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,m,g)=>{let _,P=!1,D=null,V=null;n&&(_=l&&m.route.id?l[m.route.id]:void 0,D=m.route.errorElement||TA,u&&(c<0&&g===0?(DA("route-fallback"),P=!0,V=null):c===g&&(P=!0,V=m.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,g+1)),y=()=>{let A;return _?A=D:P?A=V:m.route.Component?A=H.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=d,H.createElement(SA,{match:m,routeContext:{outlet:d,matches:S,isDataRoute:n!=null},children:A})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?H.createElement(IA,{location:n.location,revalidation:n.revalidation,component:D,error:_,children:y(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):y()},null)}var Q0=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Q0||{}),Bu=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Bu||{});function RA(t){let e=H.useContext(Ec);return e||Te(!1),e}function CA(t){let e=H.useContext(q0);return e||Te(!1),e}function PA(t){let e=H.useContext(Ri);return e||Te(!1),e}function G0(t){let e=PA(),n=e.matches[e.matches.length-1];return n.route.id||Te(!1),n.route.id}function xA(){var t;let e=H.useContext(H0),n=CA(Bu.UseRouteError),r=G0(Bu.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function kA(){let{router:t}=RA(Q0.UseNavigateStable),e=G0(Bu.UseNavigateStable),n=H.useRef(!1);return W0(()=>{n.current=!0}),H.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ju({fromRouteId:e},s)))},[t,e])}const Kg={};function DA(t,e,n){Kg[t]||(Kg[t]=!0)}function NA(t){return _A(t.context)}function VA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=vt.Pop,navigator:s,static:o=!1,future:l}=t;Ya()&&Te(!1);let u=e.replace(/^\/*/,"/"),c=H.useMemo(()=>({basename:u,navigator:s,static:o,future:ju({v7_relativeSplatPath:!1},l)}),[u,l,s,o]);typeof r=="string"&&(r=Ai(r));let{pathname:d="/",search:m="",hash:g="",state:_=null,key:P="default"}=r,D=H.useMemo(()=>{let V=go(d,u);return V==null?null:{location:{pathname:V,search:m,hash:g,state:_,key:P},navigationType:i}},[u,d,m,g,_,P,i]);return D==null?null:H.createElement(hs.Provider,{value:c},H.createElement(ep.Provider,{children:n,value:D}))}new Promise(()=>{});function bA(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:H.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:H.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:H.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oa(){return Oa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oa.apply(this,arguments)}function LA(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function OA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MA(t,e){return t.button===0&&(!e||e==="_self")&&!OA(t)}const FA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],UA="6";try{window.__reactRouterVersion=UA}catch{}function jA(t,e){return KS({basename:void 0,future:Oa({},void 0,{v7_prependBasename:!0}),history:yS({window:void 0}),hydrationData:BA(),routes:t,mapRouteProperties:bA,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function BA(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Oa({},e,{errors:zA(e.errors)})),e}function zA(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Uu(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const $A=H.createContext({isTransitioning:!1}),qA=H.createContext(new Map),HA="startTransition",Qg=iT[HA],WA="flushSync",Gg=gS[WA];function KA(t){Qg?Qg(t):t()}function $o(t){Gg?Gg(t):t()}let QA=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function GA(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=H.useState(n.state),[o,l]=H.useState(),[u,c]=H.useState({isTransitioning:!1}),[d,m]=H.useState(),[g,_]=H.useState(),[P,D]=H.useState(),V=H.useRef(new Map),{v7_startTransition:S}=r||{},y=H.useCallback(p=>{S?KA(p):p()},[S]),A=H.useCallback((p,w)=>{let{deletedFetchers:I,unstable_flushSync:R,unstable_viewTransitionOpts:C}=w;I.forEach(de=>V.current.delete(de)),p.fetchers.forEach((de,xe)=>{de.data!==void 0&&V.current.set(xe,de.data)});let T=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!C||T){R?$o(()=>s(p)):y(()=>s(p));return}if(R){$o(()=>{g&&(d&&d.resolve(),g.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:C.currentLocation,nextLocation:C.nextLocation})});let de=n.window.document.startViewTransition(()=>{$o(()=>s(p))});de.finished.finally(()=>{$o(()=>{m(void 0),_(void 0),l(void 0),c({isTransitioning:!1})})}),$o(()=>_(de));return}g?(d&&d.resolve(),g.skipTransition(),D({state:p,currentLocation:C.currentLocation,nextLocation:C.nextLocation})):(l(p),c({isTransitioning:!0,flushSync:!1,currentLocation:C.currentLocation,nextLocation:C.nextLocation}))},[n.window,g,d,V,y]);H.useLayoutEffect(()=>n.subscribe(A),[n,A]),H.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new QA)},[u]),H.useEffect(()=>{if(d&&o&&n.window){let p=o,w=d.promise,I=n.window.document.startViewTransition(async()=>{y(()=>s(p)),await w});I.finished.finally(()=>{m(void 0),_(void 0),l(void 0),c({isTransitioning:!1})}),_(I)}},[y,o,d,n.window]),H.useEffect(()=>{d&&o&&i.location.key===o.location.key&&d.resolve()},[d,g,i.location,o]),H.useEffect(()=>{!u.isTransitioning&&P&&(l(P.state),c({isTransitioning:!0,flushSync:!1,currentLocation:P.currentLocation,nextLocation:P.nextLocation}),D(void 0))},[u.isTransitioning,P]),H.useEffect(()=>{},[]);let b=H.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:p=>n.navigate(p),push:(p,w,I)=>n.navigate(p,{state:w,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(p,w,I)=>n.navigate(p,{replace:!0,state:w,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),B=n.basename||"/",q=H.useMemo(()=>({router:n,navigator:b,static:!1,basename:B}),[n,b,B]),E=H.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return H.createElement(H.Fragment,null,H.createElement(Ec.Provider,{value:q},H.createElement(q0.Provider,{value:i},H.createElement(qA.Provider,{value:V.current},H.createElement($A.Provider,{value:u},H.createElement(VA,{basename:B,location:i.location,navigationType:i.historyAction,navigator:b,future:E},i.initialized||n.future.v7_partialHydration?H.createElement(YA,{routes:n.routes,future:n.future,state:i}):e))))),null)}const YA=H.memo(XA);function XA(t){let{routes:e,future:n,state:r}=t;return wA(e,void 0,r,n)}const JA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ma=H.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:u,to:c,preventScrollReset:d,unstable_viewTransition:m}=e,g=LA(e,FA),{basename:_}=H.useContext(hs),P,D=!1;if(typeof c=="string"&&ZA.test(c)&&(P=c,JA))try{let A=new URL(window.location.href),b=c.startsWith("//")?new URL(A.protocol+c):new URL(c),B=go(b.pathname,_);b.origin===A.origin&&B!=null?c=B+b.search+b.hash:D=!0}catch{}let V=gA(c,{relative:i}),S=eR(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:i,unstable_viewTransition:m});function y(A){r&&r(A),A.defaultPrevented||S(A)}return H.createElement("a",Oa({},g,{href:P||V,onClick:D||s?r:y,ref:n,target:u}))});var Yg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Yg||(Yg={}));var Xg;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Xg||(Xg={}));function eR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l}=e===void 0?{}:e,u=tp(),c=Tc(),d=K0(t,{relative:o});return H.useCallback(m=>{if(MA(m,n)){m.preventDefault();let g=r!==void 0?r:ns(c)===ns(d);u(t,{replace:g,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:l})}},[c,u,d,r,i,n,t,s,o,l])}const tR=()=>j.jsx(j.Fragment,{children:j.jsxs("div",{className:"navbar bg-primary text-primary-content flex justify-between",children:[j.jsx("div",{className:"p-2",children:j.jsx(Ma,{to:"/",children:j.jsx("button",{className:" text-xl font-semibold",children:"Innovatrix Academy"})})}),j.jsx("div",{children:j.jsxs("label",{className:"swap swap-rotate px-2",children:[j.jsx("input",{type:"checkbox",className:"theme-controller",value:"dark"}),j.jsx("svg",{className:"swap-on h-10 w-10 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:j.jsx("path",{d:"M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"})}),j.jsx("svg",{className:"swap-off h-10 w-10 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:j.jsx("path",{d:"M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"})})]})})]})}),nR=()=>j.jsxs(j.Fragment,{children:[j.jsx(tR,{}),j.jsx(NA,{})]}),rR=()=>j.jsx(j.Fragment,{children:j.jsx("h1",{children:"Home"})});var Xa=t=>t.type==="checkbox",$s=t=>t instanceof Date,rn=t=>t==null;const Y0=t=>typeof t=="object";var Et=t=>!rn(t)&&!Array.isArray(t)&&Y0(t)&&!$s(t),iR=t=>Et(t)&&t.target?Xa(t.target)?t.target.checked:t.target.value:t,sR=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,oR=(t,e)=>t.has(sR(e)),aR=t=>{const e=t.constructor&&t.constructor.prototype;return Et(e)&&e.hasOwnProperty("isPrototypeOf")},np=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function xn(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(np&&(t instanceof Blob||t instanceof FileList))&&(n||Et(t)))if(e=n?[]:{},!n&&!aR(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=xn(t[r]));else return t;return e}var Ic=t=>Array.isArray(t)?t.filter(Boolean):[],ht=t=>t===void 0,re=(t,e,n)=>{if(!e||!Et(t))return n;const r=Ic(e.split(/[,[\].]+?/)).reduce((i,s)=>rn(i)?i:i[s],t);return ht(r)||r===t?ht(t[e])?n:t[e]:r},lr=t=>typeof t=="boolean",rp=t=>/^\w*$/.test(t),X0=t=>Ic(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Ye=(t,e,n)=>{let r=-1;const i=rp(e)?[e]:X0(e),s=i.length,o=s-1;for(;++r<s;){const l=i[r];let u=n;if(r!==o){const c=t[l];u=Et(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(l==="__proto__")return;t[l]=u,t=t[l]}return t};const Jg={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Yn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Er={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};vn.createContext(null);var lR=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Yn.all&&(e._proxyFormState[o]=!r||Yn.all),t[o]}});return i},ln=t=>Et(t)&&!Object.keys(t).length,uR=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return ln(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===Yn.all)},ou=t=>Array.isArray(t)?t:[t];function cR(t){const e=vn.useRef(t);e.current=t,vn.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var cr=t=>typeof t=="string",hR=(t,e,n,r,i)=>cr(t)?(r&&e.watch.add(t),re(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),re(n,s))):(r&&(e.watchAll=!0),n),dR=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Zg=t=>({isOnSubmit:!t||t===Yn.onSubmit,isOnBlur:t===Yn.onBlur,isOnChange:t===Yn.onChange,isOnAll:t===Yn.all,isOnTouch:t===Yn.onTouched}),ey=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ca=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=re(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(ca(l,e))break}else if(Et(l)&&ca(l,e))break}}};var fR=(t,e,n)=>{const r=ou(re(t,n));return Ye(r,"root",e[n]),Ye(t,n,r),t},ip=t=>t.type==="file",Rr=t=>typeof t=="function",zu=t=>{if(!np)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},au=t=>cr(t),sp=t=>t.type==="radio",$u=t=>t instanceof RegExp;const ty={value:!1,isValid:!1},ny={value:!0,isValid:!0};var J0=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ht(t[0].attributes.value)?ht(t[0].value)||t[0].value===""?ny:{value:t[0].value,isValid:!0}:ny:ty}return ty};const ry={isValid:!1,value:null};var Z0=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,ry):ry;function iy(t,e,n="validate"){if(au(t)||Array.isArray(t)&&t.every(au)||lr(t)&&!t)return{type:n,message:au(t)?t:"",ref:e}}var Rs=t=>Et(t)&&!$u(t)?t:{value:t,message:""},sy=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:l,maxLength:u,minLength:c,min:d,max:m,pattern:g,validate:_,name:P,valueAsNumber:D,mount:V,disabled:S}=t._f,y=re(e,P);if(!V||S)return{};const A=o?o[0]:s,b=C=>{r&&A.reportValidity&&(A.setCustomValidity(lr(C)?"":C||""),A.reportValidity())},B={},q=sp(s),E=Xa(s),p=q||E,w=(D||ip(s))&&ht(s.value)&&ht(y)||zu(s)&&s.value===""||y===""||Array.isArray(y)&&!y.length,I=dR.bind(null,P,n,B),R=(C,T,de,xe=Er.maxLength,He=Er.minLength)=>{const je=C?T:de;B[P]={type:C?xe:He,message:je,ref:s,...I(C?xe:He,je)}};if(i?!Array.isArray(y)||!y.length:l&&(!p&&(w||rn(y))||lr(y)&&!y||E&&!J0(o).isValid||q&&!Z0(o).isValid)){const{value:C,message:T}=au(l)?{value:!!l,message:l}:Rs(l);if(C&&(B[P]={type:Er.required,message:T,ref:A,...I(Er.required,T)},!n))return b(T),B}if(!w&&(!rn(d)||!rn(m))){let C,T;const de=Rs(m),xe=Rs(d);if(!rn(y)&&!isNaN(y)){const He=s.valueAsNumber||y&&+y;rn(de.value)||(C=He>de.value),rn(xe.value)||(T=He<xe.value)}else{const He=s.valueAsDate||new Date(y),je=fe=>new Date(new Date().toDateString()+" "+fe),G=s.type=="time",ee=s.type=="week";cr(de.value)&&y&&(C=G?je(y)>je(de.value):ee?y>de.value:He>new Date(de.value)),cr(xe.value)&&y&&(T=G?je(y)<je(xe.value):ee?y<xe.value:He<new Date(xe.value))}if((C||T)&&(R(!!C,de.message,xe.message,Er.max,Er.min),!n))return b(B[P].message),B}if((u||c)&&!w&&(cr(y)||i&&Array.isArray(y))){const C=Rs(u),T=Rs(c),de=!rn(C.value)&&y.length>+C.value,xe=!rn(T.value)&&y.length<+T.value;if((de||xe)&&(R(de,C.message,T.message),!n))return b(B[P].message),B}if(g&&!w&&cr(y)){const{value:C,message:T}=Rs(g);if($u(C)&&!y.match(C)&&(B[P]={type:Er.pattern,message:T,ref:s,...I(Er.pattern,T)},!n))return b(T),B}if(_){if(Rr(_)){const C=await _(y,e),T=iy(C,A);if(T&&(B[P]={...T,...I(Er.validate,T.message)},!n))return b(T.message),B}else if(Et(_)){let C={};for(const T in _){if(!ln(C)&&!n)break;const de=iy(await _[T](y,e),A,T);de&&(C={...de,...I(T,de.message)},b(de.message),n&&(B[P]=C))}if(!ln(C)&&(B[P]={ref:A,...C},!n))return B}}return b(!0),B};function pR(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ht(t)?r++:t[e[r++]];return t}function mR(t){for(const e in t)if(t.hasOwnProperty(e)&&!ht(t[e]))return!1;return!0}function It(t,e){const n=Array.isArray(e)?e:rp(e)?[e]:X0(e),r=n.length===1?t:pR(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Et(r)&&ln(r)||Array.isArray(r)&&mR(r))&&It(t,n.slice(0,-1)),t}var Eh=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},qu=t=>rn(t)||!Y0(t);function Zr(t,e){if(qu(t)||qu(e))return t===e;if($s(t)&&$s(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if($s(s)&&$s(o)||Et(s)&&Et(o)||Array.isArray(s)&&Array.isArray(o)?!Zr(s,o):s!==o)return!1}}return!0}var ew=t=>t.type==="select-multiple",gR=t=>sp(t)||Xa(t),Th=t=>zu(t)&&t.isConnected,tw=t=>{for(const e in t)if(Rr(t[e]))return!0;return!1};function Hu(t,e={}){const n=Array.isArray(t);if(Et(t)||n)for(const r in t)Array.isArray(t[r])||Et(t[r])&&!tw(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Hu(t[r],e[r])):rn(t[r])||(e[r]=!0);return e}function nw(t,e,n){const r=Array.isArray(t);if(Et(t)||r)for(const i in t)Array.isArray(t[i])||Et(t[i])&&!tw(t[i])?ht(e)||qu(n[i])?n[i]=Array.isArray(t[i])?Hu(t[i],[]):{...Hu(t[i])}:nw(t[i],rn(e)?{}:e[i],n[i]):n[i]=!Zr(t[i],e[i]);return n}var Ul=(t,e)=>nw(t,e,Hu(e)),rw=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ht(t)?t:e?t===""?NaN:t&&+t:n&&cr(t)?new Date(t):r?r(t):t;function Ih(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return ip(e)?e.files:sp(e)?Z0(t.refs).value:ew(e)?[...e.selectedOptions].map(({value:n})=>n):Xa(e)?J0(t.refs).value:rw(ht(e.value)?t.ref.value:e.value,t)}var yR=(t,e,n,r)=>{const i={};for(const s of t){const o=re(e,s);o&&Ye(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},qo=t=>ht(t)?t:$u(t)?t.source:Et(t)?$u(t.value)?t.value.source:t.value:t;const oy="AsyncFunction";var vR=t=>(!t||!t.validate)&&!!(Rr(t.validate)&&t.validate.constructor.name===oy||Et(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===oy)),_R=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function ay(t,e,n){const r=re(t,n);if(r||rp(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=re(e,s),l=re(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(l&&l.type)return{name:s,error:l};i.pop()}return{name:n}}var wR=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,ER=(t,e)=>!Ic(re(t,e)).length&&It(t,e);const TR={mode:Yn.onSubmit,reValidateMode:Yn.onChange,shouldFocusError:!0};function IR(t={}){let e={...TR,...t},n={submitCount:0,isDirty:!1,isLoading:Rr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Et(e.defaultValues)||Et(e.values)?xn(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:xn(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={values:Eh(),array:Eh(),state:Eh()},g=Zg(e.mode),_=Zg(e.reValidateMode),P=e.criteriaMode===Yn.all,D=x=>O=>{clearTimeout(c),c=setTimeout(x,O)},V=async x=>{if(d.isValid||x){const O=e.resolver?ln((await p()).errors):await I(r,!0);O!==n.isValid&&m.state.next({isValid:O})}},S=(x,O)=>{(d.isValidating||d.validatingFields)&&((x||Array.from(l.mount)).forEach(U=>{U&&(O?Ye(n.validatingFields,U,O):It(n.validatingFields,U))}),m.state.next({validatingFields:n.validatingFields,isValidating:!ln(n.validatingFields)}))},y=(x,O=[],U,Z,Y=!0,Q=!0)=>{if(Z&&U){if(o.action=!0,Q&&Array.isArray(re(r,x))){const ae=U(re(r,x),Z.argA,Z.argB);Y&&Ye(r,x,ae)}if(Q&&Array.isArray(re(n.errors,x))){const ae=U(re(n.errors,x),Z.argA,Z.argB);Y&&Ye(n.errors,x,ae),ER(n.errors,x)}if(d.touchedFields&&Q&&Array.isArray(re(n.touchedFields,x))){const ae=U(re(n.touchedFields,x),Z.argA,Z.argB);Y&&Ye(n.touchedFields,x,ae)}d.dirtyFields&&(n.dirtyFields=Ul(i,s)),m.state.next({name:x,isDirty:C(x,O),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Ye(s,x,O)},A=(x,O)=>{Ye(n.errors,x,O),m.state.next({errors:n.errors})},b=x=>{n.errors=x,m.state.next({errors:n.errors,isValid:!1})},B=(x,O,U,Z)=>{const Y=re(r,x);if(Y){const Q=re(s,x,ht(U)?re(i,x):U);ht(Q)||Z&&Z.defaultChecked||O?Ye(s,x,O?Q:Ih(Y._f)):xe(x,Q),o.mount&&V()}},q=(x,O,U,Z,Y)=>{let Q=!1,ae=!1;const Re={name:x},_e=!!(re(r,x)&&re(r,x)._f&&re(r,x)._f.disabled);if(!U||Z){d.isDirty&&(ae=n.isDirty,n.isDirty=Re.isDirty=C(),Q=ae!==Re.isDirty);const we=_e||Zr(re(i,x),O);ae=!!(!_e&&re(n.dirtyFields,x)),we||_e?It(n.dirtyFields,x):Ye(n.dirtyFields,x,!0),Re.dirtyFields=n.dirtyFields,Q=Q||d.dirtyFields&&ae!==!we}if(U){const we=re(n.touchedFields,x);we||(Ye(n.touchedFields,x,U),Re.touchedFields=n.touchedFields,Q=Q||d.touchedFields&&we!==U)}return Q&&Y&&m.state.next(Re),Q?Re:{}},E=(x,O,U,Z)=>{const Y=re(n.errors,x),Q=d.isValid&&lr(O)&&n.isValid!==O;if(t.delayError&&U?(u=D(()=>A(x,U)),u(t.delayError)):(clearTimeout(c),u=null,U?Ye(n.errors,x,U):It(n.errors,x)),(U?!Zr(Y,U):Y)||!ln(Z)||Q){const ae={...Z,...Q&&lr(O)?{isValid:O}:{},errors:n.errors,name:x};n={...n,...ae},m.state.next(ae)}},p=async x=>{S(x,!0);const O=await e.resolver(s,e.context,yR(x||l.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return S(x),O},w=async x=>{const{errors:O}=await p(x);if(x)for(const U of x){const Z=re(O,U);Z?Ye(n.errors,U,Z):It(n.errors,U)}else n.errors=O;return O},I=async(x,O,U={valid:!0})=>{for(const Z in x){const Y=x[Z];if(Y){const{_f:Q,...ae}=Y;if(Q){const Re=l.array.has(Q.name),_e=Y._f&&vR(Y._f);_e&&d.validatingFields&&S([Z],!0);const we=await sy(Y,s,P,e.shouldUseNativeValidation&&!O,Re);if(_e&&d.validatingFields&&S([Z]),we[Q.name]&&(U.valid=!1,O))break;!O&&(re(we,Q.name)?Re?fR(n.errors,we,Q.name):Ye(n.errors,Q.name,we[Q.name]):It(n.errors,Q.name))}!ln(ae)&&await I(ae,O,U)}}return U.valid},R=()=>{for(const x of l.unMount){const O=re(r,x);O&&(O._f.refs?O._f.refs.every(U=>!Th(U)):!Th(O._f.ref))&&et(x)}l.unMount=new Set},C=(x,O)=>(x&&O&&Ye(s,x,O),!Zr(be(),i)),T=(x,O,U)=>hR(x,l,{...o.mount?s:ht(O)?i:cr(x)?{[x]:O}:O},U,O),de=x=>Ic(re(o.mount?s:i,x,t.shouldUnregister?re(i,x,[]):[])),xe=(x,O,U={})=>{const Z=re(r,x);let Y=O;if(Z){const Q=Z._f;Q&&(!Q.disabled&&Ye(s,x,rw(O,Q)),Y=zu(Q.ref)&&rn(O)?"":O,ew(Q.ref)?[...Q.ref.options].forEach(ae=>ae.selected=Y.includes(ae.value)):Q.refs?Xa(Q.ref)?Q.refs.length>1?Q.refs.forEach(ae=>(!ae.defaultChecked||!ae.disabled)&&(ae.checked=Array.isArray(Y)?!!Y.find(Re=>Re===ae.value):Y===ae.value)):Q.refs[0]&&(Q.refs[0].checked=!!Y):Q.refs.forEach(ae=>ae.checked=ae.value===Y):ip(Q.ref)?Q.ref.value="":(Q.ref.value=Y,Q.ref.type||m.values.next({name:x,values:{...s}})))}(U.shouldDirty||U.shouldTouch)&&q(x,Y,U.shouldTouch,U.shouldDirty,!0),U.shouldValidate&&fe(x)},He=(x,O,U)=>{for(const Z in O){const Y=O[Z],Q=`${x}.${Z}`,ae=re(r,Q);(l.array.has(x)||!qu(Y)||ae&&!ae._f)&&!$s(Y)?He(Q,Y,U):xe(Q,Y,U)}},je=(x,O,U={})=>{const Z=re(r,x),Y=l.array.has(x),Q=xn(O);Ye(s,x,Q),Y?(m.array.next({name:x,values:{...s}}),(d.isDirty||d.dirtyFields)&&U.shouldDirty&&m.state.next({name:x,dirtyFields:Ul(i,s),isDirty:C(x,Q)})):Z&&!Z._f&&!rn(Q)?He(x,Q,U):xe(x,Q,U),ey(x,l)&&m.state.next({...n}),m.values.next({name:o.mount?x:void 0,values:{...s}})},G=async x=>{o.mount=!0;const O=x.target;let U=O.name,Z=!0;const Y=re(r,U),Q=()=>O.type?Ih(Y._f):iR(x),ae=Re=>{Z=Number.isNaN(Re)||Zr(Re,re(s,U,Re))};if(Y){let Re,_e;const we=Q(),Yt=x.type===Jg.BLUR||x.type===Jg.FOCUS_OUT,Br=!_R(Y._f)&&!e.resolver&&!re(n.errors,U)&&!Y._f.deps||wR(Yt,re(n.touchedFields,U),n.isSubmitted,_,g),Xt=ey(U,l,Yt);Ye(s,U,we),Yt?(Y._f.onBlur&&Y._f.onBlur(x),u&&u(0)):Y._f.onChange&&Y._f.onChange(x);const Jt=q(U,we,Yt,!1),rr=!ln(Jt)||Xt;if(!Yt&&m.values.next({name:U,type:x.type,values:{...s}}),Br)return d.isValid&&(t.mode==="onBlur"?Yt&&V():V()),rr&&m.state.next({name:U,...Xt?{}:Jt});if(!Yt&&Xt&&m.state.next({...n}),e.resolver){const{errors:ir}=await p([U]);if(ae(we),Z){const gs=ay(n.errors,r,U),Zt=ay(ir,r,gs.name||U);Re=Zt.error,U=Zt.name,_e=ln(ir)}}else S([U],!0),Re=(await sy(Y,s,P,e.shouldUseNativeValidation))[U],S([U]),ae(we),Z&&(Re?_e=!1:d.isValid&&(_e=await I(r,!0)));Z&&(Y._f.deps&&fe(Y._f.deps),E(U,_e,Re,Jt))}},ee=(x,O)=>{if(re(n.errors,O)&&x.focus)return x.focus(),1},fe=async(x,O={})=>{let U,Z;const Y=ou(x);if(e.resolver){const Q=await w(ht(x)?x:Y);U=ln(Q),Z=x?!Y.some(ae=>re(Q,ae)):U}else x?(Z=(await Promise.all(Y.map(async Q=>{const ae=re(r,Q);return await I(ae&&ae._f?{[Q]:ae}:ae)}))).every(Boolean),!(!Z&&!n.isValid)&&V()):Z=U=await I(r);return m.state.next({...!cr(x)||d.isValid&&U!==n.isValid?{}:{name:x},...e.resolver||!x?{isValid:U}:{},errors:n.errors}),O.shouldFocus&&!Z&&ca(r,ee,x?Y:l.mount),Z},be=x=>{const O={...o.mount?s:i};return ht(x)?O:cr(x)?re(O,x):x.map(U=>re(O,U))},Ee=(x,O)=>({invalid:!!re((O||n).errors,x),isDirty:!!re((O||n).dirtyFields,x),error:re((O||n).errors,x),isValidating:!!re(n.validatingFields,x),isTouched:!!re((O||n).touchedFields,x)}),ke=x=>{x&&ou(x).forEach(O=>It(n.errors,O)),m.state.next({errors:x?n.errors:{}})},Tt=(x,O,U)=>{const Z=(re(r,x,{_f:{}})._f||{}).ref,Y=re(n.errors,x)||{},{ref:Q,message:ae,type:Re,..._e}=Y;Ye(n.errors,x,{..._e,...O,ref:Z}),m.state.next({name:x,errors:n.errors,isValid:!1}),U&&U.shouldFocus&&Z&&Z.focus&&Z.focus()},kt=(x,O)=>Rr(x)?m.values.subscribe({next:U=>x(T(void 0,O),U)}):T(x,O,!0),et=(x,O={})=>{for(const U of x?ou(x):l.mount)l.mount.delete(U),l.array.delete(U),O.keepValue||(It(r,U),It(s,U)),!O.keepError&&It(n.errors,U),!O.keepDirty&&It(n.dirtyFields,U),!O.keepTouched&&It(n.touchedFields,U),!O.keepIsValidating&&It(n.validatingFields,U),!e.shouldUnregister&&!O.keepDefaultValue&&It(i,U);m.values.next({values:{...s}}),m.state.next({...n,...O.keepDirty?{isDirty:C()}:{}}),!O.keepIsValid&&V()},pt=({disabled:x,name:O,field:U,fields:Z,value:Y})=>{if(lr(x)&&o.mount||x){const Q=x?void 0:ht(Y)?Ih(U?U._f:re(Z,O)._f):Y;Ye(s,O,Q),q(O,Q,!1,!1,!0)}},mn=(x,O={})=>{let U=re(r,x);const Z=lr(O.disabled)||lr(t.disabled);return Ye(r,x,{...U||{},_f:{...U&&U._f?U._f:{ref:{name:x}},name:x,mount:!0,...O}}),l.mount.add(x),U?pt({field:U,disabled:lr(O.disabled)?O.disabled:t.disabled,name:x,value:O.value}):B(x,!0,O.value),{...Z?{disabled:O.disabled||t.disabled}:{},...e.progressive?{required:!!O.required,min:qo(O.min),max:qo(O.max),minLength:qo(O.minLength),maxLength:qo(O.maxLength),pattern:qo(O.pattern)}:{},name:x,onChange:G,onBlur:G,ref:Y=>{if(Y){mn(x,O),U=re(r,x);const Q=ht(Y.value)&&Y.querySelectorAll&&Y.querySelectorAll("input,select,textarea")[0]||Y,ae=gR(Q),Re=U._f.refs||[];if(ae?Re.find(_e=>_e===Q):Q===U._f.ref)return;Ye(r,x,{_f:{...U._f,...ae?{refs:[...Re.filter(Th),Q,...Array.isArray(re(i,x))?[{}]:[]],ref:{type:Q.type,name:x}}:{ref:Q}}}),B(x,!1,void 0,Q)}else U=re(r,x,{}),U._f&&(U._f.mount=!1),(e.shouldUnregister||O.shouldUnregister)&&!(oR(l.array,x)&&o.action)&&l.unMount.add(x)}}},ps=()=>e.shouldFocusError&&ca(r,ee,l.mount),jn=x=>{lr(x)&&(m.state.next({disabled:x}),ca(r,(O,U)=>{const Z=re(r,U);Z&&(O.disabled=Z._f.disabled||x,Array.isArray(Z._f.refs)&&Z._f.refs.forEach(Y=>{Y.disabled=Z._f.disabled||x}))},0,!1))},vr=(x,O)=>async U=>{let Z;U&&(U.preventDefault&&U.preventDefault(),U.persist&&U.persist());let Y=xn(s);if(m.state.next({isSubmitting:!0}),e.resolver){const{errors:Q,values:ae}=await p();n.errors=Q,Y=ae}else await I(r);if(It(n.errors,"root"),ln(n.errors)){m.state.next({errors:{}});try{await x(Y,U)}catch(Q){Z=Q}}else O&&await O({...n.errors},U),ps(),setTimeout(ps);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ln(n.errors)&&!Z,submitCount:n.submitCount+1,errors:n.errors}),Z)throw Z},Ci=(x,O={})=>{re(r,x)&&(ht(O.defaultValue)?je(x,xn(re(i,x))):(je(x,O.defaultValue),Ye(i,x,xn(O.defaultValue))),O.keepTouched||It(n.touchedFields,x),O.keepDirty||(It(n.dirtyFields,x),n.isDirty=O.defaultValue?C(x,xn(re(i,x))):C()),O.keepError||(It(n.errors,x),d.isValid&&V()),m.state.next({...n}))},jr=(x,O={})=>{const U=x?xn(x):i,Z=xn(U),Y=ln(x),Q=Y?i:Z;if(O.keepDefaultValues||(i=U),!O.keepValues){if(O.keepDirtyValues)for(const ae of l.mount)re(n.dirtyFields,ae)?Ye(Q,ae,re(s,ae)):je(ae,re(Q,ae));else{if(np&&ht(x))for(const ae of l.mount){const Re=re(r,ae);if(Re&&Re._f){const _e=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(zu(_e)){const we=_e.closest("form");if(we){we.reset();break}}}}r={}}s=t.shouldUnregister?O.keepDefaultValues?xn(i):{}:xn(Q),m.array.next({values:{...Q}}),m.values.next({values:{...Q}})}l={mount:O.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!O.keepIsValid||!!O.keepDirtyValues,o.watch=!!t.shouldUnregister,m.state.next({submitCount:O.keepSubmitCount?n.submitCount:0,isDirty:Y?!1:O.keepDirty?n.isDirty:!!(O.keepDefaultValues&&!Zr(x,i)),isSubmitted:O.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Y?{}:O.keepDirtyValues?O.keepDefaultValues&&s?Ul(i,s):n.dirtyFields:O.keepDefaultValues&&x?Ul(i,x):O.keepDirty?n.dirtyFields:{},touchedFields:O.keepTouched?n.touchedFields:{},errors:O.keepErrors?n.errors:{},isSubmitSuccessful:O.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},ot=(x,O)=>jr(Rr(x)?x(s):x,O);return{control:{register:mn,unregister:et,getFieldState:Ee,handleSubmit:vr,setError:Tt,_executeSchema:p,_getWatch:T,_getDirty:C,_updateValid:V,_removeUnmounted:R,_updateFieldArray:y,_updateDisabledField:pt,_getFieldArray:de,_reset:jr,_resetDefaultValues:()=>Rr(e.defaultValues)&&e.defaultValues().then(x=>{ot(x,e.resetOptions),m.state.next({isLoading:!1})}),_updateFormState:x=>{n={...n,...x}},_disableForm:jn,_subjects:m,_proxyFormState:d,_setErrors:b,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(x){o=x},get _defaultValues(){return i},get _names(){return l},set _names(x){l=x},get _formState(){return n},set _formState(x){n=x},get _options(){return e},set _options(x){e={...e,...x}}},trigger:fe,register:mn,handleSubmit:vr,watch:kt,setValue:je,getValues:be,reset:ot,resetField:Ci,clearErrors:ke,unregister:et,setError:Tt,setFocus:(x,O={})=>{const U=re(r,x),Z=U&&U._f;if(Z){const Y=Z.refs?Z.refs[0]:Z.ref;Y.focus&&(Y.focus(),O.shouldSelect&&Y.select())}},getFieldState:Ee}}function iw(t={}){const e=vn.useRef(),n=vn.useRef(),[r,i]=vn.useState({isDirty:!1,isValidating:!1,isLoading:Rr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:Rr(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...IR(t),formState:r});const s=e.current.control;return s._options=t,cR({subject:s._subjects.state,next:o=>{uR(o,s._proxyFormState,s._updateFormState)&&i({...s._formState})}}),vn.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),vn.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),vn.useEffect(()=>{t.values&&!Zr(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),vn.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),vn.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),vn.useEffect(()=>{t.shouldUnregister&&s._subjects.values.next({values:s._getWatch()})},[t.shouldUnregister,s]),e.current.formState=lR(r,s),e.current}var ly={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},SR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},ow={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=s>>2,m=(s&3)<<4|l>>4;let g=(l&15)<<2|c>>6,_=c&63;u||(_=64,o||(g=64)),r.push(n[d],n[m],n[g],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||c==null||m==null)throw new AR;const g=s<<2|l>>4;if(r.push(g),c!==64){const _=l<<4&240|c>>2;if(r.push(_),m!==64){const P=c<<6&192|m;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RR=function(t){const e=sw(t);return ow.encodeByteArray(e,!0)},Wu=function(t){return RR(t).replace(/\./g,"")},CR=function(t){try{return ow.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=()=>PR().__FIREBASE_DEFAULTS__,kR=()=>{if(typeof process>"u"||typeof ly>"u")return;const t=ly.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&CR(t[1]);return e&&JSON.parse(e)},op=()=>{try{return xR()||kR()||DR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},NR=t=>{var e,n;return(n=(e=op())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},aw=t=>{const e=NR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lw=()=>{var t;return(t=op())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wu(JSON.stringify(n)),Wu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LR(){var t;const e=(t=op())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OR(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MR(){return!LR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cw(){try{return typeof indexedDB=="object"}catch{return!1}}function hw(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function FR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="FirebaseError";class Ur extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=UR,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sc.prototype.create)}}class Sc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?jR(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Ur(i,l,r)}}function jR(t,e){return t.replace(BR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const BR=/\{\$([^}]+)}/g;function Dd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(uy(s)&&uy(o)){if(!Dd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function uy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=1e3,$R=2,qR=4*60*60*1e3,HR=.5;function cy(t,e=zR,n=$R){const r=e*Math.pow(n,t),i=Math.round(HR*r*(Math.random()-.5)*2);return Math.min(qR,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t){return t&&t._delegate?t._delegate:t}class gr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new VR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QR(e))try{this.getOrInitializeService({instanceIdentifier:Ui})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ui){return this.instances.has(e)}getOptions(e=Ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ui){return this.component?this.component.multipleInstances?e:Ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KR(t){return t===Ui?void 0:t}function QR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new WR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ne||(Ne={}));const YR={debug:Ne.DEBUG,verbose:Ne.VERBOSE,info:Ne.INFO,warn:Ne.WARN,error:Ne.ERROR,silent:Ne.SILENT},XR=Ne.INFO,JR={[Ne.DEBUG]:"log",[Ne.VERBOSE]:"log",[Ne.INFO]:"info",[Ne.WARN]:"warn",[Ne.ERROR]:"error"},ZR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=JR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ap{constructor(e){this.name=e,this._logLevel=XR,this._logHandler=ZR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ne.DEBUG,...e),this._logHandler(this,Ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ne.VERBOSE,...e),this._logHandler(this,Ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ne.INFO,...e),this._logHandler(this,Ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ne.WARN,...e),this._logHandler(this,Ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ne.ERROR,...e),this._logHandler(this,Ne.ERROR,...e)}}const eC=(t,e)=>e.some(n=>t instanceof n);let hy,dy;function tC(){return hy||(hy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nC(){return dy||(dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dw=new WeakMap,Nd=new WeakMap,fw=new WeakMap,Sh=new WeakMap,lp=new WeakMap;function rC(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&dw.set(n,t)}).catch(()=>{}),lp.set(e,t),e}function iC(t){if(Nd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Nd.set(t,e)}let Vd={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sC(t){Vd=t(Vd)}function oC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ah(this),e,...n);return fw.set(r,e.sort?e.sort():[e]),fi(r)}:nC().includes(t)?function(...e){return t.apply(Ah(this),e),fi(dw.get(this))}:function(...e){return fi(t.apply(Ah(this),e))}}function aC(t){return typeof t=="function"?oC(t):(t instanceof IDBTransaction&&iC(t),eC(t,tC())?new Proxy(t,Vd):t)}function fi(t){if(t instanceof IDBRequest)return rC(t);if(Sh.has(t))return Sh.get(t);const e=aC(t);return e!==t&&(Sh.set(t,e),lp.set(e,t)),e}const Ah=t=>lp.get(t);function pw(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=fi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(fi(o.result),u.oldVersion,u.newVersion,fi(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const lC=["get","getKey","getAll","getAllKeys","count"],uC=["put","add","delete","clear"],Rh=new Map;function fy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rh.get(e))return Rh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=uC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||lC.includes(n)))return;const s=async function(o,...l){const u=this.transaction(o,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return Rh.set(e,s),s}sC(t=>({...t,get:(e,n,r)=>fy(e,n)||t.get(e,n,r),has:(e,n)=>!!fy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bd="@firebase/app",py="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new ap("@firebase/app"),dC="@firebase/app-compat",fC="@firebase/analytics-compat",pC="@firebase/analytics",mC="@firebase/app-check-compat",gC="@firebase/app-check",yC="@firebase/auth",vC="@firebase/auth-compat",_C="@firebase/database",wC="@firebase/database-compat",EC="@firebase/functions",TC="@firebase/functions-compat",IC="@firebase/installations",SC="@firebase/installations-compat",AC="@firebase/messaging",RC="@firebase/messaging-compat",CC="@firebase/performance",PC="@firebase/performance-compat",xC="@firebase/remote-config",kC="@firebase/remote-config-compat",DC="@firebase/storage",NC="@firebase/storage-compat",VC="@firebase/firestore",bC="@firebase/vertexai-preview",LC="@firebase/firestore-compat",OC="firebase",MC="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="[DEFAULT]",FC={[bd]:"fire-core",[dC]:"fire-core-compat",[pC]:"fire-analytics",[fC]:"fire-analytics-compat",[gC]:"fire-app-check",[mC]:"fire-app-check-compat",[yC]:"fire-auth",[vC]:"fire-auth-compat",[_C]:"fire-rtdb",[wC]:"fire-rtdb-compat",[EC]:"fire-fn",[TC]:"fire-fn-compat",[IC]:"fire-iid",[SC]:"fire-iid-compat",[AC]:"fire-fcm",[RC]:"fire-fcm-compat",[CC]:"fire-perf",[PC]:"fire-perf-compat",[xC]:"fire-rc",[kC]:"fire-rc-compat",[DC]:"fire-gcs",[NC]:"fire-gcs-compat",[VC]:"fire-fst",[LC]:"fire-fst-compat",[bC]:"fire-vertex","fire-js":"fire-js",[OC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=new Map,UC=new Map,Od=new Map;function my(t,e){try{t.container.addComponent(e)}catch(n){br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Lr(t){const e=t.name;if(Od.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;Od.set(e,t);for(const n of Ku.values())my(n,t);for(const n of UC.values())my(n,t);return!0}function Ac(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pi=new Sc("app","Firebase",jC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=MC;function gw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ld,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw pi.create("bad-app-name",{appName:String(i)});if(n||(n=lw()),!n)throw pi.create("no-options");const s=Ku.get(i);if(s){if(Dd(n,s.options)&&Dd(r,s.config))return s;throw pi.create("duplicate-app",{appName:i})}const o=new GR(i);for(const u of Od.values())o.addComponent(u);const l=new BC(n,r,o);return Ku.set(i,l),l}function yw(t=Ld){const e=Ku.get(t);if(!e&&t===Ld&&lw())return gw();if(!e)throw pi.create("no-app",{appName:t});return e}function Ln(t,e,n){var r;let i=(r=FC[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(l.join(" "));return}Lr(new gr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="firebase-heartbeat-database",$C=1,Fa="firebase-heartbeat-store";let Ch=null;function vw(){return Ch||(Ch=pw(zC,$C,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fa)}catch(n){console.warn(n)}}}}).catch(t=>{throw pi.create("idb-open",{originalErrorMessage:t.message})})),Ch}async function qC(t){try{const n=(await vw()).transaction(Fa),r=await n.objectStore(Fa).get(_w(t));return await n.done,r}catch(e){if(e instanceof Ur)br.warn(e.message);else{const n=pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});br.warn(n.message)}}}async function gy(t,e){try{const r=(await vw()).transaction(Fa,"readwrite");await r.objectStore(Fa).put(e,_w(t)),await r.done}catch(n){if(n instanceof Ur)br.warn(n.message);else{const r=pi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});br.warn(r.message)}}}function _w(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=1024,WC=30*24*60*60*1e3;class KC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=yy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=WC}),this._storage.overwrite(this._heartbeatsCache))}catch(r){br.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=yy(),{heartbeatsToSend:r,unsentEntries:i}=QC(this._heartbeatsCache.heartbeats),s=Wu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return br.warn(n),""}}}function yy(){return new Date().toISOString().substring(0,10)}function QC(t,e=HC){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),vy(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class GC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return cw()?hw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return gy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function vy(t){return Wu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(t){Lr(new gr("platform-logger",e=>new cC(e),"PRIVATE")),Lr(new gr("heartbeat",e=>new KC(e),"PRIVATE")),Ln(bd,py,t),Ln(bd,py,"esm2017"),Ln("fire-js","")}YC("");var XC="firebase",JC="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln(XC,JC,"app");const ww="@firebase/installations",up="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=1e4,Tw=`w:${up}`,Iw="FIS_v2",ZC="https://firebaseinstallations.googleapis.com/v1",eP=60*60*1e3,tP="installations",nP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},rs=new Sc(tP,nP,rP);function Sw(t){return t instanceof Ur&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw({projectId:t}){return`${ZC}/projects/${t}/installations`}function Rw(t){return{token:t.token,requestStatus:2,expiresIn:sP(t.expiresIn),creationTime:Date.now()}}async function Cw(t,e){const r=(await e.json()).error;return rs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Pw({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function iP(t,{refreshToken:e}){const n=Pw(t);return n.append("Authorization",oP(e)),n}async function xw(t){const e=await t();return e.status>=500&&e.status<600?t():e}function sP(t){return Number(t.replace("s","000"))}function oP(t){return`${Iw} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aP({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Aw(t),i=Pw(t),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={fid:n,authVersion:Iw,appId:t.appId,sdkVersion:Tw},l={method:"POST",headers:i,body:JSON.stringify(o)},u=await xw(()=>fetch(r,l));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:Rw(c.authToken)}}else throw await Cw("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=/^[cdef][\w-]{21}$/,Md="";function cP(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=hP(t);return uP.test(n)?n:Md}catch{return Md}}function hP(t){return lP(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rc(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new Map;function Nw(t,e){const n=Rc(t);Vw(n,e),dP(n,e)}function Vw(t,e){const n=Dw.get(t);if(n)for(const r of n)r(e)}function dP(t,e){const n=fP();n&&n.postMessage({key:t,fid:e}),pP()}let Hi=null;function fP(){return!Hi&&"BroadcastChannel"in self&&(Hi=new BroadcastChannel("[Firebase] FID Change"),Hi.onmessage=t=>{Vw(t.data.key,t.data.fid)}),Hi}function pP(){Dw.size===0&&Hi&&(Hi.close(),Hi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mP="firebase-installations-database",gP=1,is="firebase-installations-store";let Ph=null;function cp(){return Ph||(Ph=pw(mP,gP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(is)}}})),Ph}async function Qu(t,e){const n=Rc(t),i=(await cp()).transaction(is,"readwrite"),s=i.objectStore(is),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Nw(t,e.fid),e}async function bw(t){const e=Rc(t),r=(await cp()).transaction(is,"readwrite");await r.objectStore(is).delete(e),await r.done}async function Cc(t,e){const n=Rc(t),i=(await cp()).transaction(is,"readwrite"),s=i.objectStore(is),o=await s.get(n),l=e(o);return l===void 0?await s.delete(n):await s.put(l,n),await i.done,l&&(!o||o.fid!==l.fid)&&Nw(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hp(t){let e;const n=await Cc(t.appConfig,r=>{const i=yP(r),s=vP(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Md?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function yP(t){const e=t||{fid:cP(),registrationStatus:0};return Lw(e)}function vP(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(rs.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=_P(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:wP(t)}:{installationEntry:e}}async function _P(t,e){try{const n=await aP(t,e);return Qu(t.appConfig,n)}catch(n){throw Sw(n)&&n.customData.serverCode===409?await bw(t.appConfig):await Qu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function wP(t){let e=await _y(t.appConfig);for(;e.registrationStatus===1;)await kw(100),e=await _y(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await hp(t);return r||n}return e}function _y(t){return Cc(t,e=>{if(!e)throw rs.create("installation-not-found");return Lw(e)})}function Lw(t){return EP(t)?{fid:t.fid,registrationStatus:0}:t}function EP(t){return t.registrationStatus===1&&t.registrationTime+Ew<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP({appConfig:t,heartbeatServiceProvider:e},n){const r=IP(t,n),i=iP(t,n),s=e.getImmediate({optional:!0});if(s){const c=await s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const o={installation:{sdkVersion:Tw,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(o)},u=await xw(()=>fetch(r,l));if(u.ok){const c=await u.json();return Rw(c)}else throw await Cw("Generate Auth Token",u)}function IP(t,{fid:e}){return`${Aw(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dp(t,e=!1){let n;const r=await Cc(t.appConfig,s=>{if(!Ow(s))throw rs.create("not-registered");const o=s.authToken;if(!e&&RP(o))return s;if(o.requestStatus===1)return n=SP(t,e),s;{if(!navigator.onLine)throw rs.create("app-offline");const l=PP(s);return n=AP(t,l),l}});return n?await n:r.authToken}async function SP(t,e){let n=await wy(t.appConfig);for(;n.authToken.requestStatus===1;)await kw(100),n=await wy(t.appConfig);const r=n.authToken;return r.requestStatus===0?dp(t,e):r}function wy(t){return Cc(t,e=>{if(!Ow(e))throw rs.create("not-registered");const n=e.authToken;return xP(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function AP(t,e){try{const n=await TP(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Qu(t.appConfig,r),n}catch(n){if(Sw(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await bw(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Qu(t.appConfig,r)}throw n}}function Ow(t){return t!==void 0&&t.registrationStatus===2}function RP(t){return t.requestStatus===2&&!CP(t)}function CP(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+eP}function PP(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function xP(t){return t.requestStatus===1&&t.requestTime+Ew<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(t){const e=t,{installationEntry:n,registrationPromise:r}=await hp(e);return r?r.catch(console.error):dp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DP(t,e=!1){const n=t;return await NP(n),(await dp(n,e)).token}async function NP(t){const{registrationPromise:e}=await hp(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t){if(!t||!t.options)throw xh("App Configuration");if(!t.name)throw xh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw xh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function xh(t){return rs.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="installations",bP="installations-internal",LP=t=>{const e=t.getProvider("app").getImmediate(),n=VP(e),r=Ac(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},OP=t=>{const e=t.getProvider("app").getImmediate(),n=Ac(e,Mw).getImmediate();return{getId:()=>kP(n),getToken:i=>DP(n,i)}};function MP(){Lr(new gr(Mw,LP,"PUBLIC")),Lr(new gr(bP,OP,"PRIVATE"))}MP();Ln(ww,up);Ln(ww,up,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="analytics",FP="firebase_id",UP="origin",jP=60*1e3,BP="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn=new ap("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},On=new Sc("analytics","Analytics",zP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t){if(!t.startsWith(fp)){const e=On.create("invalid-gtag-resource",{gtagURL:t});return pn.warn(e.message),""}return t}function Fw(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function qP(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function HP(t,e){const n=qP("firebase-js-sdk-policy",{createScriptURL:$P}),r=document.createElement("script"),i=`${fp}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function WP(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function KP(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const u=(await Fw(n)).find(c=>c.measurementId===i);u&&await e[u.appId]}}catch(l){pn.error(l)}t("config",i,s)}async function QP(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const l=await Fw(n);for(const u of o){const c=l.find(m=>m.measurementId===u),d=c&&e[c.appId];if(d)s.push(d);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){pn.error(s)}}function GP(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[l,u]=o;await QP(t,e,n,l,u)}else if(s==="config"){const[l,u]=o;await KP(t,e,n,r,l,u)}else if(s==="consent"){const[l,u]=o;t("consent",l,u)}else if(s==="get"){const[l,u,c]=o;t("get",l,u,c)}else if(s==="set"){const[l]=o;t("set",l)}else t(s,...o)}catch(l){pn.error(l)}}return i}function YP(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=GP(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function XP(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(fp)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=30,ZP=1e3;class ex{constructor(e={},n=ZP){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Uw=new ex;function tx(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function nx(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:tx(r)},s=BP.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let l="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(l=u.error.message)}catch{}throw On.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function rx(t,e=Uw,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw On.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw On.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new ox;return setTimeout(async()=>{l.abort()},jP),jw({appId:r,apiKey:i,measurementId:s},o,l,e)}async function jw(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Uw){var s;const{appId:o,measurementId:l}=t;try{await ix(r,e)}catch(u){if(l)return pn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw u}try{const u=await nx(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!sx(c)){if(i.deleteThrottleMetadata(o),l)return pn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw u}const d=Number((s=c==null?void 0:c.customData)===null||s===void 0?void 0:s.httpStatus)===503?cy(n,i.intervalMillis,JP):cy(n,i.intervalMillis),m={throttleEndTimeMillis:Date.now()+d,backoffCount:n+1};return i.setThrottleMetadata(o,m),pn.debug(`Calling attemptFetch again in ${d} millis`),jw(t,m,r,i)}}function ix(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(On.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function sx(t){if(!(t instanceof Ur)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class ox{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function ax(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(){if(cw())try{await hw()}catch(t){return pn.warn(On.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return pn.warn(On.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ux(t,e,n,r,i,s,o){var l;const u=rx(t);u.then(_=>{n[_.measurementId]=_.appId,t.options.measurementId&&_.measurementId!==t.options.measurementId&&pn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${_.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_=>pn.error(_)),e.push(u);const c=lx().then(_=>{if(_)return r.getId()}),[d,m]=await Promise.all([u,c]);XP(s)||HP(s,d.measurementId),i("js",new Date);const g=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return g[UP]="firebase",g.update=!0,m!=null&&(g[FP]=m),i("config",d.measurementId,g),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.app=e}_delete(){return delete ha[this.app.options.appId],Promise.resolve()}}let ha={},Ty=[];const Iy={};let kh="dataLayer",hx="gtag",Sy,Bw,Ay=!1;function dx(){const t=[];if(OR()&&t.push("This is a browser extension environment."),FR()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=On.create("invalid-analytics-context",{errorInfo:e});pn.warn(n.message)}}function fx(t,e,n){dx();const r=t.options.appId;if(!r)throw On.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)pn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw On.create("no-api-key");if(ha[r]!=null)throw On.create("already-exists",{id:r});if(!Ay){WP(kh);const{wrappedGtag:s,gtagCore:o}=YP(ha,Ty,Iy,kh,hx);Bw=s,Sy=o,Ay=!0}return ha[r]=ux(t,Ty,Iy,e,Sy,kh,n),new cx(t)}function px(t,e,n,r){t=tr(t),ax(Bw,ha[t.app.options.appId],e,n,r).catch(i=>pn.error(i))}const Ry="@firebase/analytics",Cy="0.10.8";function mx(){Lr(new gr(Ey,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return fx(r,i,n)},"PUBLIC")),Lr(new gr("analytics-internal",t,"PRIVATE")),Ln(Ry,Cy),Ln(Ry,Cy,"esm2017");function t(e){try{const n=e.getProvider(Ey).getImmediate();return{logEvent:(r,i,s)=>px(n,r,i,s)}}catch(n){throw On.create("interop-component-reg-failed",{reason:n})}}}mx();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="firebasestorage.googleapis.com",$w="storageBucket",gx=2*60*1e3,yx=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct extends Ur{constructor(e,n,r=0){super(Dh(e),`Firebase Storage: ${n} (${Dh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ct.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ut;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ut||(ut={}));function Dh(t){return"storage/"+t}function pp(){const t="An unknown error occurred, please check the error payload for server response.";return new ct(ut.UNKNOWN,t)}function vx(t){return new ct(ut.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function _x(t){return new ct(ut.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function wx(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ct(ut.UNAUTHENTICATED,t)}function Ex(){return new ct(ut.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function Tx(t){return new ct(ut.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Ix(){return new ct(ut.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Sx(){return new ct(ut.CANCELED,"User canceled the upload/download.")}function Ax(t){return new ct(ut.INVALID_URL,"Invalid URL '"+t+"'.")}function Rx(t){return new ct(ut.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Cx(){return new ct(ut.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+$w+"' property when initializing the app?")}function Px(){return new ct(ut.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function xx(){return new ct(ut.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function kx(t){return new ct(ut.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Fd(t){return new ct(ut.INVALID_ARGUMENT,t)}function qw(){return new ct(ut.APP_DELETED,"The Firebase app was deleted.")}function Dx(t){return new ct(ut.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function da(t,e){return new ct(ut.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Ho(t){throw new ct(ut.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Tn.makeFromUrl(e,n)}catch{return new Tn(e,"")}if(r.path==="")return r;throw Rx(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(b){b.path.charAt(b.path.length-1)==="/"&&(b.path_=b.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(b){b.path_=decodeURIComponent(b.path)}const d="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",_=new RegExp(`^https?://${m}/${d}/b/${i}/o${g}`,"i"),P={bucket:1,path:3},D=n===zw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",S=new RegExp(`^https?://${D}/${i}/${V}`,"i"),A=[{regex:l,indices:u,postModify:s},{regex:_,indices:P,postModify:c},{regex:S,indices:{bucket:1,path:2},postModify:c}];for(let b=0;b<A.length;b++){const B=A[b],q=B.regex.exec(e);if(q){const E=q[B.indices.bucket];let p=q[B.indices.path];p||(p=""),r=new Tn(E,p),B.postModify(r);break}}if(r==null)throw Ax(e);return r}}class Nx{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t,e,n){let r=1,i=null,s=null,o=!1,l=0;function u(){return l===2}let c=!1;function d(...V){c||(c=!0,e.apply(null,V))}function m(V){i=setTimeout(()=>{i=null,t(_,u())},V)}function g(){s&&clearTimeout(s)}function _(V,...S){if(c){g();return}if(V){g(),d.call(null,V,...S);return}if(u()||o){g(),d.call(null,V,...S);return}r<64&&(r*=2);let A;l===1?(l=2,A=0):A=(r+Math.random())*1e3,m(A)}let P=!1;function D(V){P||(P=!0,g(),!c&&(i!==null?(V||(l=2),clearTimeout(i),m(0)):V||(l=1)))}return m(0),s=setTimeout(()=>{o=!0,D(!0)},n),D}function bx(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(t){return t!==void 0}function Ox(t){return typeof t=="object"&&!Array.isArray(t)}function mp(t){return typeof t=="string"||t instanceof String}function Py(t){return gp()&&t instanceof Blob}function gp(){return typeof Blob<"u"}function xy(t,e,n,r){if(r<e)throw Fd(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Fd(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yp(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Hw(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Gi;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Gi||(Gi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n,r,i,s,o,l,u,c,d,m,g=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=m,this.retry=g,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((_,P)=>{this.resolve_=_,this.reject_=P,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new jl(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=l=>{const u=l.loaded,c=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const l=s.getErrorCode()===Gi.NO_ERROR,u=s.getStatus();if(!l||Mx(u,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Gi.ABORT;r(!1,new jl(!1,null,d));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new jl(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());Lx(u)?s(u):s()}catch(u){o(u)}else if(l!==null){const u=pp();u.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,u)):o(u)}else if(i.canceled){const u=this.appDelete_?qw():Sx();o(u)}else{const u=Ix();o(u)}};this.canceled_?n(!1,new jl(!1,null,!0)):this.backoffId_=Vx(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bx(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jl{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Ux(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function jx(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Bx(t,e){e&&(t["X-Firebase-GMPID"]=e)}function zx(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function $x(t,e,n,r,i,s,o=!0){const l=Hw(t.urlParams),u=t.url+l,c=Object.assign({},t.headers);return Bx(c,e),Ux(c,n),jx(c,s),zx(c,r),new Fx(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qx(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Hx(...t){const e=qx();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(gp())return new Blob(t);throw new ct(ut.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Wx(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t){if(typeof atob>"u")throw kx("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Nh{constructor(e,n){this.data=e,this.contentType=n||null}}function Qx(t,e){switch(t){case hr.RAW:return new Nh(Ww(e));case hr.BASE64:case hr.BASE64URL:return new Nh(Kw(t,e));case hr.DATA_URL:return new Nh(Yx(e),Xx(e))}throw pp()}function Ww(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Gx(t){let e;try{e=decodeURIComponent(t)}catch{throw da(hr.DATA_URL,"Malformed data URL.")}return Ww(e)}function Kw(t,e){switch(t){case hr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw da(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case hr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw da(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Kx(e)}catch(i){throw i.message.includes("polyfill")?i:da(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Qw{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw da(hr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Jx(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Yx(t){const e=new Qw(t);return e.base64?Kw(hr.BASE64,e.rest):Gx(e.rest)}function Xx(t){return new Qw(t).contentType}function Jx(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n){let r=0,i="";Py(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Py(this.data_)){const r=this.data_,i=Wx(r,e,n);return i===null?null:new ei(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new ei(r,!0)}}static getBlob(...e){if(gp()){const n=e.map(r=>r instanceof ei?r.data_:r);return new ei(Hx.apply(null,n))}else{const n=e.map(o=>mp(o)?Qx(hr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)i[s++]=o[l]}),new ei(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t){let e;try{e=JSON.parse(t)}catch{return null}return Ox(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function ek(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Yw(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tk(t,e){return e}class en{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||tk}}let Bl=null;function nk(t){return!mp(t)||t.length<2?t:Yw(t)}function Xw(){if(Bl)return Bl;const t=[];t.push(new en("bucket")),t.push(new en("generation")),t.push(new en("metageneration")),t.push(new en("name","fullPath",!0));function e(s,o){return nk(o)}const n=new en("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new en("size");return i.xform=r,t.push(i),t.push(new en("timeCreated")),t.push(new en("updated")),t.push(new en("md5Hash",null,!0)),t.push(new en("cacheControl",null,!0)),t.push(new en("contentDisposition",null,!0)),t.push(new en("contentEncoding",null,!0)),t.push(new en("contentLanguage",null,!0)),t.push(new en("contentType",null,!0)),t.push(new en("metadata","customMetadata",!0)),Bl=t,Bl}function rk(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Tn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function ik(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return rk(r,t),r}function Jw(t,e,n){const r=Gw(e);return r===null?null:ik(t,r,n)}function sk(t,e,n,r){const i=Gw(e);if(i===null||!mp(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.bucket,m=t.fullPath,g="/b/"+o(d)+"/o/"+o(m),_=yp(g,n,r),P=Hw({alt:"media",token:c});return _+P})[0]}function ok(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Zw{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t){if(!t)throw pp()}function ak(t,e){function n(r,i){const s=Jw(t,i,e);return eE(s!==null),s}return n}function lk(t,e){function n(r,i){const s=Jw(t,i,e);return eE(s!==null),sk(s,i,t.host,t._protocol)}return n}function tE(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Ex():i=wx():n.getStatus()===402?i=_x(t.bucket):n.getStatus()===403?i=Tx(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function uk(t){const e=tE(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=vx(t.path)),s.serverResponse=i.serverResponse,s}return n}function ck(t,e,n){const r=e.fullServerUrl(),i=yp(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,l=new Zw(i,s,lk(t,n),o);return l.errorHandler=uk(e),l}function hk(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function dk(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=hk(null,e)),r}function fk(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let A="";for(let b=0;b<2;b++)A=A+Math.random().toString().slice(2);return A}const u=l();o["Content-Type"]="multipart/related; boundary="+u;const c=dk(e,r,i),d=ok(c,n),m="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,g=`\r
--`+u+"--",_=ei.getBlob(m,r,g);if(_===null)throw Px();const P={name:c.fullPath},D=yp(s,t.host,t._protocol),V="POST",S=t.maxUploadRetryTime,y=new Zw(D,V,ak(t,n),S);return y.urlParams=P,y.headers=o,y.body=_.uploadData(),y.errorHandler=tE(e),y}class pk{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Ho("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ho("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ho("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ho("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ho("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class mk extends pk{initXhr(){this.xhr_.responseType="text"}}function nE(){return new mk}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n){this._service=e,n instanceof Tn?this._location=n:this._location=Tn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ss(e,n)}get root(){const e=new Tn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Yw(this._location.path)}get storage(){return this._service}get parent(){const e=Zx(this._location.path);if(e===null)return null;const n=new Tn(this._location.bucket,e);return new ss(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Dx(e)}}function gk(t,e,n){t._throwIfRoot("uploadBytes");const r=fk(t.storage,t._location,Xw(),new ei(e,!0),n);return t.storage.makeRequestWithTokens(r,nE).then(i=>({metadata:i,ref:t}))}function yk(t){t._throwIfRoot("getDownloadURL");const e=ck(t.storage,t._location,Xw());return t.storage.makeRequestWithTokens(e,nE).then(n=>{if(n===null)throw xx();return n})}function vk(t,e){const n=ek(t._location.path,e),r=new Tn(t._location.bucket,n);return new ss(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(t){return/^[A-Za-z]+:\/\//.test(t)}function wk(t,e){return new ss(t,e)}function rE(t,e){if(t instanceof vp){const n=t;if(n._bucket==null)throw Cx();const r=new ss(n,n._bucket);return e!=null?rE(r,e):r}else return e!==void 0?vk(t,e):t}function Ek(t,e){if(e&&_k(e)){if(t instanceof vp)return wk(t,e);throw Fd("To use ref(service, url), the first argument must be a Storage instance.")}else return rE(t,e)}function ky(t,e){const n=e==null?void 0:e[$w];return n==null?null:Tn.makeFromBucketSpec(n,t)}function Tk(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:uw(i,t.app.options.projectId))}class vp{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=zw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=gx,this._maxUploadRetryTime=yx,this._requests=new Set,i!=null?this._bucket=Tn.makeFromBucketSpec(i,this._host):this._bucket=ky(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Tn.makeFromBucketSpec(this._url,e):this._bucket=ky(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ss(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new Nx(qw());{const o=$x(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Dy="@firebase/storage",Ny="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="storage";function Ik(t,e,n){return t=tr(t),gk(t,e,n)}function Sk(t){return t=tr(t),yk(t)}function Ak(t,e){return t=tr(t),Ek(t,e)}function Rk(t=yw(),e){t=tr(t);const r=Ac(t,iE).getImmediate({identifier:e}),i=aw("storage");return i&&Ck(r,...i),r}function Ck(t,e,n,r={}){Tk(t,e,n,r)}function Pk(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new vp(n,r,i,e,mw)}function xk(){Lr(new gr(iE,Pk,"PUBLIC").setMultipleInstances(!0)),Ln(Dy,Ny,""),Ln(Dy,Ny,"esm2017")}xk();var Vy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yi,sE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,p){function w(){}w.prototype=p.prototype,E.D=p.prototype,E.prototype=new w,E.prototype.constructor=E,E.C=function(I,R,C){for(var T=Array(arguments.length-2),de=2;de<arguments.length;de++)T[de-2]=arguments[de];return p.prototype[R].apply(I,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,p,w){w||(w=0);var I=Array(16);if(typeof p=="string")for(var R=0;16>R;++R)I[R]=p.charCodeAt(w++)|p.charCodeAt(w++)<<8|p.charCodeAt(w++)<<16|p.charCodeAt(w++)<<24;else for(R=0;16>R;++R)I[R]=p[w++]|p[w++]<<8|p[w++]<<16|p[w++]<<24;p=E.g[0],w=E.g[1],R=E.g[2];var C=E.g[3],T=p+(C^w&(R^C))+I[0]+3614090360&4294967295;p=w+(T<<7&4294967295|T>>>25),T=C+(R^p&(w^R))+I[1]+3905402710&4294967295,C=p+(T<<12&4294967295|T>>>20),T=R+(w^C&(p^w))+I[2]+606105819&4294967295,R=C+(T<<17&4294967295|T>>>15),T=w+(p^R&(C^p))+I[3]+3250441966&4294967295,w=R+(T<<22&4294967295|T>>>10),T=p+(C^w&(R^C))+I[4]+4118548399&4294967295,p=w+(T<<7&4294967295|T>>>25),T=C+(R^p&(w^R))+I[5]+1200080426&4294967295,C=p+(T<<12&4294967295|T>>>20),T=R+(w^C&(p^w))+I[6]+2821735955&4294967295,R=C+(T<<17&4294967295|T>>>15),T=w+(p^R&(C^p))+I[7]+4249261313&4294967295,w=R+(T<<22&4294967295|T>>>10),T=p+(C^w&(R^C))+I[8]+1770035416&4294967295,p=w+(T<<7&4294967295|T>>>25),T=C+(R^p&(w^R))+I[9]+2336552879&4294967295,C=p+(T<<12&4294967295|T>>>20),T=R+(w^C&(p^w))+I[10]+4294925233&4294967295,R=C+(T<<17&4294967295|T>>>15),T=w+(p^R&(C^p))+I[11]+2304563134&4294967295,w=R+(T<<22&4294967295|T>>>10),T=p+(C^w&(R^C))+I[12]+1804603682&4294967295,p=w+(T<<7&4294967295|T>>>25),T=C+(R^p&(w^R))+I[13]+4254626195&4294967295,C=p+(T<<12&4294967295|T>>>20),T=R+(w^C&(p^w))+I[14]+2792965006&4294967295,R=C+(T<<17&4294967295|T>>>15),T=w+(p^R&(C^p))+I[15]+1236535329&4294967295,w=R+(T<<22&4294967295|T>>>10),T=p+(R^C&(w^R))+I[1]+4129170786&4294967295,p=w+(T<<5&4294967295|T>>>27),T=C+(w^R&(p^w))+I[6]+3225465664&4294967295,C=p+(T<<9&4294967295|T>>>23),T=R+(p^w&(C^p))+I[11]+643717713&4294967295,R=C+(T<<14&4294967295|T>>>18),T=w+(C^p&(R^C))+I[0]+3921069994&4294967295,w=R+(T<<20&4294967295|T>>>12),T=p+(R^C&(w^R))+I[5]+3593408605&4294967295,p=w+(T<<5&4294967295|T>>>27),T=C+(w^R&(p^w))+I[10]+38016083&4294967295,C=p+(T<<9&4294967295|T>>>23),T=R+(p^w&(C^p))+I[15]+3634488961&4294967295,R=C+(T<<14&4294967295|T>>>18),T=w+(C^p&(R^C))+I[4]+3889429448&4294967295,w=R+(T<<20&4294967295|T>>>12),T=p+(R^C&(w^R))+I[9]+568446438&4294967295,p=w+(T<<5&4294967295|T>>>27),T=C+(w^R&(p^w))+I[14]+3275163606&4294967295,C=p+(T<<9&4294967295|T>>>23),T=R+(p^w&(C^p))+I[3]+4107603335&4294967295,R=C+(T<<14&4294967295|T>>>18),T=w+(C^p&(R^C))+I[8]+1163531501&4294967295,w=R+(T<<20&4294967295|T>>>12),T=p+(R^C&(w^R))+I[13]+2850285829&4294967295,p=w+(T<<5&4294967295|T>>>27),T=C+(w^R&(p^w))+I[2]+4243563512&4294967295,C=p+(T<<9&4294967295|T>>>23),T=R+(p^w&(C^p))+I[7]+1735328473&4294967295,R=C+(T<<14&4294967295|T>>>18),T=w+(C^p&(R^C))+I[12]+2368359562&4294967295,w=R+(T<<20&4294967295|T>>>12),T=p+(w^R^C)+I[5]+4294588738&4294967295,p=w+(T<<4&4294967295|T>>>28),T=C+(p^w^R)+I[8]+2272392833&4294967295,C=p+(T<<11&4294967295|T>>>21),T=R+(C^p^w)+I[11]+1839030562&4294967295,R=C+(T<<16&4294967295|T>>>16),T=w+(R^C^p)+I[14]+4259657740&4294967295,w=R+(T<<23&4294967295|T>>>9),T=p+(w^R^C)+I[1]+2763975236&4294967295,p=w+(T<<4&4294967295|T>>>28),T=C+(p^w^R)+I[4]+1272893353&4294967295,C=p+(T<<11&4294967295|T>>>21),T=R+(C^p^w)+I[7]+4139469664&4294967295,R=C+(T<<16&4294967295|T>>>16),T=w+(R^C^p)+I[10]+3200236656&4294967295,w=R+(T<<23&4294967295|T>>>9),T=p+(w^R^C)+I[13]+681279174&4294967295,p=w+(T<<4&4294967295|T>>>28),T=C+(p^w^R)+I[0]+3936430074&4294967295,C=p+(T<<11&4294967295|T>>>21),T=R+(C^p^w)+I[3]+3572445317&4294967295,R=C+(T<<16&4294967295|T>>>16),T=w+(R^C^p)+I[6]+76029189&4294967295,w=R+(T<<23&4294967295|T>>>9),T=p+(w^R^C)+I[9]+3654602809&4294967295,p=w+(T<<4&4294967295|T>>>28),T=C+(p^w^R)+I[12]+3873151461&4294967295,C=p+(T<<11&4294967295|T>>>21),T=R+(C^p^w)+I[15]+530742520&4294967295,R=C+(T<<16&4294967295|T>>>16),T=w+(R^C^p)+I[2]+3299628645&4294967295,w=R+(T<<23&4294967295|T>>>9),T=p+(R^(w|~C))+I[0]+4096336452&4294967295,p=w+(T<<6&4294967295|T>>>26),T=C+(w^(p|~R))+I[7]+1126891415&4294967295,C=p+(T<<10&4294967295|T>>>22),T=R+(p^(C|~w))+I[14]+2878612391&4294967295,R=C+(T<<15&4294967295|T>>>17),T=w+(C^(R|~p))+I[5]+4237533241&4294967295,w=R+(T<<21&4294967295|T>>>11),T=p+(R^(w|~C))+I[12]+1700485571&4294967295,p=w+(T<<6&4294967295|T>>>26),T=C+(w^(p|~R))+I[3]+2399980690&4294967295,C=p+(T<<10&4294967295|T>>>22),T=R+(p^(C|~w))+I[10]+4293915773&4294967295,R=C+(T<<15&4294967295|T>>>17),T=w+(C^(R|~p))+I[1]+2240044497&4294967295,w=R+(T<<21&4294967295|T>>>11),T=p+(R^(w|~C))+I[8]+1873313359&4294967295,p=w+(T<<6&4294967295|T>>>26),T=C+(w^(p|~R))+I[15]+4264355552&4294967295,C=p+(T<<10&4294967295|T>>>22),T=R+(p^(C|~w))+I[6]+2734768916&4294967295,R=C+(T<<15&4294967295|T>>>17),T=w+(C^(R|~p))+I[13]+1309151649&4294967295,w=R+(T<<21&4294967295|T>>>11),T=p+(R^(w|~C))+I[4]+4149444226&4294967295,p=w+(T<<6&4294967295|T>>>26),T=C+(w^(p|~R))+I[11]+3174756917&4294967295,C=p+(T<<10&4294967295|T>>>22),T=R+(p^(C|~w))+I[2]+718787259&4294967295,R=C+(T<<15&4294967295|T>>>17),T=w+(C^(R|~p))+I[9]+3951481745&4294967295,E.g[0]=E.g[0]+p&4294967295,E.g[1]=E.g[1]+(R+(T<<21&4294967295|T>>>11))&4294967295,E.g[2]=E.g[2]+R&4294967295,E.g[3]=E.g[3]+C&4294967295}r.prototype.u=function(E,p){p===void 0&&(p=E.length);for(var w=p-this.blockSize,I=this.B,R=this.h,C=0;C<p;){if(R==0)for(;C<=w;)i(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<p;)if(I[R++]=E.charCodeAt(C++),R==this.blockSize){i(this,I),R=0;break}}else for(;C<p;)if(I[R++]=E[C++],R==this.blockSize){i(this,I),R=0;break}}this.h=R,this.o+=p},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var p=1;p<E.length-8;++p)E[p]=0;var w=8*this.o;for(p=E.length-8;p<E.length;++p)E[p]=w&255,w/=256;for(this.u(E),E=Array(16),p=w=0;4>p;++p)for(var I=0;32>I;I+=8)E[w++]=this.g[p]>>>I&255;return E};function s(E,p){var w=l;return Object.prototype.hasOwnProperty.call(w,E)?w[E]:w[E]=p(E)}function o(E,p){this.h=p;for(var w=[],I=!0,R=E.length-1;0<=R;R--){var C=E[R]|0;I&&C==p||(w[R]=C,I=!1)}this.g=w}var l={};function u(E){return-128<=E&&128>E?s(E,function(p){return new o([p|0],0>p?-1:0)}):new o([E|0],0>E?-1:0)}function c(E){if(isNaN(E)||!isFinite(E))return m;if(0>E)return V(c(-E));for(var p=[],w=1,I=0;E>=w;I++)p[I]=E/w|0,w*=4294967296;return new o(p,0)}function d(E,p){if(E.length==0)throw Error("number format error: empty string");if(p=p||10,2>p||36<p)throw Error("radix out of range: "+p);if(E.charAt(0)=="-")return V(d(E.substring(1),p));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=c(Math.pow(p,8)),I=m,R=0;R<E.length;R+=8){var C=Math.min(8,E.length-R),T=parseInt(E.substring(R,R+C),p);8>C?(C=c(Math.pow(p,C)),I=I.j(C).add(c(T))):(I=I.j(w),I=I.add(c(T)))}return I}var m=u(0),g=u(1),_=u(16777216);t=o.prototype,t.m=function(){if(D(this))return-V(this).m();for(var E=0,p=1,w=0;w<this.g.length;w++){var I=this.i(w);E+=(0<=I?I:4294967296+I)*p,p*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(P(this))return"0";if(D(this))return"-"+V(this).toString(E);for(var p=c(Math.pow(E,6)),w=this,I="";;){var R=b(w,p).g;w=S(w,R.j(p));var C=((0<w.g.length?w.g[0]:w.h)>>>0).toString(E);if(w=R,P(w))return C+I;for(;6>C.length;)C="0"+C;I=C+I}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function P(E){if(E.h!=0)return!1;for(var p=0;p<E.g.length;p++)if(E.g[p]!=0)return!1;return!0}function D(E){return E.h==-1}t.l=function(E){return E=S(this,E),D(E)?-1:P(E)?0:1};function V(E){for(var p=E.g.length,w=[],I=0;I<p;I++)w[I]=~E.g[I];return new o(w,~E.h).add(g)}t.abs=function(){return D(this)?V(this):this},t.add=function(E){for(var p=Math.max(this.g.length,E.g.length),w=[],I=0,R=0;R<=p;R++){var C=I+(this.i(R)&65535)+(E.i(R)&65535),T=(C>>>16)+(this.i(R)>>>16)+(E.i(R)>>>16);I=T>>>16,C&=65535,T&=65535,w[R]=T<<16|C}return new o(w,w[w.length-1]&-2147483648?-1:0)};function S(E,p){return E.add(V(p))}t.j=function(E){if(P(this)||P(E))return m;if(D(this))return D(E)?V(this).j(V(E)):V(V(this).j(E));if(D(E))return V(this.j(V(E)));if(0>this.l(_)&&0>E.l(_))return c(this.m()*E.m());for(var p=this.g.length+E.g.length,w=[],I=0;I<2*p;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var R=0;R<E.g.length;R++){var C=this.i(I)>>>16,T=this.i(I)&65535,de=E.i(R)>>>16,xe=E.i(R)&65535;w[2*I+2*R]+=T*xe,y(w,2*I+2*R),w[2*I+2*R+1]+=C*xe,y(w,2*I+2*R+1),w[2*I+2*R+1]+=T*de,y(w,2*I+2*R+1),w[2*I+2*R+2]+=C*de,y(w,2*I+2*R+2)}for(I=0;I<p;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=p;I<2*p;I++)w[I]=0;return new o(w,0)};function y(E,p){for(;(E[p]&65535)!=E[p];)E[p+1]+=E[p]>>>16,E[p]&=65535,p++}function A(E,p){this.g=E,this.h=p}function b(E,p){if(P(p))throw Error("division by zero");if(P(E))return new A(m,m);if(D(E))return p=b(V(E),p),new A(V(p.g),V(p.h));if(D(p))return p=b(E,V(p)),new A(V(p.g),p.h);if(30<E.g.length){if(D(E)||D(p))throw Error("slowDivide_ only works with positive integers.");for(var w=g,I=p;0>=I.l(E);)w=B(w),I=B(I);var R=q(w,1),C=q(I,1);for(I=q(I,2),w=q(w,2);!P(I);){var T=C.add(I);0>=T.l(E)&&(R=R.add(w),C=T),I=q(I,1),w=q(w,1)}return p=S(E,R.j(p)),new A(R,p)}for(R=m;0<=E.l(p);){for(w=Math.max(1,Math.floor(E.m()/p.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),C=c(w),T=C.j(p);D(T)||0<T.l(E);)w-=I,C=c(w),T=C.j(p);P(C)&&(C=g),R=R.add(C),E=S(E,T)}return new A(R,E)}t.A=function(E){return b(this,E).h},t.and=function(E){for(var p=Math.max(this.g.length,E.g.length),w=[],I=0;I<p;I++)w[I]=this.i(I)&E.i(I);return new o(w,this.h&E.h)},t.or=function(E){for(var p=Math.max(this.g.length,E.g.length),w=[],I=0;I<p;I++)w[I]=this.i(I)|E.i(I);return new o(w,this.h|E.h)},t.xor=function(E){for(var p=Math.max(this.g.length,E.g.length),w=[],I=0;I<p;I++)w[I]=this.i(I)^E.i(I);return new o(w,this.h^E.h)};function B(E){for(var p=E.g.length+1,w=[],I=0;I<p;I++)w[I]=E.i(I)<<1|E.i(I-1)>>>31;return new o(w,E.h)}function q(E,p){var w=p>>5;p%=32;for(var I=E.g.length-w,R=[],C=0;C<I;C++)R[C]=0<p?E.i(C+w)>>>p|E.i(C+w+1)<<32-p:E.i(C+w);return new o(R,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,sE=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Yi=o}).apply(typeof Vy<"u"?Vy:typeof self<"u"?self:typeof window<"u"?window:{});var zl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oE,aE,Jo,lE,lu,Ud,uE,cE,hE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,f){return a==Array.prototype||a==Object.prototype||(a[h]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof zl=="object"&&zl];for(var h=0;h<a.length;++h){var f=a[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var f=r;a=a.split(".");for(var v=0;v<a.length-1;v++){var L=a[v];if(!(L in f))break e;f=f[L]}a=a[a.length-1],v=f[a],h=h(v),h!=v&&h!=null&&e(f,a,{configurable:!0,writable:!0,value:h})}}function s(a,h){a instanceof String&&(a+="");var f=0,v=!1,L={next:function(){if(!v&&f<a.length){var F=f++;return{value:h(F,a[F]),done:!1}}return v=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(a){return a||function(){return s(this,function(h,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function d(a,h,f){return a.call.apply(a.bind,arguments)}function m(a,h,f){if(!a)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,v),a.apply(h,L)}}return function(){return a.apply(h,arguments)}}function g(a,h,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:m,g.apply(null,arguments)}function _(a,h){var f=Array.prototype.slice.call(arguments,1);return function(){var v=f.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function P(a,h){function f(){}f.prototype=h.prototype,a.aa=h.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(v,L,F){for(var J=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)J[Be-2]=arguments[Be];return h.prototype[L].apply(v,J)}}function D(a){const h=a.length;if(0<h){const f=Array(h);for(let v=0;v<h;v++)f[v]=a[v];return f}return[]}function V(a,h){for(let f=1;f<arguments.length;f++){const v=arguments[f];if(u(v)){const L=a.length||0,F=v.length||0;a.length=L+F;for(let J=0;J<F;J++)a[L+J]=v[J]}else a.push(v)}}class S{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(a){return/^[\s\xa0]*$/.test(a)}function A(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function b(a){return b[" "](a),a}b[" "]=function(){};var B=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function q(a,h,f){for(const v in a)h.call(f,a[v],v,a)}function E(a,h){for(const f in a)h.call(void 0,a[f],f,a)}function p(a){const h={};for(const f in a)h[f]=a[f];return h}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,h){let f,v;for(let L=1;L<arguments.length;L++){v=arguments[L];for(f in v)a[f]=v[f];for(let F=0;F<w.length;F++)f=w[F],Object.prototype.hasOwnProperty.call(v,f)&&(a[f]=v[f])}}function R(a){var h=1;a=a.split(":");const f=[];for(;0<h&&a.length;)f.push(a.shift()),h--;return a.length&&f.push(a.join(":")),f}function C(a){l.setTimeout(()=>{throw a},0)}function T(){var a=ee;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class de{constructor(){this.h=this.g=null}add(h,f){const v=xe.get();v.set(h,f),this.h?this.h.next=v:this.g=v,this.h=v}}var xe=new S(()=>new He,a=>a.reset());class He{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let je,G=!1,ee=new de,fe=()=>{const a=l.Promise.resolve(void 0);je=()=>{a.then(be)}};var be=()=>{for(var a;a=T();){try{a.h.call(a.g)}catch(f){C(f)}var h=xe;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}G=!1};function Ee(){this.s=this.s,this.C=this.C}Ee.prototype.s=!1,Ee.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ee.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ke(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}ke.prototype.h=function(){this.defaultPrevented=!0};var Tt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const f=()=>{};l.addEventListener("test",f,h),l.removeEventListener("test",f,h)}catch{}return a}();function kt(a,h){if(ke.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(B){e:{try{b(h.nodeName);var L=!0;break e}catch{}L=!1}L||(h=null)}}else f=="mouseover"?h=a.fromElement:f=="mouseout"&&(h=a.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:et[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&kt.aa.h.call(this)}}P(kt,ke);var et={2:"touch",3:"pen",4:"mouse"};kt.prototype.h=function(){kt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var pt="closure_listenable_"+(1e6*Math.random()|0),mn=0;function ps(a,h,f,v,L){this.listener=a,this.proxy=null,this.src=h,this.type=f,this.capture=!!v,this.ha=L,this.key=++mn,this.da=this.fa=!1}function jn(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function vr(a){this.src=a,this.g={},this.h=0}vr.prototype.add=function(a,h,f,v,L){var F=a.toString();a=this.g[F],a||(a=this.g[F]=[],this.h++);var J=jr(a,h,v,L);return-1<J?(h=a[J],f||(h.fa=!1)):(h=new ps(h,this.src,F,!!v,L),h.fa=f,a.push(h)),h};function Ci(a,h){var f=h.type;if(f in a.g){var v=a.g[f],L=Array.prototype.indexOf.call(v,h,void 0),F;(F=0<=L)&&Array.prototype.splice.call(v,L,1),F&&(jn(h),a.g[f].length==0&&(delete a.g[f],a.h--))}}function jr(a,h,f,v){for(var L=0;L<a.length;++L){var F=a[L];if(!F.da&&F.listener==h&&F.capture==!!f&&F.ha==v)return L}return-1}var ot="closure_lm_"+(1e6*Math.random()|0),Bn={};function ms(a,h,f,v,L){if(Array.isArray(h)){for(var F=0;F<h.length;F++)ms(a,h[F],f,v,L);return null}return f=Re(f),a&&a[pt]?a.K(h,f,c(v)?!!v.capture:!!v,L):sl(a,h,f,!1,v,L)}function sl(a,h,f,v,L,F){if(!h)throw Error("Invalid event type");var J=c(L)?!!L.capture:!!L,Be=Q(a);if(Be||(a[ot]=Be=new vr(a)),f=Be.add(h,f,v,J,F),f.proxy)return f;if(v=x(),f.proxy=v,v.src=a,v.listener=f,a.addEventListener)Tt||(L=J),L===void 0&&(L=!1),a.addEventListener(h.toString(),v,L);else if(a.attachEvent)a.attachEvent(Z(h.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return f}function x(){function a(f){return h.call(a.src,a.listener,f)}const h=Y;return a}function O(a,h,f,v,L){if(Array.isArray(h))for(var F=0;F<h.length;F++)O(a,h[F],f,v,L);else v=c(v)?!!v.capture:!!v,f=Re(f),a&&a[pt]?(a=a.i,h=String(h).toString(),h in a.g&&(F=a.g[h],f=jr(F,f,v,L),-1<f&&(jn(F[f]),Array.prototype.splice.call(F,f,1),F.length==0&&(delete a.g[h],a.h--)))):a&&(a=Q(a))&&(h=a.g[h.toString()],a=-1,h&&(a=jr(h,f,v,L)),(f=-1<a?h[a]:null)&&U(f))}function U(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[pt])Ci(h.i,a);else{var f=a.type,v=a.proxy;h.removeEventListener?h.removeEventListener(f,v,a.capture):h.detachEvent?h.detachEvent(Z(f),v):h.addListener&&h.removeListener&&h.removeListener(v),(f=Q(h))?(Ci(f,a),f.h==0&&(f.src=null,h[ot]=null)):jn(a)}}}function Z(a){return a in Bn?Bn[a]:Bn[a]="on"+a}function Y(a,h){if(a.da)a=!0;else{h=new kt(h,this);var f=a.listener,v=a.ha||a.src;a.fa&&U(a),a=f.call(v,h)}return a}function Q(a){return a=a[ot],a instanceof vr?a:null}var ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function Re(a){return typeof a=="function"?a:(a[ae]||(a[ae]=function(h){return a.handleEvent(h)}),a[ae])}function _e(){Ee.call(this),this.i=new vr(this),this.M=this,this.F=null}P(_e,Ee),_e.prototype[pt]=!0,_e.prototype.removeEventListener=function(a,h,f,v){O(this,a,h,f,v)};function we(a,h){var f,v=a.F;if(v)for(f=[];v;v=v.F)f.push(v);if(a=a.M,v=h.type||h,typeof h=="string")h=new ke(h,a);else if(h instanceof ke)h.target=h.target||a;else{var L=h;h=new ke(v,a),I(h,L)}if(L=!0,f)for(var F=f.length-1;0<=F;F--){var J=h.g=f[F];L=Yt(J,v,!0,h)&&L}if(J=h.g=a,L=Yt(J,v,!0,h)&&L,L=Yt(J,v,!1,h)&&L,f)for(F=0;F<f.length;F++)J=h.g=f[F],L=Yt(J,v,!1,h)&&L}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var f=a.g[h],v=0;v<f.length;v++)jn(f[v]);delete a.g[h],a.h--}}this.F=null},_e.prototype.K=function(a,h,f,v){return this.i.add(String(a),h,!1,f,v)},_e.prototype.L=function(a,h,f,v){return this.i.add(String(a),h,!0,f,v)};function Yt(a,h,f,v){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var L=!0,F=0;F<h.length;++F){var J=h[F];if(J&&!J.da&&J.capture==f){var Be=J.listener,Dt=J.ha||J.src;J.fa&&Ci(a.i,J),L=Be.call(Dt,v)!==!1&&L}}return L&&!v.defaultPrevented}function Br(a,h,f){if(typeof a=="function")f&&(a=g(a,f));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function Xt(a){a.g=Br(()=>{a.g=null,a.i&&(a.i=!1,Xt(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class Jt extends Ee{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Xt(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rr(a){Ee.call(this),this.h=a,this.g={}}P(rr,Ee);var ir=[];function gs(a){q(a.g,function(h,f){this.g.hasOwnProperty(f)&&U(h)},a),a.g={}}rr.prototype.N=function(){rr.aa.N.call(this),gs(this)},rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zt=l.JSON.stringify,ol=l.JSON.parse,al=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function ys(){}ys.prototype.h=null;function ll(a){return a.h||(a.h=a.i())}function To(){}var sr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vs(){ke.call(this,"d")}P(vs,ke);function Pi(){ke.call(this,"c")}P(Pi,ke);var Cn={},_s=null;function ws(){return _s=_s||new _e}Cn.La="serverreachability";function Io(a){ke.call(this,Cn.La,a)}P(Io,ke);function xi(a){const h=ws();we(h,new Io(h))}Cn.STAT_EVENT="statevent";function So(a,h){ke.call(this,Cn.STAT_EVENT,a),this.stat=h}P(So,ke);function mt(a){const h=ws();we(h,new So(h,a))}Cn.Ma="timingevent";function ki(a,h){ke.call(this,Cn.Ma,a),this.size=h}P(ki,ke);function zr(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function Di(){this.g=!0}Di.prototype.xa=function(){this.g=!1};function jc(a,h,f,v,L,F){a.info(function(){if(a.g)if(F)for(var J="",Be=F.split("&"),Dt=0;Dt<Be.length;Dt++){var Le=Be[Dt].split("=");if(1<Le.length){var Bt=Le[0];Le=Le[1];var zt=Bt.split("_");J=2<=zt.length&&zt[1]=="type"?J+(Bt+"="+Le+"&"):J+(Bt+"=redacted&")}}else J=null;else J=F;return"XMLHTTP REQ ("+v+") [attempt "+L+"]: "+h+`
`+f+`
`+J})}function k(a,h,f,v,L,F,J){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+L+"]: "+h+`
`+f+`
`+F+" "+J})}function N(a,h,f,v){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+z(a,f)+(v?" "+v:"")})}function M(a,h){a.info(function(){return"TIMEOUT: "+h})}Di.prototype.info=function(){};function z(a,h){if(!a.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var v=f[a];if(!(2>v.length)){var L=v[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var J=1;J<L.length;J++)L[J]=""}}}}return Zt(f)}catch{return h}}var te={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ce={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pe;function X(){}P(X,ys),X.prototype.g=function(){return new XMLHttpRequest},X.prototype.i=function(){return{}},pe=new X;function ue(a,h,f,v){this.j=a,this.i=h,this.l=f,this.R=v||1,this.U=new rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new se}function se(){this.i=null,this.g="",this.h=!1}var le={},Ce={};function De(a,h,f){a.L=1,a.v=fl(_r(h)),a.m=f,a.P=!0,Fe(a,null)}function Fe(a,h){a.F=Date.now(),We(a),a.A=_r(a.v);var f=a.A,v=a.R;Array.isArray(v)||(v=[String(v)]),tm(f.i,"t",v),a.C=0,f=a.j.J,a.h=new se,a.g=_m(a.j,f?h:null,!a.m),0<a.O&&(a.M=new Jt(g(a.Y,a,a.g),a.O)),h=a.U,f=a.g,v=a.ca;var L="readystatechange";Array.isArray(L)||(L&&(ir[0]=L.toString()),L=ir);for(var F=0;F<L.length;F++){var J=ms(f,L[F],v||h.handleEvent,!1,h.h||h);if(!J)break;h.g[J.key]=J}h=a.H?p(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),xi(),jc(a.i,a.u,a.A,a.l,a.R,a.m)}ue.prototype.ca=function(a){a=a.target;const h=this.M;h&&wr(a)==3?h.j():this.Y(a)},ue.prototype.Y=function(a){try{if(a==this.g)e:{const zt=wr(this.g);var h=this.g.Ba();const Is=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||lm(this.g)))){this.J||zt!=4||h==7||(h==8||0>=Is?xi(3):xi(2)),gn(this);var f=this.g.Z();this.X=f;t:if(Se(this)){var v=lm(this.g);a="";var L=v.length,F=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ut(this),Pn(this);var J="";break t}this.h.i=new l.TextDecoder}for(h=0;h<L;h++)this.h.h=!0,a+=this.h.i.decode(v[h],{stream:!(F&&h==L-1)});v.length=0,this.h.g+=a,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=f==200,k(this.i,this.u,this.A,this.l,this.R,zt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Be,Dt=this.g;if((Be=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Be)){var Le=Be;break t}}Le=null}if(f=Le)N(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qr(this,f);else{this.o=!1,this.s=3,mt(12),Ut(this),Pn(this);break e}}if(this.P){f=!0;let qn;for(;!this.J&&this.C<J.length;)if(qn=gt(this,J),qn==Ce){zt==4&&(this.s=4,mt(14),f=!1),N(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==le){this.s=4,mt(15),N(this.i,this.l,J,"[Invalid Chunk]"),f=!1;break}else N(this.i,this.l,qn,null),qr(this,qn);if(Se(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||J.length!=0||this.h.h||(this.s=1,mt(16),f=!1),this.o=this.o&&f,!f)N(this.i,this.l,J,"[Invalid Chunked Response]"),Ut(this),Pn(this);else if(0<J.length&&!this.W){this.W=!0;var Bt=this.j;Bt.g==this&&Bt.ba&&!Bt.M&&(Bt.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),qc(Bt),Bt.M=!0,mt(11))}}else N(this.i,this.l,J,null),qr(this,J);zt==4&&Ut(this),this.o&&!this.J&&(zt==4?mm(this.j,this):(this.o=!1,We(this)))}else B1(this.g),f==400&&0<J.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),Ut(this),Pn(this)}}}catch{}finally{}};function Se(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function gt(a,h){var f=a.C,v=h.indexOf(`
`,f);return v==-1?Ce:(f=Number(h.substring(f,v)),isNaN(f)?le:(v+=1,v+f>h.length?Ce:(h=h.slice(v,v+f),a.C=v+f,h)))}ue.prototype.cancel=function(){this.J=!0,Ut(this)};function We(a){a.S=Date.now()+a.I,$r(a,a.I)}function $r(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=zr(g(a.ba,a),h)}function gn(a){a.B&&(l.clearTimeout(a.B),a.B=null)}ue.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(M(this.i,this.A),this.L!=2&&(xi(),mt(17)),Ut(this),this.s=2,Pn(this)):$r(this,this.S-a)};function Pn(a){a.j.G==0||a.J||mm(a.j,a)}function Ut(a){gn(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,gs(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function qr(a,h){try{var f=a.j;if(f.G!=0&&(f.g==a||ge(f.h,a))){if(!a.K&&ge(f.h,a)&&f.G==3){try{var v=f.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var L=v;if(L[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)vl(f),gl(f);else break e;$c(f),mt(18)}}else f.za=L[1],0<f.za-f.T&&37500>L[2]&&f.F&&f.v==0&&!f.C&&(f.C=zr(g(f.Za,f),6e3));if(1>=bi(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Oi(f,11)}else if((a.K||f.g==a)&&vl(f),!y(h))for(L=f.Da.g.parse(h),h=0;h<L.length;h++){let Le=L[h];if(f.T=Le[0],Le=Le[1],f.G==2)if(Le[0]=="c"){f.K=Le[1],f.ia=Le[2];const Bt=Le[3];Bt!=null&&(f.la=Bt,f.j.info("VER="+f.la));const zt=Le[4];zt!=null&&(f.Aa=zt,f.j.info("SVER="+f.Aa));const Is=Le[5];Is!=null&&typeof Is=="number"&&0<Is&&(v=1.5*Is,f.L=v,f.j.info("backChannelRequestTimeoutMs_="+v)),v=f;const qn=a.g;if(qn){const wl=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wl){var F=v.h;F.g||wl.indexOf("spdy")==-1&&wl.indexOf("quic")==-1&&wl.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&($e(F,F.h),F.h=null))}if(v.D){const Hc=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Hc&&(v.ya=Hc,Qe(v.I,v.D,Hc))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),v=f;var J=a;if(v.qa=vm(v,v.J?v.ia:null,v.W),J.K){jt(v.h,J);var Be=J,Dt=v.L;Dt&&(Be.I=Dt),Be.B&&(gn(Be),We(Be)),v.g=J}else fm(v);0<f.i.length&&yl(f)}else Le[0]!="stop"&&Le[0]!="close"||Oi(f,7);else f.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Oi(f,7):zc(f):Le[0]!="noop"&&f.l&&f.l.ta(Le),f.v=0)}}xi(4)}catch{}}var zn=class{constructor(a,h){this.g=a,this.map=h}};function Ni(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vi(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function bi(a){return a.h?1:a.g?a.g.size:0}function ge(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function $e(a,h){a.g?a.g.add(h):a.h=h}function jt(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}Ni.prototype.cancel=function(){if(this.i=Ke(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Ke(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const f of a.g.values())h=h.concat(f.D);return h}return D(a.i)}function $n(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],f=a.length,v=0;v<f;v++)h.push(a[v]);return h}h=[],f=0;for(v in a)h[f++]=a[v];return h}function ul(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var f=0;f<a;f++)h.push(f);return h}h=[],f=0;for(const v in a)h[f++]=v;return h}}}function cl(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var f=ul(a),v=$n(a),L=v.length,F=0;F<L;F++)h.call(void 0,v[F],f&&f[F],a)}var Yp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function P1(a,h){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var v=a[f].indexOf("="),L=null;if(0<=v){var F=a[f].substring(0,v);L=a[f].substring(v+1)}else F=a[f];h(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Li(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Li){this.h=a.h,hl(this,a.j),this.o=a.o,this.g=a.g,dl(this,a.s),this.l=a.l;var h=a.i,f=new Co;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),Xp(this,f),this.m=a.m}else a&&(h=String(a).match(Yp))?(this.h=!1,hl(this,h[1]||"",!0),this.o=Ao(h[2]||""),this.g=Ao(h[3]||"",!0),dl(this,h[4]),this.l=Ao(h[5]||"",!0),Xp(this,h[6]||"",!0),this.m=Ao(h[7]||"")):(this.h=!1,this.i=new Co(null,this.h))}Li.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Ro(h,Jp,!0),":");var f=this.g;return(f||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Ro(h,Jp,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Ro(f,f.charAt(0)=="/"?D1:k1,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Ro(f,V1)),a.join("")};function _r(a){return new Li(a)}function hl(a,h,f){a.j=f?Ao(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function dl(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function Xp(a,h,f){h instanceof Co?(a.i=h,b1(a.i,a.h)):(f||(h=Ro(h,N1)),a.i=new Co(h,a.h))}function Qe(a,h,f){a.i.set(h,f)}function fl(a){return Qe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ao(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ro(a,h,f){return typeof a=="string"?(a=encodeURI(a).replace(h,x1),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function x1(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Jp=/[#\/\?@]/g,k1=/[#\?:]/g,D1=/[#\?]/g,N1=/[#\?@]/g,V1=/#/g;function Co(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Hr(a){a.g||(a.g=new Map,a.h=0,a.i&&P1(a.i,function(h,f){a.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}t=Co.prototype,t.add=function(a,h){Hr(this),this.i=null,a=Es(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(h),this.h+=1,this};function Zp(a,h){Hr(a),h=Es(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function em(a,h){return Hr(a),h=Es(a,h),a.g.has(h)}t.forEach=function(a,h){Hr(this),this.g.forEach(function(f,v){f.forEach(function(L){a.call(h,L,v,this)},this)},this)},t.na=function(){Hr(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let v=0;v<h.length;v++){const L=a[v];for(let F=0;F<L.length;F++)f.push(h[v])}return f},t.V=function(a){Hr(this);let h=[];if(typeof a=="string")em(this,a)&&(h=h.concat(this.g.get(Es(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)h=h.concat(a[f])}return h},t.set=function(a,h){return Hr(this),this.i=null,a=Es(this,a),em(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function tm(a,h,f){Zp(a,h),0<f.length&&(a.i=null,a.g.set(Es(a,h),D(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var v=h[f];const F=encodeURIComponent(String(v)),J=this.V(v);for(v=0;v<J.length;v++){var L=F;J[v]!==""&&(L+="="+encodeURIComponent(String(J[v]))),a.push(L)}}return this.i=a.join("&")};function Es(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function b1(a,h){h&&!a.j&&(Hr(a),a.i=null,a.g.forEach(function(f,v){var L=v.toLowerCase();v!=L&&(Zp(this,v),tm(this,L,f))},a)),a.j=h}function L1(a,h){const f=new Di;if(l.Image){const v=new Image;v.onload=_(Wr,f,"TestLoadImage: loaded",!0,h,v),v.onerror=_(Wr,f,"TestLoadImage: error",!1,h,v),v.onabort=_(Wr,f,"TestLoadImage: abort",!1,h,v),v.ontimeout=_(Wr,f,"TestLoadImage: timeout",!1,h,v),l.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else h(!1)}function O1(a,h){const f=new Di,v=new AbortController,L=setTimeout(()=>{v.abort(),Wr(f,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:v.signal}).then(F=>{clearTimeout(L),F.ok?Wr(f,"TestPingServer: ok",!0,h):Wr(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(L),Wr(f,"TestPingServer: error",!1,h)})}function Wr(a,h,f,v,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),v(f)}catch{}}function M1(){this.g=new al}function F1(a,h,f){const v=f||"";try{cl(a,function(L,F){let J=L;c(L)&&(J=Zt(L)),h.push(v+F+"="+encodeURIComponent(J))})}catch(L){throw h.push(v+"type="+encodeURIComponent("_badmap")),L}}function Po(a){this.l=a.Ub||null,this.j=a.eb||!1}P(Po,ys),Po.prototype.g=function(){return new pl(this.l,this.j)},Po.prototype.i=function(a){return function(){return a}}({});function pl(a,h){_e.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(pl,_e),t=pl.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,ko(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ko(this)),this.g&&(this.readyState=3,ko(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nm(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function nm(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?xo(this):ko(this),this.readyState==3&&nm(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,xo(this))},t.Qa=function(a){this.g&&(this.response=a,xo(this))},t.ga=function(){this.g&&xo(this)};function xo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ko(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=h.next();return a.join(`\r
`)};function ko(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(pl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function rm(a){let h="";return q(a,function(f,v){h+=v,h+=":",h+=f,h+=`\r
`}),h}function Bc(a,h,f){e:{for(v in f){var v=!1;break e}v=!0}v||(f=rm(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):Qe(a,h,f))}function at(a){_e.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(at,_e);var U1=/^https?$/i,j1=["POST","PUT"];t=at.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,f,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pe.g(),this.v=this.o?ll(this.o):ll(pe),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(F){im(this,F);return}if(a=f||"",f=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var L in v)f.set(L,v[L]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const F of v.keys())f.set(F,v.get(F));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(f.keys()).find(F=>F.toLowerCase()=="content-type"),L=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(j1,h,void 0))||v||L||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,J]of f)this.g.setRequestHeader(F,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{am(this),this.u=!0,this.g.send(a),this.u=!1}catch(F){im(this,F)}};function im(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,sm(a),ml(a)}function sm(a){a.A||(a.A=!0,we(a,"complete"),we(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,we(this,"complete"),we(this,"abort"),ml(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ml(this,!0)),at.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?om(this):this.bb())},t.bb=function(){om(this)};function om(a){if(a.h&&typeof o<"u"&&(!a.v[1]||wr(a)!=4||a.Z()!=2)){if(a.u&&wr(a)==4)Br(a.Ea,0,a);else if(we(a,"readystatechange"),wr(a)==4){a.h=!1;try{const J=a.Z();e:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var v;if(v=J===0){var L=String(a.D).match(Yp)[1]||null;!L&&l.self&&l.self.location&&(L=l.self.location.protocol.slice(0,-1)),v=!U1.test(L?L.toLowerCase():"")}f=v}if(f)we(a,"complete"),we(a,"success");else{a.m=6;try{var F=2<wr(a)?a.g.statusText:""}catch{F=""}a.l=F+" ["+a.Z()+"]",sm(a)}}finally{ml(a)}}}}function ml(a,h){if(a.g){am(a);const f=a.g,v=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||we(a,"ready");try{f.onreadystatechange=v}catch{}}}function am(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function wr(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<wr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),ol(h)}};function lm(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function B1(a){const h={};a=(a.g&&2<=wr(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(y(a[v]))continue;var f=R(a[v]);const L=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const F=h[L]||[];h[L]=F,F.push(f)}E(h,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Do(a,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||h}function um(a){this.Aa=0,this.i=[],this.j=new Di,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Do("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Do("baseRetryDelayMs",5e3,a),this.cb=Do("retryDelaySeedMs",1e4,a),this.Wa=Do("forwardChannelMaxRetries",2,a),this.wa=Do("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Ni(a&&a.concurrentRequestLimit),this.Da=new M1,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=um.prototype,t.la=8,t.G=1,t.connect=function(a,h,f,v){mt(0),this.W=a,this.H=h||{},f&&v!==void 0&&(this.H.OSID=f,this.H.OAID=v),this.F=this.X,this.I=vm(this,null,this.W),yl(this)};function zc(a){if(cm(a),a.G==3){var h=a.U++,f=_r(a.I);if(Qe(f,"SID",a.K),Qe(f,"RID",h),Qe(f,"TYPE","terminate"),No(a,f),h=new ue(a,a.j,h),h.L=2,h.v=fl(_r(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=h.v,f=!0),f||(h.g=_m(h.j,null),h.g.ea(h.v)),h.F=Date.now(),We(h)}ym(a)}function gl(a){a.g&&(qc(a),a.g.cancel(),a.g=null)}function cm(a){gl(a),a.u&&(l.clearTimeout(a.u),a.u=null),vl(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function yl(a){if(!Vi(a.h)&&!a.s){a.s=!0;var h=a.Ga;je||fe(),G||(je(),G=!0),ee.add(h,a),a.B=0}}function z1(a,h){return bi(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=zr(g(a.Ga,a,h),gm(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const L=new ue(this,this.j,a);let F=this.o;if(this.S&&(F?(F=p(F),I(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var v=this.i[f];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=dm(this,L,h),f=_r(this.I),Qe(f,"RID",a),Qe(f,"CVER",22),this.D&&Qe(f,"X-HTTP-Session-Id",this.D),No(this,f),F&&(this.O?h="headers="+encodeURIComponent(String(rm(F)))+"&"+h:this.m&&Bc(f,this.m,F)),$e(this.h,L),this.Ua&&Qe(f,"TYPE","init"),this.P?(Qe(f,"$req",h),Qe(f,"SID","null"),L.T=!0,De(L,f,null)):De(L,f,h),this.G=2}}else this.G==3&&(a?hm(this,a):this.i.length==0||Vi(this.h)||hm(this))};function hm(a,h){var f;h?f=h.l:f=a.U++;const v=_r(a.I);Qe(v,"SID",a.K),Qe(v,"RID",f),Qe(v,"AID",a.T),No(a,v),a.m&&a.o&&Bc(v,a.m,a.o),f=new ue(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),h&&(a.i=h.D.concat(a.i)),h=dm(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),$e(a.h,f),De(f,v,h)}function No(a,h){a.H&&q(a.H,function(f,v){Qe(h,v,f)}),a.l&&cl({},function(f,v){Qe(h,v,f)})}function dm(a,h,f){f=Math.min(a.i.length,f);var v=a.l?g(a.l.Na,a.l,a):null;e:{var L=a.i;let F=-1;for(;;){const J=["count="+f];F==-1?0<f?(F=L[0].g,J.push("ofs="+F)):F=0:J.push("ofs="+F);let Be=!0;for(let Dt=0;Dt<f;Dt++){let Le=L[Dt].g;const Bt=L[Dt].map;if(Le-=F,0>Le)F=Math.max(0,L[Dt].g-100),Be=!1;else try{F1(Bt,J,"req"+Le+"_")}catch{v&&v(Bt)}}if(Be){v=J.join("&");break e}}}return a=a.i.splice(0,f),h.D=a,v}function fm(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;je||fe(),G||(je(),G=!0),ee.add(h,a),a.v=0}}function $c(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=zr(g(a.Fa,a),gm(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,pm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=zr(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),gl(this),pm(this))};function qc(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function pm(a){a.g=new ue(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=_r(a.qa);Qe(h,"RID","rpc"),Qe(h,"SID",a.K),Qe(h,"AID",a.T),Qe(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Qe(h,"TO",a.ja),Qe(h,"TYPE","xmlhttp"),No(a,h),a.m&&a.o&&Bc(h,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=fl(_r(h)),f.m=null,f.P=!0,Fe(f,a)}t.Za=function(){this.C!=null&&(this.C=null,gl(this),$c(this),mt(19))};function vl(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function mm(a,h){var f=null;if(a.g==h){vl(a),qc(a),a.g=null;var v=2}else if(ge(a.h,h))f=h.D,jt(a.h,h),v=1;else return;if(a.G!=0){if(h.o)if(v==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var L=a.B;v=ws(),we(v,new ki(v,f)),yl(a)}else fm(a);else if(L=h.s,L==3||L==0&&0<h.X||!(v==1&&z1(a,h)||v==2&&$c(a)))switch(f&&0<f.length&&(h=a.h,h.i=h.i.concat(f)),L){case 1:Oi(a,5);break;case 4:Oi(a,10);break;case 3:Oi(a,6);break;default:Oi(a,2)}}}function gm(a,h){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*h}function Oi(a,h){if(a.j.info("Error code "+h),h==2){var f=g(a.fb,a),v=a.Xa;const L=!v;v=new Li(v||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||hl(v,"https"),fl(v),L?L1(v.toString(),f):O1(v.toString(),f)}else mt(2);a.G=0,a.l&&a.l.sa(h),ym(a),cm(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function ym(a){if(a.G=0,a.ka=[],a.l){const h=Ke(a.h);(h.length!=0||a.i.length!=0)&&(V(a.ka,h),V(a.ka,a.i),a.h.i.length=0,D(a.i),a.i.length=0),a.l.ra()}}function vm(a,h,f){var v=f instanceof Li?_r(f):new Li(f);if(v.g!="")h&&(v.g=h+"."+v.g),dl(v,v.s);else{var L=l.location;v=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;var F=new Li(null);v&&hl(F,v),h&&(F.g=h),L&&dl(F,L),f&&(F.l=f),v=F}return f=a.D,h=a.ya,f&&h&&Qe(v,f,h),Qe(v,"VER",a.la),No(a,v),v}function _m(a,h,f){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new at(new Po({eb:f})):new at(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function wm(){}t=wm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _l(){}_l.prototype.g=function(a,h){return new yn(a,h)};function yn(a,h){_e.call(this),this.g=new um(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!y(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Ts(this)}P(yn,_e),yn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){zc(this.g)},yn.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=Zt(a),a=f);h.i.push(new zn(h.Ya++,a)),h.G==3&&yl(h)},yn.prototype.N=function(){this.g.l=null,delete this.j,zc(this.g),delete this.g,yn.aa.N.call(this)};function Em(a){vs.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const f in h){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}P(Em,vs);function Tm(){Pi.call(this),this.status=1}P(Tm,Pi);function Ts(a){this.g=a}P(Ts,wm),Ts.prototype.ua=function(){we(this.g,"a")},Ts.prototype.ta=function(a){we(this.g,new Em(a))},Ts.prototype.sa=function(a){we(this.g,new Tm)},Ts.prototype.ra=function(){we(this.g,"b")},_l.prototype.createWebChannel=_l.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,hE=function(){return new _l},cE=function(){return ws()},uE=Cn,Ud={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},te.NO_ERROR=0,te.TIMEOUT=8,te.HTTP_ERROR=6,lu=te,ce.COMPLETE="complete",lE=ce,To.EventType=sr,sr.OPEN="a",sr.CLOSE="b",sr.ERROR="c",sr.MESSAGE="d",_e.prototype.listen=_e.prototype.K,Jo=To,aE=Po,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,oE=at}).apply(typeof zl<"u"?zl:typeof self<"u"?self:typeof window<"u"?window:{});const by="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new ap("@firebase/firestore");function Wo(){return os.logLevel}function oe(t,...e){if(os.logLevel<=Ne.DEBUG){const n=e.map(_p);os.debug(`Firestore (${yo}): ${t}`,...n)}}function Or(t,...e){if(os.logLevel<=Ne.ERROR){const n=e.map(_p);os.error(`Firestore (${yo}): ${t}`,...n)}}function so(t,...e){if(os.logLevel<=Ne.WARN){const n=e.map(_p);os.warn(`Firestore (${yo}): ${t}`,...n)}}function _p(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(t="Unexpected state"){const e=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: `+t;throw Or(e),new Error(e)}function ze(t,e){t||me()}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class kk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class Dk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Nk{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new mi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mi,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mi)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new dE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Wt(e)}}class Vk{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class bk{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Vk(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ok{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new Lk(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Mk(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function oo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Rt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ye(e)}static min(){return new ye(new Rt(0,0))}static max(){return new ye(new Rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n,r){n===void 0?n=0:n>e.length&&me(),r===void 0?r=e.length-n:r>e.length-n&&me(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ua.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ua?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xe extends Ua{construct(e,n,r){return new Xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Xe(n)}static emptyPath(){return new Xe([])}}const Fk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends Ua{construct(e,n,r){return new bt(e,n,r)}static isValidIdentifier(e){return Fk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new bt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ie($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ie($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ie($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(r+=l,i++):(s(),i++)}if(s(),o)throw new ie($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(n)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(Xe.fromString(e))}static fromName(e){return new he(Xe.fromString(e).popFirst(5))}static empty(){return new he(Xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new Xe(e.slice()))}}function Uk(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ye.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new _i(i,he.empty(),e)}function jk(t){return new _i(t.readTime,t.key,-1)}class _i{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new _i(ye.min(),he.empty(),-1)}static max(){return new _i(ye.max(),he.empty(),-1)}}function Bk(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $k{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==zk)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let i=0,s=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(i=>i?W.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new W((r,i)=>{const s=e.length,o=new Array(s);let l=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++l,l===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new W((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function qk(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Za(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}wp.oe=-1;function Pc(t){return t==null}function Gu(t){return t===0&&1/t==-1/0}function Hk(t){return typeof t=="number"&&Number.isInteger(t)&&!Gu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Vt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $l(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $l(this.root,e,this.comparator,!1)}getReverseIterator(){return new $l(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $l(this.root,e,this.comparator,!0)}}class $l{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Vt.RED,this.left=i??Vt.EMPTY,this.right=s??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Vt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Vt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Vt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Oy(this.data.getIterator())}getIteratorFrom(e){return new Oy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class Oy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new Xn([])}unionWith(e){let n=new Ot(bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new mE("Invalid base64 string: "+s):s}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const Wk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function wi(t){if(ze(!!t),typeof t=="string"){let e=0;const n=Wk.exec(t);if(ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function as(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Tp(t){const e=t.mapValue.fields.__previous_value__;return Ep(e)?Tp(e):e}function ja(t){const e=wi(t.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n,r,i,s,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}class Ba{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ba("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ba&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ls(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ep(t)?4:Gk(t)?9007199254740991:Qk(t)?10:11:me()}function yr(t,e){if(t===e)return!0;const n=ls(t);if(n!==ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ja(t).isEqual(ja(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=wi(i.timestampValue),l=wi(s.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return as(i.bytesValue).isEqual(as(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return dt(i.geoPointValue.latitude)===dt(s.geoPointValue.latitude)&&dt(i.geoPointValue.longitude)===dt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return dt(i.integerValue)===dt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=dt(i.doubleValue),l=dt(s.doubleValue);return o===l?Gu(o)===Gu(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return oo(t.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Ly(o)!==Ly(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!yr(o[u],l[u])))return!1;return!0}(t,e);default:return me()}}function za(t,e){return(t.values||[]).find(n=>yr(n,e))!==void 0}function ao(t,e){if(t===e)return 0;const n=ls(t),r=ls(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const l=dt(s.integerValue||s.doubleValue),u=dt(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return My(t.timestampValue,e.timestampValue);case 4:return My(ja(t),ja(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(s,o){const l=as(s),u=as(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const l=s.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=Oe(l[c],u[c]);if(d!==0)return d}return Oe(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const l=Oe(dt(s.latitude),dt(o.latitude));return l!==0?l:Oe(dt(s.longitude),dt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Fy(t.arrayValue,e.arrayValue);case 10:return function(s,o){var l,u,c,d;const m=s.fields||{},g=o.fields||{},_=(l=m.value)===null||l===void 0?void 0:l.arrayValue,P=(u=g.value)===null||u===void 0?void 0:u.arrayValue,D=Oe(((c=_==null?void 0:_.values)===null||c===void 0?void 0:c.length)||0,((d=P==null?void 0:P.values)===null||d===void 0?void 0:d.length)||0);return D!==0?D:Fy(_,P)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ql.mapValue&&o===ql.mapValue)return 0;if(s===ql.mapValue)return 1;if(o===ql.mapValue)return-1;const l=s.fields||{},u=Object.keys(l),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let m=0;m<u.length&&m<d.length;++m){const g=Oe(u[m],d[m]);if(g!==0)return g;const _=ao(l[u[m]],c[d[m]]);if(_!==0)return _}return Oe(u.length,d.length)}(t.mapValue,e.mapValue);default:throw me()}}function My(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=wi(t),r=wi(e),i=Oe(n.seconds,r.seconds);return i!==0?i:Oe(n.nanos,r.nanos)}function Fy(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ao(n[i],r[i]);if(s)return s}return Oe(n.length,r.length)}function lo(t){return jd(t)}function jd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=wi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return as(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=jd(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${jd(n.fields[o])}`;return i+"}"}(t.mapValue):me()}function Uy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bd(t){return!!t&&"integerValue"in t}function Ip(t){return!!t&&"arrayValue"in t}function jy(t){return!!t&&"nullValue"in t}function By(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uu(t){return!!t&&"mapValue"in t}function Qk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function fa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return vo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=fa(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fa(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Gk(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.value=e}static empty(){return new Nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!uu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fa(n)}setAll(e){let n=bt.emptyPath(),r={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}o?r[l.lastSegment()]=fa(o):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());uu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];uu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Nn(fa(this.value))}}function gE(t){const e=[];return vo(t.fields,(n,r)=>{const i=new bt([n]);if(uu(r)){const s=gE(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,r,i,s,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Qt(e,0,ye.min(),ye.min(),ye.min(),Nn.empty(),0)}static newFoundDocument(e,n,r,i){return new Qt(e,1,n,ye.min(),r,i,0)}static newNoDocument(e,n){return new Qt(e,2,n,ye.min(),ye.min(),Nn.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,ye.min(),ye.min(),Nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ye.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ye.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n){this.position=e,this.inclusive=n}}function zy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=he.comparator(he.fromName(o.referenceValue),n.key):r=ao(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function $y(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Yk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{}class wt extends yE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Jk(e,n,r):n==="array-contains"?new tD(e,r):n==="in"?new nD(e,r):n==="not-in"?new rD(e,r):n==="array-contains-any"?new iD(e,r):new wt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Zk(e,r):new eD(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ao(n,this.value)):n!==null&&ls(this.value)===ls(n)&&this.matchesComparison(ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends yE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new nr(e,n)}matches(e){return vE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function vE(t){return t.op==="and"}function _E(t){return Xk(t)&&vE(t)}function Xk(t){for(const e of t.filters)if(e instanceof nr)return!1;return!0}function zd(t){if(t instanceof wt)return t.field.canonicalString()+t.op.toString()+lo(t.value);if(_E(t))return t.filters.map(e=>zd(e)).join(",");{const e=t.filters.map(n=>zd(n)).join(",");return`${t.op}(${e})`}}function wE(t,e){return t instanceof wt?function(r,i){return i instanceof wt&&r.op===i.op&&r.field.isEqual(i.field)&&yr(r.value,i.value)}(t,e):t instanceof nr?function(r,i){return i instanceof nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,l)=>s&&wE(o,i.filters[l]),!0):!1}(t,e):void me()}function EE(t){return t instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`}(t):t instanceof nr?function(n){return n.op.toString()+" {"+n.getFilters().map(EE).join(" ,")+"}"}(t):"Filter"}class Jk extends wt{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class Zk extends wt{constructor(e,n){super(e,"in",n),this.keys=TE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class eD extends wt{constructor(e,n){super(e,"not-in",n),this.keys=TE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class tD extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ip(n)&&za(n.arrayValue,this.value)}}class nD extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&za(this.value.arrayValue,n)}}class rD extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!za(this.value.arrayValue,n)}}class iD extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>za(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,n=null,r=[],i=[],s=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=l,this.ue=null}}function qy(t,e=null,n=[],r=[],i=null,s=null,o=null){return new sD(t,e,n,r,i,s,o)}function Sp(t){const e=ve(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>zd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Pc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>lo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>lo(r)).join(",")),e.ue=n}return e.ue}function Ap(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Yk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$y(t.startAt,e.startAt)&&$y(t.endAt,e.endAt)}function $d(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n=null,r=[],i=[],s=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function oD(t,e,n,r,i,s,o,l){return new el(t,e,n,r,i,s,o,l)}function IE(t){return new el(t)}function Hy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SE(t){return t.collectionGroup!==null}function pa(t){const e=ve(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Ot(bt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Xu(s,r))}),n.has(bt.keyField().canonicalString())||e.ce.push(new Xu(bt.keyField(),r))}return e.ce}function pr(t){const e=ve(t);return e.le||(e.le=aD(e,pa(t))),e.le}function aD(t,e){if(t.limitType==="F")return qy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Xu(i.field,s)});const n=t.endAt?new Yu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Yu(t.startAt.position,t.startAt.inclusive):null;return qy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function qd(t,e){const n=t.filters.concat([e]);return new el(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Hd(t,e,n){return new el(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function xc(t,e){return Ap(pr(t),pr(e))&&t.limitType===e.limitType}function AE(t){return`${Sp(pr(t))}|lt:${t.limitType}`}function Cs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>EE(i)).join(", ")}]`),Pc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>lo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>lo(i)).join(",")),`Target(${r})`}(pr(t))}; limitType=${t.limitType})`}function kc(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):he.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of pa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,l,u){const c=zy(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,pa(r),i)||r.endAt&&!function(o,l,u){const c=zy(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,pa(r),i))}(t,e)}function lD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RE(t){return(e,n)=>{let r=!1;for(const i of pa(t)){const s=uD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function uD(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(s,o,l){const u=o.data.field(s),c=l.data.field(s);return u!==null&&c!==null?ao(u,c):me()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return pE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new st(he.comparator);function Mr(){return cD}const CE=new st(he.comparator);function Zo(...t){let e=CE;for(const n of t)e=e.insert(n.key,n);return e}function PE(t){let e=CE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wi(){return ma()}function xE(){return ma()}function ma(){return new _o(t=>t.toString(),(t,e)=>t.isEqual(e))}const hD=new st(he.comparator),dD=new Ot(he.comparator);function Ae(...t){let e=dD;for(const n of t)e=e.add(n);return e}const fD=new Ot(Oe);function pD(){return fD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gu(e)?"-0":e}}function kE(t){return{integerValue:""+t}}function mD(t,e){return Hk(e)?kE(e):Rp(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this._=void 0}}function gD(t,e,n){return t instanceof Ju?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Ep(s)&&(s=Tp(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof $a?NE(t,e):t instanceof qa?VE(t,e):function(i,s){const o=DE(i,s),l=Wy(o)+Wy(i.Pe);return Bd(o)&&Bd(i.Pe)?kE(l):Rp(i.serializer,l)}(t,e)}function yD(t,e,n){return t instanceof $a?NE(t,e):t instanceof qa?VE(t,e):n}function DE(t,e){return t instanceof Zu?function(r){return Bd(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ju extends Dc{}class $a extends Dc{constructor(e){super(),this.elements=e}}function NE(t,e){const n=bE(e);for(const r of t.elements)n.some(i=>yr(i,r))||n.push(r);return{arrayValue:{values:n}}}class qa extends Dc{constructor(e){super(),this.elements=e}}function VE(t,e){let n=bE(e);for(const r of t.elements)n=n.filter(i=>!yr(i,r));return{arrayValue:{values:n}}}class Zu extends Dc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Wy(t){return dt(t.integerValue||t.doubleValue)}function bE(t){return Ip(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function vD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof $a&&i instanceof $a||r instanceof qa&&i instanceof qa?oo(r.elements,i.elements,yr):r instanceof Zu&&i instanceof Zu?yr(r.Pe,i.Pe):r instanceof Ju&&i instanceof Ju}(t.transform,e.transform)}class _D{constructor(e,n){this.version=e,this.transformResults=n}}class xr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new xr}static exists(e){return new xr(void 0,e)}static updateTime(e){return new xr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Nc{}function LE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ME(t.key,xr.none()):new tl(t.key,t.data,xr.none());{const n=t.data,r=Nn.empty();let i=new Ot(bt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ds(t.key,r,new Xn(i.toArray()),xr.none())}}function wD(t,e,n){t instanceof tl?function(i,s,o){const l=i.value.clone(),u=Qy(i.fieldTransforms,s,o.transformResults);l.setAll(u),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ds?function(i,s,o){if(!cu(i.precondition,s))return void s.convertToUnknownDocument(o.version);const l=Qy(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(OE(i)),u.setAll(l),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function ga(t,e,n,r){return t instanceof tl?function(s,o,l,u){if(!cu(s.precondition,o))return l;const c=s.value.clone(),d=Gy(s.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ds?function(s,o,l,u){if(!cu(s.precondition,o))return l;const c=Gy(s.fieldTransforms,u,o),d=o.data;return d.setAll(OE(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,l){return cu(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function ED(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=DE(r.transform,i||null);s!=null&&(n===null&&(n=Nn.empty()),n.set(r.field,s))}return n||null}function Ky(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&oo(r,i,(s,o)=>vD(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tl extends Nc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ds extends Nc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function OE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Qy(t,e,n){const r=new Map;ze(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,l=e.data.field(s.field);r.set(s.field,yD(o,l,n[i]))}return r}function Gy(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,gD(s,o,e))}return r}class ME extends Nc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TD extends Nc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&wD(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ga(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ga(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xE();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let l=this.applyToLocalView(o,s.mutatedFields);l=n.has(i.key)?null:l;const u=LE(o,l);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ye.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ae())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,(n,r)=>Ky(n,r))&&oo(this.baseMutations,e.baseMutations,(n,r)=>Ky(n,r))}}class Cp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ze(e.mutations.length===r.length);let i=function(){return hD}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Cp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Pe;function RD(t){switch(t){default:return me();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function FE(t){if(t===void 0)return Or("GRPC error has no .code"),$.UNKNOWN;switch(t){case yt.OK:return $.OK;case yt.CANCELLED:return $.CANCELLED;case yt.UNKNOWN:return $.UNKNOWN;case yt.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case yt.INTERNAL:return $.INTERNAL;case yt.UNAVAILABLE:return $.UNAVAILABLE;case yt.UNAUTHENTICATED:return $.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case yt.NOT_FOUND:return $.NOT_FOUND;case yt.ALREADY_EXISTS:return $.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return $.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case yt.ABORTED:return $.ABORTED;case yt.OUT_OF_RANGE:return $.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return $.UNIMPLEMENTED;case yt.DATA_LOSS:return $.DATA_LOSS;default:return me()}}(Pe=yt||(yt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new Yi([4294967295,4294967295],0);function Yy(t){const e=CD().encode(t),n=new sE;return n.update(e),new Uint8Array(n.digest())}function Xy(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Yi([n,r],0),new Yi([i,s],0)]}class Pp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ea(`Invalid padding: ${n}`);if(r<0)throw new ea(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ea(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ea(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Yi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Yi.fromNumber(r)));return i.compare(PD)===1&&(i=new Yi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Yy(e),[r,i]=Xy(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Pp(s,i,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Yy(e),[r,i]=Xy(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ea extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,nl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vc(ye.min(),i,new st(Oe),Mr(),Ae())}}class nl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nl(r,n,Ae(),Ae(),Ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class UE{constructor(e,n){this.targetId=e,this.me=n}}class jE{constructor(e,n,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Jy{constructor(){this.fe=0,this.ge=ev(),this.pe=Ft.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ae(),n=Ae(),r=Ae();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:me()}}),new nl(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=ev()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class xD{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mr(),this.qe=Zy(),this.Qe=new st(Oe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if($d(s))if(r===0){const o=new he(s.path);this.Ue(n,o,Qt.newNoDocument(o,ye.min()))}else ze(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),u=l?this.Xe(l,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,l;try{o=as(r).toUint8Array()}catch(u){if(u instanceof mE)return so("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Pp(o,i,s)}catch(u){return so(u instanceof ea?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const l=this.Je(o);if(l){if(s.current&&$d(l.target)){const u=new he(l.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Qt.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=Ae();this.qe.forEach((s,o)=>{let l=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new Vc(e,n,this.Qe,this.ke,r);return this.ke=Mr(),this.qe=Zy(),this.Qe=new st(Oe),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Jy,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ot(Oe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Jy),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Zy(){return new st(he.comparator)}function ev(){return new st(he.comparator)}const kD={asc:"ASCENDING",desc:"DESCENDING"},DD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ND={and:"AND",or:"OR"};class VD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wd(t,e){return t.useProto3Json||Pc(e)?e:{value:e}}function ec(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bD(t,e){return ec(t,e.toTimestamp())}function mr(t){return ze(!!t),ye.fromTimestamp(function(n){const r=wi(n);return new Rt(r.seconds,r.nanos)}(t))}function xp(t,e){return Kd(t,e).canonicalString()}function Kd(t,e){const n=function(i){return new Xe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function zE(t){const e=Xe.fromString(t);return ze(KE(e)),e}function Qd(t,e){return xp(t.databaseId,e.path)}function Vh(t,e){const n=zE(e);if(n.get(1)!==t.databaseId.projectId)throw new ie($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(qE(n))}function $E(t,e){return xp(t.databaseId,e)}function LD(t){const e=zE(t);return e.length===4?Xe.emptyPath():qE(e)}function Gd(t){return new Xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qE(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tv(t,e,n){return{name:Qd(t,e),fields:n.value.mapValue.fields}}function OD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:me()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(ze(d===void 0||typeof d=="string"),Ft.fromBase64String(d||"")):(ze(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Ft.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const d=c.code===void 0?$.UNKNOWN:FE(c.code);return new ie(d,c.message||"")}(o);n=new jE(r,i,s,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Vh(t,r.document.name),s=mr(r.document.updateTime),o=r.document.createTime?mr(r.document.createTime):ye.min(),l=new Nn({mapValue:{fields:r.document.fields}}),u=Qt.newFoundDocument(i,s,o,l),c=r.targetIds||[],d=r.removedTargetIds||[];n=new hu(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Vh(t,r.document),s=r.readTime?mr(r.readTime):ye.min(),o=Qt.newNoDocument(i,s),l=r.removedTargetIds||[];n=new hu([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Vh(t,r.document),s=r.removedTargetIds||[];n=new hu([],s,i,null)}else{if(!("filter"in e))return me();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new AD(i,s),l=r.targetId;n=new UE(l,o)}}return n}function MD(t,e){let n;if(e instanceof tl)n={update:tv(t,e.key,e.value)};else if(e instanceof ME)n={delete:Qd(t,e.key)};else if(e instanceof ds)n={update:tv(t,e.key,e.data),updateMask:WD(e.fieldMask)};else{if(!(e instanceof TD))return me();n={verify:Qd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const l=o.transform;if(l instanceof Ju)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof $a)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof qa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Zu)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw me()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:bD(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:me()}(t,e.precondition)),n}function FD(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?mr(i.updateTime):mr(s);return o.isEqual(ye.min())&&(o=mr(s)),new _D(o,i.transformResults||[])}(n,e))):[]}function UD(t,e){return{documents:[$E(t,e.path)]}}function jD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$E(t,i);const s=function(c){if(c.length!==0)return WE(nr.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(g){return{field:Ps(g.field),direction:$D(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Wd(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function BD(t){let e=LD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ze(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(m){const g=HE(m);return g instanceof nr&&_E(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(g=>function(P){return new Xu(xs(P.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,Pc(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,_=m.values||[];return new Yu(_,g)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const g=!m.before,_=m.values||[];return new Yu(_,g)}(n.endAt)),oD(e,i,o,s,l,"F",u,c)}function zD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function HE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=xs(n.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=xs(n.unaryFilter.field);return wt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=xs(n.unaryFilter.field);return wt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=xs(n.unaryFilter.field);return wt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(t):t.fieldFilter!==void 0?function(n){return wt.create(xs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nr.create(n.compositeFilter.filters.map(r=>HE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return me()}}(n.compositeFilter.op))}(t):me()}function $D(t){return kD[t]}function qD(t){return DD[t]}function HD(t){return ND[t]}function Ps(t){return{fieldPath:t.canonicalString()}}function xs(t){return bt.fromServerFormat(t.fieldPath)}function WE(t){return t instanceof wt?function(n){if(n.op==="=="){if(By(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NAN"}};if(jy(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(By(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NAN"}};if(jy(n.value))return{unaryFilter:{field:Ps(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ps(n.field),op:qD(n.op),value:n.value}}}(t):t instanceof nr?function(n){const r=n.getFilters().map(i=>WE(i));return r.length===1?r[0]:{compositeFilter:{op:HD(n.op),filters:r}}}(t):me()}function WD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function KE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n,r,i,s=ye.min(),o=ye.min(),l=Ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.ct=e}}function QD(t){const e=BD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Hd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.un=new YD}addToCollectionParentIndex(e,n){return this.un.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(_i.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(_i.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class YD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ot(Xe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ot(Xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new uo(0)}static kn(){return new uo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.changes=new _o(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ga(r.mutation,i,Xn.empty(),Rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ae()){const i=Wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Zo();return s.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,i){let s=Mr();const o=ma(),l=function(){return ma()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof ds)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),ga(d.mutation,c,d.mutation.getFieldMask(),Rt.now())):o.set(c.key,Xn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var m;return l.set(c,new JD(d,(m=o.get(c))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=ma();let i=new st((o,l)=>o-l),s=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Xn.empty();d=l.applyToLocalView(c,d),r.set(u,d);const m=(i.get(l.batchId)||Ae()).add(u);i=i.insert(l.batchId,m)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,m=xE();d.forEach(g=>{if(!s.has(g)){const _=LE(n.get(g),r.get(g));_!==null&&m.set(g,_),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,m))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return he.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):W.resolve(Wi());let l=-1,u=s;return o.next(c=>W.forEach(c,(d,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(d)?W.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{u=u.insert(d,g)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,Ae())).next(d=>({batchId:l,changes:PE(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let i=Zo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Zo();return this.indexManager.getCollectionParents(e,s).next(l=>W.forEach(l,u=>{const c=function(m,g){return new el(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Qt.newInvalidDocument(d)))});let l=Zo();return o.forEach((u,c)=>{const d=s.get(u);d!==void 0&&ga(d.mutation,c,Xn.empty(),Rt.now()),kc(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return W.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:mr(i.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:QD(i.bundledQuery),readTime:mr(i.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.overlays=new st(he.comparator),this.Ir=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wi();return W.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const i=Wi(),s=n.length+1,o=new he(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return W.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new st((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Wi(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=Wi(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=i)););return W.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new SD(n,r));let s=this.Ir.get(n);s===void 0&&(s=Ae(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this.Tr=new Ot(Ct.Er),this.dr=new Ot(Ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ct(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new he(new Xe([])),r=new Ct(n,e),i=new Ct(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new he(new Xe([])),r=new Ct(n,e),i=new Ct(n,e+1);let s=Ae();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ct(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return he.comparator(e.key,n.key)||Oe(e.wr,n.wr)}static Ar(e,n){return Oe(e.wr,n.wr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ot(Ct.Er)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ID(s,n,r,i);this.mutationQueue.push(o);for(const l of i)this.br=this.br.add(new Ct(l.key,s)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return W.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),i=new Ct(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const l=this.Dr(o.wr);s.push(l)}),W.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ot(Oe);return n.forEach(i=>{const s=new Ct(i,0),o=new Ct(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],l=>{r=r.add(l.wr)})}),W.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;he.isDocumentKey(s)||(s=s.child(""));const o=new Ct(new he(s),0);let l=new Ot(Oe);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.wr)),!0)},o),W.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ze(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return W.forEach(n.mutations,i=>{const s=new Ct(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ct(n,0),i=this.br.firstAfterOrEqual(r);return W.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.Mr=e,this.docs=function(){return new st(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=Mr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qt.newInvalidDocument(i))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Mr();const o=n.path,l=new he(o.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Bk(jk(d),r)<=0||(i.has(d.key)||kc(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return W.resolve(s)}getAllFromCollectionGroup(e,n,r,i){me()}Or(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new sN(this)}getSize(e){return W.resolve(this.size)}}class sN extends XD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.persistence=e,this.Nr=new _o(n=>Sp(n),Ap),this.lastRemoteSnapshotVersion=ye.min(),this.highestTargetId=0,this.Lr=0,this.Br=new kp,this.targetCount=0,this.kr=uo.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),W.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new uo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Kn(n),W.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),W.waitFor(s).next(()=>i)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),W.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n){this.qr={},this.overlays={},this.Qr=new wp(0),this.Kr=!1,this.Kr=!0,this.$r=new nN,this.referenceDelegate=e(this),this.Ur=new oN(this),this.indexManager=new GD,this.remoteDocumentCache=function(i){return new iN(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new KD(n),this.Gr=new eN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tN,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new rN(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const i=new lN(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return W.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class lN extends $k{constructor(e){super(),this.currentSequenceNumber=e}}class Dp{constructor(e){this.persistence=e,this.Jr=new kp,this.Yr=null}static Zr(e){return new Dp(e)}get Xr(){if(this.Yr)return this.Yr;throw me()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),W.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.Xr,r=>{const i=he.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ye.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return W.or([()=>W.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Ae(),i=Ae();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Np(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return MR()?8:qk(bR())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new uN;return this.Xi(e,n,o).next(l=>{if(s.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Wo()<=Ne.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Cs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),W.resolve()):(Wo()<=Ne.DEBUG&&oe("QueryEngine","Query:",Cs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Wo()<=Ne.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Cs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(n))):W.resolve())}Yi(e,n){if(Hy(n))return W.resolve(null);let r=pr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Hd(n,null,"F"),r=pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ae(...s);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,l);return this.ns(n,c,o,u.readTime)?this.Yi(e,Hd(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return Hy(n)||i.isEqual(ye.min())?W.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?W.resolve(null):(Wo()<=Ne.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cs(n)),this.rs(e,o,n,Uk(i,-1)).next(l=>l))})}ts(e,n){let r=new Ot(RE(e));return n.forEach((i,s)=>{kc(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Wo()<=Ne.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Cs(n)),this.Ji.getDocumentsMatchingQuery(e,n,_i.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new st(Oe),this._s=new _o(s=>Sp(s),Ap),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function dN(t,e,n,r){return new hN(t,e,n,r)}async function QE(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],l=[];let u=Ae();for(const c of i){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of s){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:l}))})})}function fN(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const m=c.batch,g=m.keys();let _=W.resolve();return g.forEach(P=>{_=_.next(()=>d.getEntry(u,P)).next(D=>{const V=c.docVersions.get(P);ze(V!==null),D.version.compareTo(V)<0&&(m.applyToRemoteDocument(D,c),D.isValidDocument()&&(D.setReadTime(c.commitVersion),d.addEntry(D)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Ae();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function GE(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function pN(t,e){const n=ve(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const l=[];e.targetChanges.forEach((d,m)=>{const g=i.get(m);if(!g)return;l.push(n.Ur.removeMatchingKeys(s,d.removedDocuments,m).next(()=>n.Ur.addMatchingKeys(s,d.addedDocuments,m)));let _=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?_=_.withResumeToken(Ft.EMPTY_BYTE_STRING,ye.min()).withLastLimboFreeSnapshotVersion(ye.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,r)),i=i.insert(m,_),function(D,V,S){return D.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=3e8?!0:S.addedDocuments.size+S.modifiedDocuments.size+S.removedDocuments.size>0}(g,_,d)&&l.push(n.Ur.updateTargetData(s,_))});let u=Mr(),c=Ae();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),l.push(mN(s,o,e.documentUpdates).next(d=>{u=d.Ps,c=d.Is})),!r.isEqual(ye.min())){const d=n.Ur.getLastRemoteSnapshotVersion(s).next(m=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(d)}return W.waitFor(l).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.os=i,s))}function mN(t,e,n){let r=Ae(),i=Ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Mr();return n.forEach((l,u)=>{const c=s.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(ye.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):oe("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function gN(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function yN(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,W.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new ii(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Yd(t,e,n){const r=ve(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Za(o))throw o;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function nv(t,e,n){const r=ve(t);let i=ye.min(),s=Ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const m=ve(u),g=m._s.get(d);return g!==void 0?W.resolve(m.os.get(g)):m.Ur.getTargetData(c,d)}(r,o,pr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ye.min(),n?s:Ae())).next(l=>(vN(r,lD(e),l),{documents:l,Ts:s})))}function vN(t,e,n){let r=t.us.get(e)||ye.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class rv{constructor(){this.activeTargetIds=pD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _N{constructor(){this.so=new rv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new rv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl=null;function bh(){return Hl===null?Hl=function(){return 268435456+Math.round(2147483648*Math.random())}():Hl++,"0x"+Hl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ht="WebChannelConnection";class IN extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const l=bh(),u=this.xo(n,r.toUriEncodedString());oe("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,s,o),this.No(n,u,c,i).then(d=>(oe("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw so("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",u,"request:",i),d})}Lo(n,r,i,s,o,l){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=EN[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=bh();return new Promise((o,l)=>{const u=new oE;u.setWithCredentials(!0),u.listenOnce(lE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case lu.NO_ERROR:const d=u.getResponseJson();oe(Ht,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case lu.TIMEOUT:oe(Ht,`RPC '${e}' ${s} timed out`),l(new ie($.DEADLINE_EXCEEDED,"Request time out"));break;case lu.HTTP_ERROR:const m=u.getStatus();if(oe(Ht,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const _=g==null?void 0:g.error;if(_&&_.status&&_.message){const P=function(V){const S=V.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(S)>=0?S:$.UNKNOWN}(_.status);l(new ie(P,_.message))}else l(new ie($.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ie($.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{oe(Ht,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);oe(Ht,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=bh(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=hE(),l=cE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new aE({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=s.join("");oe(Ht,`Creating RPC '${e}' stream ${i}: ${d}`,u);const m=o.createWebChannel(d,u);let g=!1,_=!1;const P=new TN({Io:V=>{_?oe(Ht,`Not sending because RPC '${e}' stream ${i} is closed:`,V):(g||(oe(Ht,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),oe(Ht,`RPC '${e}' stream ${i} sending:`,V),m.send(V))},To:()=>m.close()}),D=(V,S,y)=>{V.listen(S,A=>{try{y(A)}catch(b){setTimeout(()=>{throw b},0)}})};return D(m,Jo.EventType.OPEN,()=>{_||(oe(Ht,`RPC '${e}' stream ${i} transport opened.`),P.yo())}),D(m,Jo.EventType.CLOSE,()=>{_||(_=!0,oe(Ht,`RPC '${e}' stream ${i} transport closed`),P.So())}),D(m,Jo.EventType.ERROR,V=>{_||(_=!0,so(Ht,`RPC '${e}' stream ${i} transport errored:`,V),P.So(new ie($.UNAVAILABLE,"The operation could not be completed")))}),D(m,Jo.EventType.MESSAGE,V=>{var S;if(!_){const y=V.data[0];ze(!!y);const A=y,b=A.error||((S=A[0])===null||S===void 0?void 0:S.error);if(b){oe(Ht,`RPC '${e}' stream ${i} received error:`,b);const B=b.status;let q=function(w){const I=yt[w];if(I!==void 0)return FE(I)}(B),E=b.message;q===void 0&&(q=$.INTERNAL,E="Unknown error status: "+B+" with message "+b.message),_=!0,P.So(new ie(q,E)),m.close()}else oe(Ht,`RPC '${e}' stream ${i} received:`,y),P.bo(y)}}),D(l,uE.STAT_EVENT,V=>{V.stat===Ud.PROXY?oe(Ht,`RPC '${e}' stream ${i} detected buffering proxy`):V.stat===Ud.NOPROXY&&oe(Ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.wo()},0),P}}function Lh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t){return new VD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n,r,i,s,o,l,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new YE(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Or(n.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ie($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class SN extends XE{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=OD(this.serializer,e),r=function(s){if(!("targetChange"in s))return ye.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ye.min():o.readTime?mr(o.readTime):ye.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Gd(this.serializer),n.addTarget=function(s,o){let l;const u=o.target;if(l=$d(u)?{documents:UD(s,u)}:{query:jD(s,u)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=BE(s,o.resumeToken);const c=Wd(s,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(ye.min())>0){l.readTime=ec(s,o.snapshotVersion.toTimestamp());const c=Wd(s,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=zD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Gd(this.serializer),n.removeTarget=e,this.a_(n)}}class AN extends XE{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=FD(e.writeResults,e.commitTime),r=mr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Gd(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>MD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Kd(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie($.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,Kd(n,r),i,o,l,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ie($.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class CN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Or(n),this.D_=!1):oe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{fs(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=ve(u);c.L_.add(4),await rl(c),c.q_.set("Unknown"),c.L_.delete(4),await Lc(c)}(this))})}),this.q_=new CN(r,i)}}async function Lc(t){if(fs(t))for(const e of t.B_)await e(!0)}async function rl(t){for(const e of t.B_)await e(!1)}function JE(t,e){const n=ve(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Op(n)?Lp(n):wo(n).r_()&&bp(n,e))}function Vp(t,e){const n=ve(t),r=wo(n);n.N_.delete(e),r.r_()&&ZE(n,e),n.N_.size===0&&(r.r_()?r.o_():fs(n)&&n.q_.set("Unknown"))}function bp(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ye.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wo(t).A_(e)}function ZE(t,e){t.Q_.xe(e),wo(t).R_(e)}function Lp(t){t.Q_=new xD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),wo(t).start(),t.q_.v_()}function Op(t){return fs(t)&&!wo(t).n_()&&t.N_.size>0}function fs(t){return ve(t).L_.size===0}function e1(t){t.Q_=void 0}async function xN(t){t.q_.set("Online")}async function kN(t){t.N_.forEach((e,n)=>{bp(t,e)})}async function DN(t,e){e1(t),Op(t)?(t.q_.M_(e),Lp(t)):t.q_.set("Unknown")}async function NN(t,e,n){if(t.q_.set("Online"),e instanceof jE&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const l of s.targetIds)i.N_.has(l)&&(await i.remoteSyncer.rejectListen(l,o),i.N_.delete(l),i.Q_.removeTarget(l))}(t,e)}catch(r){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await tc(t,r)}else if(e instanceof hu?t.Q_.Ke(e):e instanceof UE?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ye.min()))try{const r=await GE(t.localStore);n.compareTo(r)>=0&&await function(s,o){const l=s.Q_.rt(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=s.N_.get(c);d&&s.N_.set(c,d.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const d=s.N_.get(u);if(!d)return;s.N_.set(u,d.withResumeToken(Ft.EMPTY_BYTE_STRING,d.snapshotVersion)),ZE(s,u);const m=new ii(d.target,u,c,d.sequenceNumber);bp(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){oe("RemoteStore","Failed to raise snapshot:",r),await tc(t,r)}}async function tc(t,e,n){if(!Za(e))throw e;t.L_.add(1),await rl(t),t.q_.set("Offline"),n||(n=()=>GE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Lc(t)})}function t1(t,e){return e().catch(n=>tc(t,n,e))}async function Oc(t){const e=ve(t),n=Ei(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;VN(e);)try{const i=await gN(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,bN(e,i)}catch(i){await tc(e,i)}n1(e)&&r1(e)}function VN(t){return fs(t)&&t.O_.length<10}function bN(t,e){t.O_.push(e);const n=Ei(t);n.r_()&&n.V_&&n.m_(e.mutations)}function n1(t){return fs(t)&&!Ei(t).n_()&&t.O_.length>0}function r1(t){Ei(t).start()}async function LN(t){Ei(t).p_()}async function ON(t){const e=Ei(t);for(const n of t.O_)e.m_(n.mutations)}async function MN(t,e,n){const r=t.O_.shift(),i=Cp.from(r,e,n);await t1(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Oc(t)}async function FN(t,e){e&&Ei(t).V_&&await async function(r,i){if(function(o){return RD(o)&&o!==$.ABORTED}(i.code)){const s=r.O_.shift();Ei(r).s_(),await t1(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Oc(r)}}(t,e),n1(t)&&r1(t)}async function sv(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const r=fs(n);n.L_.add(3),await rl(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Lc(n)}async function UN(t,e){const n=ve(t);e?(n.L_.delete(2),await Lc(n)):e||(n.L_.add(2),await rl(n),n.q_.set("Unknown"))}function wo(t){return t.K_||(t.K_=function(n,r,i){const s=ve(n);return s.w_(),new SN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:xN.bind(null,t),Ro:kN.bind(null,t),mo:DN.bind(null,t),d_:NN.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Op(t)?Lp(t):t.q_.set("Unknown")):(await t.K_.stop(),e1(t))})),t.K_}function Ei(t){return t.U_||(t.U_=function(n,r,i){const s=ve(n);return s.w_(),new AN(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:LN.bind(null,t),mo:FN.bind(null,t),f_:ON.bind(null,t),g_:MN.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Oc(t)):(await t.U_.stop(),t.O_.length>0&&(oe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,l=new Mp(e,n,o,i,s);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Fp(t,e){if(Or("AsyncQueue",`${e}: ${t}`),Za(t))return new ie($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=Zo(),this.sortedSet=new st(this.comparator)}static emptySet(e){return new Ys(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ys)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ys;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this.W_=new st(he.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):me():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class co{constructor(e,n,r,i,s,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new co(e,n,Ys.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class BN{constructor(){this.queries=av(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=ve(n),s=i.queries;i.queries=av(),s.forEach((o,l)=>{for(const u of l.j_)u.onError(r)})})(this,new ie($.ABORTED,"Firestore shutting down"))}}function av(){return new _o(t=>AE(t),xc)}async function zN(t,e){const n=ve(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new jN,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const l=Fp(o,`Initialization of query '${Cs(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Up(n)}async function $N(t,e){const n=ve(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qN(t,e){const n=ve(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const l of o.j_)l.X_(i)&&(r=!0);o.z_=i}}r&&Up(n)}function HN(t,e,n){const r=ve(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function Up(t){t.Y_.forEach(e=>{e.next()})}var Xd,lv;(lv=Xd||(Xd={})).ea="default",lv.Cache="cache";class WN{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new co(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Xd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.key=e}}class s1{constructor(e){this.key=e}}class KN{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ae(),this.mutatedKeys=Ae(),this.Aa=RE(e),this.Ra=new Ys(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new ov,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,m)=>{const g=i.get(d),_=kc(this.query,m)?m:null,P=!!g&&this.mutatedKeys.has(g.key),D=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let V=!1;g&&_?g.data.isEqual(_.data)?P!==D&&(r.track({type:3,doc:_}),V=!0):this.ga(g,_)||(r.track({type:2,doc:_}),V=!0,(u&&this.Aa(_,u)>0||c&&this.Aa(_,c)<0)&&(l=!0)):!g&&_?(r.track({type:0,doc:_}),V=!0):g&&!_&&(r.track({type:1,doc:g}),V=!0,(u||c)&&(l=!0)),V&&(_?(o=o.add(_),s=D?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:l,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,m)=>function(_,P){const D=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return D(_)-D(P)}(d.type,m.type)||this.Aa(d.doc,m.doc)),this.pa(r),i=i!=null&&i;const l=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new co(this.query,e.Ra,s,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new ov,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ae(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new s1(r))}),this.da.forEach(r=>{e.has(r)||n.push(new i1(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ae();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return co.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class QN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class GN{constructor(e){this.key=e,this.va=!1}}class YN{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new _o(l=>AE(l),xc),this.Ma=new Map,this.xa=new Set,this.Oa=new st(he.comparator),this.Na=new Map,this.La=new kp,this.Ba={},this.ka=new Map,this.qa=uo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function XN(t,e,n=!0){const r=h1(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await o1(r,e,n,!0),i}async function JN(t,e){const n=h1(t);await o1(n,e,!0,!1)}async function o1(t,e,n,r){const i=await yN(t.localStore,pr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await ZN(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&JE(t.remoteStore,i),l}async function ZN(t,e,n,r,i){t.Ka=(m,g,_)=>async function(D,V,S,y){let A=V.view.ma(S);A.ns&&(A=await nv(D.localStore,V.query,!1).then(({documents:E})=>V.view.ma(E,A)));const b=y&&y.targetChanges.get(V.targetId),B=y&&y.targetMismatches.get(V.targetId)!=null,q=V.view.applyChanges(A,D.isPrimaryClient,b,B);return cv(D,V.targetId,q.wa),q.snapshot}(t,m,g,_);const s=await nv(t.localStore,e,!0),o=new KN(e,s.Ts),l=o.ma(s.documents),u=nl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,u);cv(t,n,c.wa);const d=new QN(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function e2(t,e,n){const r=ve(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!xc(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Yd(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Vp(r.remoteStore,i.targetId),Jd(r,i.targetId)}).catch(Ja)):(Jd(r,i.targetId),await Yd(r.localStore,i.targetId,!0))}async function t2(t,e){const n=ve(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vp(n.remoteStore,r.targetId))}async function n2(t,e,n){const r=u2(t);try{const i=await function(o,l){const u=ve(o),c=Rt.now(),d=l.reduce((_,P)=>_.add(P.key),Ae());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",_=>{let P=Mr(),D=Ae();return u.cs.getEntries(_,d).next(V=>{P=V,P.forEach((S,y)=>{y.isValidDocument()||(D=D.add(S))})}).next(()=>u.localDocuments.getOverlayedDocuments(_,P)).next(V=>{m=V;const S=[];for(const y of l){const A=ED(y,m.get(y.key).overlayedDocument);A!=null&&S.push(new ds(y.key,A,gE(A.value.mapValue),xr.exists(!0)))}return u.mutationQueue.addMutationBatch(_,c,S,l)}).next(V=>{g=V;const S=V.applyToLocalDocumentSet(m,D);return u.documentOverlayCache.saveOverlays(_,V.batchId,S)})}).then(()=>({batchId:g.batchId,changes:PE(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,l,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new st(Oe)),c=c.insert(l,u),o.Ba[o.currentUser.toKey()]=c}(r,i.batchId,n),await il(r,i.changes),await Oc(r.remoteStore)}catch(i){const s=Fp(i,"Failed to persist write");n.reject(s)}}async function a1(t,e){const n=ve(t);try{const r=await pN(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?ze(o.va):i.removedDocuments.size>0&&(ze(o.va),o.va=!1))}),await il(n,r,e)}catch(r){await Ja(r)}}function uv(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const l=o.view.Z_(e);l.snapshot&&i.push(l.snapshot)}),function(o,l){const u=ve(o);u.onlineState=l;let c=!1;u.queries.forEach((d,m)=>{for(const g of m.j_)g.Z_(l)&&(c=!0)}),c&&Up(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function r2(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new st(he.comparator);o=o.insert(s,Qt.newNoDocument(s,ye.min()));const l=Ae().add(s),u=new Vc(ye.min(),new Map,new st(Oe),o,l);await a1(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),jp(r)}else await Yd(r.localStore,e,!1).then(()=>Jd(r,e,n)).catch(Ja)}async function i2(t,e){const n=ve(t),r=e.batch.batchId;try{const i=await fN(n.localStore,e);u1(n,r,null),l1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await il(n,i)}catch(i){await Ja(i)}}async function s2(t,e,n){const r=ve(t);try{const i=await function(o,l){const u=ve(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(m=>(ze(m!==null),d=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);u1(r,e,n),l1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await il(r,i)}catch(i){await Ja(i)}}function l1(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function u1(t,e,n){const r=ve(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Jd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||c1(t,r)})}function c1(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Vp(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),jp(t))}function cv(t,e,n){for(const r of n)r instanceof i1?(t.La.addReference(r.key,e),o2(t,r)):r instanceof s1?(oe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||c1(t,r.key)):me()}function o2(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(oe("SyncEngine","New document in limbo: "+n),t.xa.add(r),jp(t))}function jp(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new he(Xe.fromString(e)),r=t.qa.next();t.Na.set(r,new GN(n)),t.Oa=t.Oa.insert(n,r),JE(t.remoteStore,new ii(pr(IE(n.path)),r,"TargetPurposeLimboResolution",wp.oe))}}async function il(t,e,n){const r=ve(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,u)=>{o.push(r.Ka(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){i.push(c);const m=Np.Wi(u.targetId,c);s.push(m)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(u,c){const d=ve(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>W.forEach(c,g=>W.forEach(g.$i,_=>d.persistence.referenceDelegate.addReference(m,g.targetId,_)).next(()=>W.forEach(g.Ui,_=>d.persistence.referenceDelegate.removeReference(m,g.targetId,_)))))}catch(m){if(!Za(m))throw m;oe("LocalStore","Failed to update sequence numbers: "+m)}for(const m of c){const g=m.targetId;if(!m.fromCache){const _=d.os.get(g),P=_.snapshotVersion,D=_.withLastLimboFreeSnapshotVersion(P);d.os=d.os.insert(g,D)}}}(r.localStore,s))}async function a2(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const r=await QE(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(l=>{l.forEach(u=>{u.reject(new ie($.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await il(n,r.hs)}}function l2(t,e){const n=ve(t),r=n.Na.get(e);if(r&&r.va)return Ae().add(r.key);{let i=Ae();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const l=n.Fa.get(o);i=i.unionWith(l.view.Va)}return i}}function h1(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=a1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r2.bind(null,e),e.Ca.d_=qN.bind(null,e.eventManager),e.Ca.$a=HN.bind(null,e.eventManager),e}function u2(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s2.bind(null,e),e}class hv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=bc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return dN(this.persistence,new cN,e.initialUser,this.serializer)}createPersistence(e){return new aN(Dp.Zr,this.serializer)}createSharedClientState(e){return new _N}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class c2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>uv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=a2.bind(null,this.syncEngine),await UN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BN}()}createDatastore(e){const n=bc(e.databaseInfo.databaseId),r=function(s){return new IN(s)}(e.databaseInfo);return function(s,o,l,u){return new RN(s,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,l){return new PN(r,i,s,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>uv(this.syncEngine,n,0),function(){return iv.D()?new iv:new wN}())}createSyncEngine(e,n){return function(i,s,o,l,u,c,d){const m=new YN(i,s,o,l,u,c);return d&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ve(i);oe("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await rl(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Wt.UNAUTHENTICATED,this.clientId=fE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{oe("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(oe("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie($.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Fp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Oh(t,e){t.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await QE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function dv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await p2(t);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>sv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>sv(e.remoteStore,i)),t._onlineComponents=e}function f2(t){return t.name==="FirebaseError"?t.code===$.FAILED_PRECONDITION||t.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function p2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Oh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!f2(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),await Oh(t,new hv)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await Oh(t,new hv);return t._offlineComponents}async function d1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await dv(t,t._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await dv(t,new c2))),t._onlineComponents}function m2(t){return d1(t).then(e=>e.syncEngine)}async function g2(t){const e=await d1(t),n=e.eventManager;return n.onListen=XN.bind(null,e.syncEngine),n.onUnlisten=e2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=JN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=t2.bind(null,e.syncEngine),n}function y2(t,e,n={}){const r=new mi;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,l,u,c){const d=new h2({next:g=>{o.enqueueAndForget(()=>$N(s,m)),g.fromCache&&u.source==="server"?c.reject(new ie($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),m=new WN(l,d,{includeMetadataChanges:!0,_a:!0});return zN(s,m)}(await g2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t,e,n){if(!n)throw new ie($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function v2(t,e,n,r){if(e===!0&&r===!0)throw new ie($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pv(t){if(!he.isDocumentKey(t))throw new ie($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mv(t){if(he.isDocumentKey(t))throw new ie($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Mc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":me()}function nc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mc(t);throw new ie($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ie($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fc{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ie($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new kk;switch(r.type){case"firstParty":return new bk(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ie($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fv.get(n);r&&(oe("ComponentProvider","Removing Datastore"),fv.delete(n),r.terminate())}(this),Promise.resolve()}}function _2(t,e,n,r={}){var i;const s=(t=nc(t,Fc))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=Wt.MOCK_USER;else{l=uw(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ie($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Wt(c)}t._authCredentials=new Dk(new dE(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Eo(this.firestore,e,this._query)}}class Mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class gi extends Eo{constructor(e,n,r){super(e,n,IE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new he(e))}withConverter(e){return new gi(this.firestore,e,this._path)}}function du(t,e,...n){if(t=tr(t),p1("collection","path",e),t instanceof Fc){const r=Xe.fromString(e,...n);return mv(r),new gi(t,null,r)}{if(!(t instanceof Mn||t instanceof gi))throw new ie($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return mv(r),new gi(t.firestore,null,r)}}function w2(t,e,...n){if(t=tr(t),arguments.length===1&&(e=fE.newId()),p1("doc","path",e),t instanceof Fc){const r=Xe.fromString(e,...n);return pv(r),new Mn(t,null,new he(r))}{if(!(t instanceof Mn||t instanceof gi))throw new ie($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Xe.fromString(e,...n));return pv(r),new Mn(t.firestore,t instanceof gi?t.converter:null,new he(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new YE(this,"async_queue_retry"),this.Eu=()=>{const n=Lh();n&&oe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Lh();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Lh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new mi;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Za(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw Or("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=Mp.createAndSchedule(this,e,n,r,s=>this.Vu(s));return this.lu.push(i),i}du(){this.hu&&me()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class Bp extends Fc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new E2}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||g1(this),this._firestoreClient.terminate()}}function T2(t,e){const n=typeof t=="object"?t:yw(),r=typeof t=="string"?t:"(default)",i=Ac(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=aw("firestore");s&&_2(i,...s)}return i}function m1(t){return t._firestoreClient||g1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function g1(t){var e,n,r;const i=t._freezeSettings(),s=function(l,u,c,d){return new Kk(l,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,f1(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new d2(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ho(Ft.fromBase64String(e))}catch(n){throw new ie($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ho(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ie($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=/^__.*__$/;class S2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new tl(e,this.data,n,this.fieldTransforms)}}function v1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class Hp{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.yu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return rc(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(v1(this.wu)&&I2.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class A2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bc(e)}Nu(e,n,r,i=!1){return new Hp({wu:e,methodName:n,Ou:r,path:bt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _1(t){const e=t._freezeSettings(),n=bc(t._databaseId);return new A2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function R2(t,e,n,r,i,s={}){const o=t.Nu(s.merge||s.mergeFields?2:0,e,n,i);T1("Data must be an object, but it was:",o,r);const l=w1(r,o);let u,c;if(s.merge)u=new Xn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const m of s.mergeFields){const g=P2(e,m,n);if(!o.contains(g))throw new ie($.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);k2(d,g)||d.push(g)}u=new Xn(d),c=o.fieldTransforms.filter(m=>u.covers(m.field))}else u=null,c=o.fieldTransforms;return new S2(new Nn(l),u,c)}function C2(t,e,n,r=!1){return Wp(n,t.Nu(r?4:3,e))}function Wp(t,e){if(E1(t=tr(t)))return T1("Unsupported field value:",e,t),w1(t,e);if(t instanceof y1)return function(r,i){if(!v1(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const l of r){let u=Wp(l,i.Fu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=tr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Rt.fromDate(r);return{timestampValue:ec(i.serializer,s)}}if(r instanceof Rt){const s=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ec(i.serializer,s)}}if(r instanceof $p)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ho)return{bytesValue:BE(i.serializer,r._byteString)};if(r instanceof Mn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:xp(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof qp)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw l.Mu("VectorValues must only contain numeric values.");return Rp(l.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Mc(r)}`)}(t,e)}function w1(t,e){const n={};return pE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vo(t,(r,i)=>{const s=Wp(i,e.bu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function E1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof $p||t instanceof ho||t instanceof Mn||t instanceof y1||t instanceof qp)}function T1(t,e,n){if(!E1(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Mc(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function P2(t,e,n){if((e=tr(e))instanceof zp)return e._internalPath;if(typeof e=="string")return I1(t,e);throw rc("Field path arguments must be of type string or ",t,!1,void 0,n)}const x2=new RegExp("[~\\*/\\[\\]]");function I1(t,e,n){if(e.search(x2)>=0)throw rc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zp(...e.split("."))._internalPath}catch{throw rc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function rc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ie($.INVALID_ARGUMENT,l+t+u)}function k2(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Kp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D2 extends S1{data(){return super.data()}}function Kp(t,e){return typeof e=="string"?I1(t,e):e instanceof zp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qp{}class V2 extends Qp{}function b2(t,e,...n){let r=[];e instanceof Qp&&r.push(e),r=r.concat(n),function(s){const o=s.filter(u=>u instanceof Gp).length,l=s.filter(u=>u instanceof Uc).length;if(o>1||o>0&&l>0)throw new ie($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Uc extends V2{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Uc(e,n,r)}_apply(e){const n=this._parse(e);return A1(e._query,n),new Eo(e.firestore,e.converter,qd(e._query,n))}_parse(e){const n=_1(e.firestore);return function(s,o,l,u,c,d,m){let g;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ie($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){vv(m,d);const _=[];for(const P of m)_.push(yv(u,s,P));g={arrayValue:{values:_}}}else g=yv(u,s,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||vv(m,d),g=C2(l,o,m,d==="in"||d==="not-in");return wt.create(c,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function L2(t,e,n){const r=e,i=Kp("where",t);return Uc._create(i,r,n)}class Gp extends Qp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Gp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const l=s.getFlattenedFilters();for(const u of l)A1(o,u),o=qd(o,u)}(e._query,n),new Eo(e.firestore,e.converter,qd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yv(t,e,n){if(typeof(n=tr(n))=="string"){if(n==="")throw new ie($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SE(e)&&n.indexOf("/")!==-1)throw new ie($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Xe.fromString(n));if(!he.isDocumentKey(r))throw new ie($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Uy(t,new he(r))}if(n instanceof Mn)return Uy(t,n._key);throw new ie($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mc(n)}.`)}function vv(t,e){if(!Array.isArray(t)||t.length===0)throw new ie($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function A1(t,e){const n=function(i,s){for(const o of i)for(const l of o.getFlattenedFilters())if(s.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ie($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class O2{convertValue(e,n="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return vo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>dt(o.doubleValue));return new qp(s)}convertGeoPoint(e){return new $p(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Tp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ja(e));default:return null}}convertTimestamp(e){const n=wi(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Xe.fromString(e);ze(KE(r));const i=new Ba(r.get(1),r.get(3)),s=new he(r.popFirst(5));return i.isEqual(n)||Or(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class F2 extends S1{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Kp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class fu extends F2{data(e={}){return super.data(e)}}class U2{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Wl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new fu(this._firestore,this._userDataWriter,r.key,r,new Wl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>{const u=new fu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Wl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>s||l.type!==3).map(l=>{const u=new fu(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Wl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return l.type!==0&&(c=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),d=o.indexOf(l.doc.key)),{type:j2(l.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function j2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}class B2 extends O2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,n)}}function _v(t){t=nc(t,Eo);const e=nc(t.firestore,Bp),n=m1(e),r=new B2(e);return N2(t._query),y2(n,t._query).then(i=>new U2(e,r,t,i))}function R1(t,e){const n=nc(t.firestore,Bp),r=w2(t),i=M2(t.converter,e);return z2(n,[R2(_1(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,xr.exists(!1))]).then(()=>r)}function z2(t,e){return function(r,i){const s=new mi;return r.asyncQueue.enqueueAndForget(async()=>n2(await m2(r),i,s)),s.promise}(m1(t),e)}(function(e,n=!0){(function(i){yo=i})(mw),Lr(new gr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),l=new Bp(new Nk(r.getProvider("auth-internal")),new Ok(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ie($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ba(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Ln(by,"4.7.2",e),Ln(by,"4.7.2","esm2017")})();const $2={apiKey:"AIzaSyAPwWD6oJoDm8QyYtS4BmsL0RfW5srJL6U",authDomain:"react-hook-form-f0a41.firebaseapp.com",projectId:"react-hook-form-f0a41",storageBucket:"react-hook-form-f0a41.appspot.com",messagingSenderId:"1093039396138",appId:"1:1093039396138:web:edcdb9c480d985221c7a53",measurementId:"G-WBJVH0M5HN"},C1=gw($2),q2=Rk(C1),pu=T2(C1),H2=()=>{let[t,e]=H.useState(""),[n,r]=H.useState(""),[i,s]=H.useState(!1),[o,l]=H.useState("male"),[u,c]=H.useState("yes"),[d,m]=H.useState("matric");const g=tp(),{register:_,handleSubmit:P,watch:D,formState:{errors:V}}=iw();function S(E){l(E.target.value)}function y(E){console.log(`before: ${u}`),c(E.target.value),console.log(E.target.value),console.log(`After: ${u}`)}function A(E){m(E.target.value)}async function b(E){const p=document.getElementById("form");if(console.log(E),E.email!==""||E.email!==null){s(!0),e(E.email),q(E.profileImage[0],E.email);const w=await q(E.profileImage[0],E.email);console.log(w),console.log(o),(w!==""||w!==null)&&(E.userImage=w,E.userGender=o,E.haveUserLaptop=u,E.userLastQualification=d,console.log(E)),B(E),r(w)}else s(!1);p.reset()}async function B(E){console.log(E),console.log(E.haveUserLaptop);try{const p=await R1(du(pu,"users"),{fullname:E.fullname,fathername:E.fathername,email:E.email,cnic:E.cnic,address:E.address,dateofbirth:E.dateofbirth,phonenumber:E.phonenumber,userProfile:E.userImage,userGender:o,haveUserLaptop:u,userLastQualification:d});console.log("Document written with ID: ",p.id)}catch(p){console.error("Error adding document: ",p)}}async function q(E,p){const w=Ak(q2,p);try{const I=await Ik(w,E),R=await Sk(w);return s(!1),console.log(R),g("/admission"),R}catch(I){console.log(I)}}return j.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen",children:j.jsxs("div",{className:"w-full max-w-full p-8 px-[100px] rounded-lg shadow-md pt-5",children:[j.jsxs("div",{className:"flex justify-center mb-8 bg-gray-100 p-2 w-fit rounded-[20px] mx-auto",children:[j.jsx(Ma,{to:"/",children:j.jsx("button",{className:"bg-gray-300 py-1  text-black px-4 rounded-l-lg focus:outline-none",children:"Admission Form"})}),j.jsx(Ma,{to:"/admission",children:j.jsx("button",{className:"bg-gray-200  text-black py-1 px-4 rounded-r-lg focus:outline-none",children:"Verify Admission"})})]}),j.jsx("h1",{className:"text-3xl font-bold text-center  mb-8",children:"Admission Form"}),j.jsx("form",{onSubmit:P(b),id:"form",children:j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[j.jsxs("div",{className:"flex flex-col",children:[j.jsx("label",{className:"mb-1",htmlFor:"fullName",children:"Full Name"}),j.jsx("input",{className:"border border-gray-300 p-2 rounded-lg focus:ring focus:ring-offset-2 focus:ring-pastel",type:"text",placeholder:"Full Name",..._("fullname",{required:!0,pattern:{value:/^[A-Z][a-z]*.*$/}})}),V.fullname&&j.jsx("span",{className:"text-red-500",children:V.fullname.type==="required"?"Full Name is required.":"First letter must be capitalized."})]}),j.jsxs("div",{className:"flex flex-col",children:[j.jsx("label",{className:"mb-1",htmlFor:"fatherName",children:"Father Name"}),j.jsx("input",{className:"border border-gray-300 p-2 rounded-lg focus:ring focus:ring-offset-2 focus:ring-pastel",type:"text",placeholder:"Father Name",..._("fathername",{required:!0,pattern:{value:/^[A-Z][a-z]*.*$/}})}),V.fathername&&j.jsx("span",{className:"text-red-500",children:V.fathername.type==="required"?"Father Name is required.":"First letter must be capitalized."})]}),j.jsxs("div",{className:"flex flex-col",children:[j.jsx("label",{className:"mb-1 ",htmlFor:"email",children:"Email"}),j.jsx("input",{className:"border border-gray-300 p-2 rounded-lg focus:ring focus:ring-offset-2 focus:ring-pastel",type:"email",placeholder:"Email",..._("email",{required:!0})}),V.email&&j.jsx("span",{className:"text-red-500",children:"Email is required."})]}),j.jsxs("div",{className:"flex flex-col",children:[j.jsx("label",{className:"mb-1 ",htmlFor:"phone",children:"Phone Number"}),j.jsx("input",{className:"border border-gray-300 p-2 rounded-lg focus:ring focus:ring-offset-2 focus:ring-pastel",type:"number",placeholder:"Phone Number",..._("phonenumber",{required:!0,minLength:11,maxLength:11,pattern:{value:"/^03d{8}$/",message:"Phone Number must start with '03' and be 11 digits long."}})}),V.phonenumber&&j.jsx("span",{className:"text-red-500",children:V.phonenumber.type==="required"?"Phone Number is required.":V.phonenumber.type==="minLength"||V.phonenumber.type==="maxLength"?"Phone Number length must be equal to 11.":V.phonenumber.type==="pattern"?"Phone Number must starts with 03":"Phone Number should meet the prevous requirements."})]}),j.jsxs("div",{className:"flex flex-col",children:[j.jsx("label",{className:"mb-1 ",htmlFor:"cnic",children:"National ID (CNIC)"}),j.jsx("input",{className:"border border-gray-300 p-2 rounded-lg focus:ring focus:ring-offset-2 focus:ring-pastel",type:"number",placeholder:"CNIC",..._("cnic",{required:!0,minLength:13,maxLength:13})}),V.cnic&&V.cnic.type==="required"&&j.jsx("span",{className:"text-red-500",children:"CNIC is required."}),V.cnic&&V.cnic.type==="minLength"&&j.jsx("span",{className:"text-red-500",children:"CNIC must be at least 13 characters long."}),V.cnic&&V.cnic.type==="maxLength"&&j.jsx("span",{className:"text-red-500",children:"CNIC must be exactly 13 characters long."})]}),j.jsxs("div",{className:"flex flex-col",children:[j.jsx("label",{className:"mb-1 ",htmlFor:"dob",children:"Date of Birth"}),j.jsx("input",{className:"border border-gray-300 p-2 rounded-lg focus:ring focus:ring-offset-2 focus:ring-pastel",type:"date",..._("dateofbirth",{required:!0})}),V.dateofbirth&&j.jsx("span",{className:"text-red-500",children:"Date of Birth is required."})]}),j.jsxs("div",{className:"flex flex-col",children:[j.jsx("label",{className:"mb-1 ",htmlFor:"gender",children:"Gender"}),j.jsxs("select",{className:"border border-gray-300 p-2 rounded-lg focus:ring focus:ring-offset-2 focus:ring-pastel",id:"gender",name:"gender",value:o,onChange:S,children:[j.jsx("option",{value:"male",children:"Male"}),j.jsx("option",{value:"female",children:"Female"})]})]}),j.jsxs("div",{className:"flex flex-col",children:[j.jsx("label",{className:"mb-1",htmlFor:"laptop",children:"Do you have a Laptop?"}),j.jsxs("select",{className:"border border-gray-300 p-2 rounded-lg focus:ring focus:ring-offset-2 focus:ring-pastel",id:"laptop",name:"laptop",value:u,onChange:y,children:[j.jsx("option",{value:"yes",children:"Yes"}),j.jsx("option",{value:"no",children:"No"})]})]}),j.jsxs("div",{className:"flex flex-col col-span-2",children:[j.jsx("label",{className:"mb-1 text-gray-600",htmlFor:"address",children:"Address"}),j.jsx("input",{className:"border border-gray-300 p-2 rounded-lg focus:ring focus:ring-offset-2 focus:ring-pastel",type:"text",placeholder:"Address",..._("address",{required:!0})}),V.address&&j.jsx("span",{className:"text-red-500",children:"Address is required."})]}),j.jsxs("div",{className:"flex flex-col col-span-2",children:[j.jsx("label",{className:"mb-1",htmlFor:"qualification",children:"Last Qualification"}),j.jsxs("select",{className:"border border-gray-300 p-2 rounded-lg focus:ring focus:ring-offset-2 focus:ring-pastel",id:"qualification",name:"qualification",value:d,onChange:A,children:[j.jsx("option",{value:"matric",children:"Matric"}),j.jsx("option",{value:"intermediate",children:"Intermediate"}),j.jsx("option",{value:"bachelors",children:"Bachelors"}),j.jsx("option",{value:"masters",children:"Masters"})]})]}),j.jsxs("div",{className:"flex flex-col col-span-2",children:[j.jsx("label",{className:"mb-1 ",htmlFor:"profileImage",children:"Profile Image"}),j.jsx("input",{className:"border border-gray-300 p-2 rounded-lg focus:ring focus:ring-offset-2 focus:ring-pastel",type:"file",id:"profileImage",..._("profileImage",{required:!0})}),V.profileImage&&j.jsx("span",{className:"text-red-500",children:"Profile Image is required."})]}),j.jsx("div",{className:"col-span-2",children:j.jsxs("ul",{className:"list-disc ml-5 ",children:[j.jsx("li",{children:"With white or blue background"}),j.jsx("li",{children:"File type: jpg, jpeg, png"}),j.jsx("li",{children:"Upload your recent passport-size picture"}),j.jsx("li",{children:"Your face should be clearly visible without any glasses"})]})}),j.jsx("div",{className:"col-span-2",children:i?j.jsxs("button",{className:"btn btn-primary w-full  text-white py-3 rounded-lg hover:bg-indigo-700 transition duration-300",children:[j.jsx("span",{className:"loading loading-spinner"}),"Submitting"]}):j.jsx("button",{className:"btn btn-primary w-full  text-white py-3 rounded-lg hover:bg-indigo-700 transition duration-300",children:"Submit"})})]})})]})})},W2=()=>{tp();let[t,e]=H.useState(!1),[n,r]=H.useState(!1),[i,s]=H.useState(3),[o,l]=H.useState(""),[u,c]=H.useState(!1);H.useState([]);const{register:d,handleSubmit:m,watch:g,formState:{errors:_}}=iw();H.useEffect(()=>{async function S(){try{(await _v(du(pu,"verifiedUsers"))).forEach(A=>{console.log(A.id," => ",A.data()),console.log(A.data().cnic),A.data().cnic===o&&(c(!0),console.log("Setuser already verified condition is true."))})}catch(y){console.log(y)}}S()},[o,u]);async function P(S){if(u===!0){alert("You are already verified.");return}l(S.cnic),D(S.cnic)}async function D(S){try{const y=b2(du(pu,"users"),L2("cnic","==",S));(await _v(y)).forEach(b=>{r(!0),console.log(b.id," => ",b.data()),V(b.id,b.data())})}catch(y){console.log(y),r(!1)}}async function V(S,y){if(u===!0){alert("You are already verified");return}try{console.log(y.cnic);const A=await R1(du(pu,"verifiedUsers"),y);console.log(y.cnic),console.log("Document written with ID: ",A.id),r(!1),setInterval(()=>{s(i-1)},500)}catch(A){console.log(A)}}return j.jsx("div",{className:"flex flex-col  justify-center ",children:j.jsxs("div",{className:"w-full max-w-full  p-8 rounded-lg shadow-md pt-5",children:[j.jsxs("div",{className:"flex justify-center mb-8 bg-gray-100 p-2 w-fit rounded-[20px] mx-auto",children:[j.jsx(Ma,{to:"/",children:j.jsx("button",{className:"bg-gray-200 py-1 px-4 text-black rounded-l-lg focus:outline-none",children:"Admission Form"})}),j.jsx(Ma,{to:"/admission",children:j.jsx("button",{className:"bg-gray-300 text-black py-1 px-4 rounded-r-lg focus:outline-none",children:"Verify Admission"})})]}),j.jsx("h1",{className:"text-3xl font-bold text-center mb-8",children:"Admission Verification"}),j.jsxs("form",{onSubmit:m(P),children:[j.jsxs("div",{className:"flex flex-col mb-8",children:[j.jsx("label",{className:"mb-1",htmlFor:"cnic",children:"CNIC (Which you provided during form submission)"}),j.jsx("input",{className:"border border-gray-300 p-2 rounded-lg focus:ring focus:ring-offset-2 focus:ring-pastel",type:"text",placeholder:"CNIC",...d("cnic",{required:!0,minLength:13,maxLength:13})}),_.cnic&&_.cnic.type==="required"&&j.jsx("span",{className:"text-red-500",children:"CNIC is required."}),_.cnic&&_.cnic.type==="minLength"&&j.jsx("span",{className:"text-red-500",children:"CNIC must be at least 13 characters long."}),_.cnic&&_.cnic.type==="maxLength"&&j.jsx("span",{className:"text-red-500",children:"CNIC must be exactly 13 characters long."})]}),j.jsxs("div",{children:[n?j.jsxs("button",{className:"btn btn-primary w-full  text-white py-3 rounded-lg hover:bg-indigo-700 transition duration-300",children:[j.jsx("span",{className:"loading loading-spinner"}),"Submitting"]}):j.jsx("button",{className:"w-full btn  btn-primary text-white py-3 rounded-lg hover:bg-indigo-700 transition duration-300",children:"Submit"}),t?j.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 bg-gray-800 bg-opacity-50",children:j.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-96",children:[j.jsxs("div",{className:"flex items-center mb-4",children:[j.jsx("svg",{className:"w-6 h-6 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:j.jsx("path",{d:"M10 0C4.48 0 0 4.48 0 10s4.48 10 10 10 10-4.48 10-10S15.52 0 10 0zm5 7l-6 6-3-3 1.41-1.41L10 10.17l5.59-5.59L15 7z"})}),j.jsx("h2",{className:"text-lg font-semibold",children:"Verified"})]}),j.jsx("p",{className:"text-gray-600 mb-4",children:"You are verified."}),j.jsx("div",{className:"flex justify-end",children:j.jsx("h1",{children:i})})]})}):null]})]})]})})},K2=jA([{path:"/",element:j.jsx(nR,{}),children:[{path:"/",element:j.jsx(H2,{})},{path:"admission",element:j.jsx(W2,{})},{path:"home",element:j.jsx(rR,{})}]}]);b0(document.getElementById("root")).render(j.jsx(GA,{router:K2}));
